dev27 run-test-pre: PYTHONHASHSEED='3904255838'
dev27 run-test: commands[0] | python -c 'print((80*"~")+"\ntestenv:dev-python2.7\n"+(80*"~"))'
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
testenv:dev-python2.7
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
dev27 run-test: commands[1] | python setup.py test
running test
WARNING: Testing via this command is deprecated and will be removed in a future version. Users looking for a generic test entry point independent of test runner are encouraged to use tox.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support pip 21.0 will remove support for this functionality.
running egg_info
writing dependency_links to arctic.egg-info/dependency_links.txt
writing arctic.egg-info/PKG-INFO
writing entry points to arctic.egg-info/entry_points.txt
writing requirements to arctic.egg-info/requires.txt
writing top-level names to arctic.egg-info/top_level.txt
writing manifest file 'arctic.egg-info/SOURCES.txt'
running build_ext
============================= test session starts ==============================
platform linux2 -- Python 2.7.12, pytest-4.6.11, py-1.10.0, pluggy-0.13.1
cachedir: .tox/dev27/.pytest_cache
rootdir: /home/cwm/git/bb.FLXSA/quant/arctic_878
plugins: shutil-1.7.0, forked-1.3.0, cov-2.10.1, server-fixtures-1.7.0, timeout-1.4.2, xdist-1.26.1
collected 1339 items

tests/integration/test_arctic.py .2021-01-15 13:44:03,741 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:44:07,382 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:44:11,692 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:44:16,026 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:44:22,473 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
F.2021-01-15 13:44:32,378 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:44:36,817 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:44:41,166 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
....2021-01-15 13:44:54,376 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:44:58,657 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:45:02,945 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:45:07,936 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:45:13,531 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:45:18,650 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:45:23,585 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:45:28,983 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:45:33,342 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                   [  1%]
tests/integration/test_arctic_multithreading.py .2021-01-15 13:45:57,976 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:46:22,600 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                       [  1%]
tests/integration/test_async_arctic.py .                                 [  1%]
tests/integration/test_compress_integration.py ..........                [  2%]
tests/integration/test_concurrent_append.py .2021-01-15 13:54:33,660 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                            [  2%]
tests/integration/test_decorators.py .2021-01-15 13:54:38,089 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                                   [  2%]
tests/integration/test_howtos.py .2021-01-15 13:54:42,135 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:54:46,997 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                                      [  2%]
tests/integration/chunkstore/test_chunkstore.py .2021-01-15 13:54:51,716 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:54:56,342 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:00,881 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:05,548 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:10,125 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:14,936 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:19,625 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:24,076 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:28,590 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:33,532 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:38,121 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:42,653 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:47,197 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:51,695 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:55:56,236 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:00,663 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:05,862 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:10,653 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:15,261 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:19,702 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:24,113 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:28,518 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:33,408 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:37,980 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
 [  4%]
.2021-01-15 13:56:42,480 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:46,924 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:51,487 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:56:56,203 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:57:00,678 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:57:05,106 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:57:09,538 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:57:14,173 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:57:52,943 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:58:14,275 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:58:18,854 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:58:23,450 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:58:27,841 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:58:32,589 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:58:37,145 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:58:41,805 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:58:46,345 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:58:51,128 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
....2021-01-15 13:59:08,595 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:59:14,193 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:59:18,624 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:59:23,099 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:59:27,501 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:59:31,898 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:59:36,344 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:59:41,023 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:59:45,501 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:59:49,998 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 13:59:54,608 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
..2021-01-15 14:00:04,034 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:00:08,574 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:00:12,959 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:00:17,350 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:00:29,788 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:00:54,640 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:01:12,067 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:01:34,641 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:01:46,702 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:01:51,078 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:01:55,987 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
..2021-01-15 14:02:05,124 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:02:26,566 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:02:48,132 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:02:52,468 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:02:56,899 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:01,135 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:05,481 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:09,834 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:14,176 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:18,422 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:23,801 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:28,030 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:32,557 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:37,087 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:41,321 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:46,262 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:51,167 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:03:56,552 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
          [  9%]
tests/integration/chunkstore/test_fixes.py .2021-01-15 14:04:00,947 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:04:08,533 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:04:13,891 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:04:18,301 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:04:23,736 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:04:28,605 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:04:33,025 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:04:37,274 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                      [  9%]
tests/integration/chunkstore/test_utils.py .2021-01-15 14:04:41,641 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                             [ 10%]
tests/integration/chunkstore/tools/test_tools.py .2021-01-15 14:04:52,699 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                       [ 10%]
tests/integration/fixtures/test_arctic.py .2021-01-15 14:04:56,401 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:05:00,772 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:05:04,723 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                            [ 10%]
tests/integration/scripts/test_arctic_fsck.py .2021-01-15 14:05:09,437 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:05:14,045 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:05:18,668 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:05:23,253 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:05:27,900 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:05:32,511 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
F2021-01-15 14:05:42,134 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
FFFFF.2021-01-15 14:06:05,764 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:10,382 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:14,960 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:18,890 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:23,623 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:28,296 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:32,747 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:37,324 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:41,938 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:46,615 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:51,315 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:06:56,028 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:00,639 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:05,238 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
 [ 12%]
.2021-01-15 14:07:09,733 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:14,298 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:18,924 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:23,575 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:28,077 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:32,664 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:37,275 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:41,888 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:46,374 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:50,990 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:07:55,659 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:00,502 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:05,121 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:09,974 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:14,829 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:19,552 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:24,190 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:28,824 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:33,408 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:38,059 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:42,760 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:08:47,469 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
F2021-01-15 14:08:56,760 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
FF2021-01-15 14:09:06,118 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
FF2021-01-15 14:09:15,568 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
F.2021-01-15 14:09:20,337 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:09:24,932 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:09:29,427 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:09:34,104 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:09:38,844 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:09:43,585 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:09:48,507 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:09:52,978 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:09:57,575 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:02,129 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:06,858 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:11,642 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:16,290 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:20,913 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:25,537 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:30,235 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:34,956 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:39,804 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:44,498 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:49,129 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:53,766 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:10:58,482 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:11:03,171 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:11:07,850 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                     [ 16%]
tests/integration/scripts/test_copy_data.py .2021-01-15 14:11:13,138 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:11:18,676 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:11:24,379 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:11:29,778 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:11:34,822 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                        [ 16%]
tests/integration/scripts/test_delete_library.py .2021-01-15 14:11:40,231 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:11:45,605 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:11:51,013 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:11:56,435 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:12:01,603 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                   [ 16%]
tests/integration/scripts/test_enable_sharding.py .2021-01-15 14:12:06,159 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:12:10,517 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:12:14,896 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                    [ 17%]
tests/integration/scripts/test_initialize_library.py .2021-01-15 14:12:19,266 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:12:23,662 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:12:28,090 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:12:31,633 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                [ 17%]
tests/integration/scripts/test_list_libraries.py .2021-01-15 14:12:36,037 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:12:40,387 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:12:44,790 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                     [ 17%]
tests/integration/scripts/test_prune_versions.py .2021-01-15 14:12:49,200 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:12:53,970 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:12:58,518 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
FF                   [ 17%]
tests/integration/store/test_bitemporal_store.py .2021-01-15 14:13:12,202 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:13:16,808 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:13:21,435 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:13:26,022 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:13:30,663 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:13:35,344 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:13:40,313 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:13:45,049 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:13:49,710 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:13:54,639 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:13:59,647 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:04,117 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:08,700 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:13,251 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:17,805 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:22,396 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
        [ 19%]
tests/integration/store/test_metadata_store.py .2021-01-15 14:14:26,358 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:30,355 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:34,370 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:38,489 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:42,695 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:46,727 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:50,773 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:54,794 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:14:58,806 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:15:02,834 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                [ 19%]
tests/integration/store/test_ndarray_store.py .2021-01-15 14:15:07,585 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:15:12,051 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
x.2021-01-15 14:15:32,326 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:15:47,984 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:16:03,909 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:16:08,423 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:16:12,962 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:16:17,484 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:16:32,867 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:16:48,737 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:17:04,466 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:17:08,941 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:17:13,405 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:17:17,870 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:17:22,419 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:17:27,000 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:17:31,561 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
..2021-01-15 14:17:37,218 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:17:41,779 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:17:46,291 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
     [ 21%]
tests/integration/store/test_ndarray_store_append.py .2021-01-15 14:17:50,838 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:17:55,378 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:17:59,914 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:04,444 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:08,959 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:13,505 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:17,973 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:22,458 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:26,874 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:31,525 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:36,005 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:40,362 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:44,821 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:49,307 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:18:53,812 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:19:02,910 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:19:12,302 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:19:21,517 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:19:27,435 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
 [ 23%]
.2021-01-15 14:19:33,445 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:19:39,588 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:19:45,545 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:19:52,531 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:19:57,048 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:01,770 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:06,431 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:10,958 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:15,477 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:20,009 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:24,509 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:29,187 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:34,056 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:38,732 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:44,166 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:49,669 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:55,210 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:20:59,898 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:04,835 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:09,605 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:14,160 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:18,766 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:23,384 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:28,099 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:32,934 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:37,549 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:42,190 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:46,799 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                                             [ 25%]
tests/integration/store/test_pandas_store.py .2021-01-15 14:21:51,410 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:21:55,951 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:00,512 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:05,073 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:09,650 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:14,213 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:18,773 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:23,325 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:27,896 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:32,349 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:36,885 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:41,427 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:45,882 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:50,530 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:55,150 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:22:59,689 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:04,288 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:08,828 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:13,668 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:18,171 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:22,760 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:27,310 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:31,855 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:36,408 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:41,131 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:45,679 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:50,189 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
 [ 27%]
.2021-01-15 14:23:54,711 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:23:59,236 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:03,837 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:08,379 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:12,900 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:17,406 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:21,916 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:26,457 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:31,032 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:35,572 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:40,120 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:44,676 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:49,254 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:54,008 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:24:58,501 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:02,872 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:07,378 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:11,874 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:16,359 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:20,837 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:25,335 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:29,812 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:34,301 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:38,816 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:43,302 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:48,004 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:52,493 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:25:56,944 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:01,432 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:05,929 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:09,671 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:14,102 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:18,598 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:23,153 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:26,873 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:31,349 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:35,991 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:40,482 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:45,007 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:49,548 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:54,039 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:26:58,524 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:02,976 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:07,465 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:11,980 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:16,483 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:20,218 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:24,832 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:29,320 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:33,722 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:38,153 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:42,654 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:47,244 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:51,769 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:27:58,264 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:28:08,957 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:28:13,600 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:28:18,109 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:28:22,937 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:28:27,497 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:28:32,010 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:28:36,570 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:28:41,094 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:28:45,622 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:28:50,148 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:28:54,685 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:28:59,246 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:29:03,676 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
X2021-01-15 14:29:08,139 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:29:12,746 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:29:17,247 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:29:21,481 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
 [ 32%]
.2021-01-15 14:29:26,057 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:29:30,645 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
x.2021-01-15 14:29:40,089 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:29:45,720 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:29:51,458 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:29:56,281 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:30:04,632 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:30:49,193 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:30:54,165 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:30:58,985 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:07,726 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:12,289 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:16,833 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:21,377 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:25,888 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:30,401 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:34,875 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:39,548 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:44,142 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:48,636 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:53,234 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:31:57,779 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
ss                                                [ 34%]
tests/integration/store/test_pickle_store.py .2021-01-15 14:32:02,228 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:32:07,258 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:32:11,700 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:32:15,477 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:32:20,656 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:32:25,160 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:32:29,676 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:32:34,284 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:32:38,756 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                   [ 35%]
tests/integration/store/test_version_store.py .2021-01-15 14:32:43,343 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
x2021-01-15 14:32:52,921 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:32:52,924 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
x.2021-01-15 14:32:57,793 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:02,287 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:06,761 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:11,254 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:15,719 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:20,193 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:24,569 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:29,284 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:33,805 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:38,326 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:42,788 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:47,270 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:33:54,843 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:01,662 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:09,196 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:13,281 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:18,180 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:23,042 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:27,554 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:32,377 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:36,815 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:41,377 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:45,961 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
 [ 36%]
.2021-01-15 14:34:50,554 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:55,076 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:34:59,581 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:04,094 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:08,699 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:13,300 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:17,907 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:22,618 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:27,237 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:31,859 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:36,446 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:40,958 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:45,421 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:50,065 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:54,744 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:35:59,437 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:04,129 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:08,710 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:13,566 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:17,354 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:21,846 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:26,313 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:30,761 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:35,246 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:39,846 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:44,468 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:49,173 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:53,930 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:36:58,651 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:03,120 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:07,680 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:12,388 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:17,090 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:21,754 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:26,421 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:31,124 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:35,628 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:40,080 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:44,549 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:49,465 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:54,100 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:37:58,717 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:03,299 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:07,903 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:12,560 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:17,004 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:21,467 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:25,937 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:30,491 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:35,025 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:39,513 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:44,109 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:48,724 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:53,328 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:38:57,976 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:02,633 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:07,093 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:11,851 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:16,592 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:21,349 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:26,014 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:30,918 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:35,621 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:40,508 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:45,363 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:50,119 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:39:55,074 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:00,198 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:05,252 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:09,828 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:14,352 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:18,871 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
 [ 42%]
.2021-01-15 14:40:23,380 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:27,918 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:32,430 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:36,944 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:41,484 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:46,024 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:50,534 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:55,073 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:40:59,616 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:41:04,151 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:41:08,656 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:41:12,459 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:41:17,683 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:41:22,972 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:41:28,115 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:41:43,740 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:41:59,680 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:42:15,688 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:42:20,269 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:42:24,862 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:42:29,481 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:42:36,091 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:42:42,585 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:42:49,143 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:42:53,524 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:42:57,984 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:02,443 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:06,991 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:10,784 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:15,349 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:21,911 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:27,683 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:33,563 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:37,431 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:42,248 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:46,077 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:50,748 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:43:55,458 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:00,042 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:04,528 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:09,071 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:13,694 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:20,234 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:26,119 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:32,656 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:38,594 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:44,461 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:51,104 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:44:55,658 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:00,187 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:04,683 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:09,379 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:14,050 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:18,664 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:23,312 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:27,945 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:32,912 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:37,460 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:42,020 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:46,565 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:51,104 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:45:55,630 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:00,161 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:04,802 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:09,356 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:13,997 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:18,560 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:22,322 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:26,835 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:31,366 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:35,892 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:39,687 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
 [ 47%]
.2021-01-15 14:46:44,651 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:49,554 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:54,530 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:46:59,096 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:03,693 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:08,443 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:12,234 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:16,693 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:21,175 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:25,694 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:30,062 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:34,509 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:38,952 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:43,497 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:47,278 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:51,754 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:47:56,312 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:00,869 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:04,622 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:09,069 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:13,517 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:17,971 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:22,294 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:26,644 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:31,023 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:35,387 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:39,183 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:43,735 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:48,274 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:52,772 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:48:57,194 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:00,930 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:05,460 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:09,952 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:14,364 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:18,749 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:23,198 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:27,848 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:31,867 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:36,479 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:41,112 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:45,751 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:50,300 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:54,911 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:49:59,579 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:50:04,234 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:50:08,966 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:50:13,700 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:50:18,389 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:50:23,168 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:50:28,001 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:50:32,469 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:50:59,882 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:51:16,993 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:51:33,901 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:51:50,834 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:52:07,724 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:52:24,687 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:52:41,563 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
              [ 52%]
tests/integration/store/test_version_store_audit.py .2021-01-15 14:52:46,127 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:52:50,805 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:52:55,554 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:53:00,250 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:53:04,972 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:53:09,541 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:53:14,319 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:53:18,952 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:53:23,596 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:53:28,258 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
           [ 52%]
tests/integration/store/test_version_store_corruption.py .2021-01-15 14:53:37,371 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:53:46,220 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:54:00,578 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:54:07,184 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:54:13,774 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
s..2021-01-15 14:54:32,416 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:54:37,125 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.      [ 53%]
tests/integration/tickstore/test_toplevel.py .2021-01-15 14:54:58,636 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:55:02,523 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:55:06,474 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:55:10,412 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:55:14,331 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:55:18,274 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:55:22,206 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:55:26,184 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:55:30,124 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.FFF.2021-01-15 14:55:52,205 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
F..x.2021-01-15 14:56:13,798 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:56:18,989 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:56:23,855 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:56:28,382 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
FF.2021-01-15 14:56:41,974 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:56:45,312 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:56:49,225 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
 [ 55%]
.2021-01-15 14:56:53,144 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:56:57,832 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                                                                       [ 55%]
tests/integration/tickstore/test_ts_delete.py .2021-01-15 14:57:01,836 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:57:05,997 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                         [ 55%]
tests/integration/tickstore/test_ts_read.py .2021-01-15 14:57:10,143 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:57:14,261 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:57:17,621 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:57:21,675 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:57:25,767 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:57:29,905 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:57:34,024 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
FF.2021-01-15 14:57:45,827 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:57:49,921 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:57:54,032 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:57:57,697 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:57:57,699 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:57:57,701 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:57:57,703 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:57:57,704 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:57:57,705 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:57:57,705 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:57:57,706 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
F.2021-01-15 14:58:01,983 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:06,054 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:10,109 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:14,217 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:18,379 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:22,462 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:26,565 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:29,926 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:34,064 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:38,130 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:42,213 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:46,288 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:58:50,361 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.  [ 57%]
tests/integration/tickstore/test_ts_write.py .2021-01-15 14:58:58,557 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:59:02,572 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:59:06,774 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:59:10,899 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
.2021-01-15 14:59:15,005 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
                       [ 58%]
tests/unit/test_arctic.py ....................................           [ 61%]
tests/unit/test_auth.py ...                                              [ 61%]
tests/unit/test_compress.py .............                                [ 62%]
tests/unit/test_compression.py ..........                                [ 62%]
tests/unit/test_decorators_unit.py ......x.....                          [ 63%]
tests/unit/test_fixtures.py ...                                          [ 64%]
tests/unit/test_hooks.py ...                                             [ 64%]
tests/unit/test_hosts.py ......                                          [ 64%]
tests/unit/test_multi_index.py ..............                            [ 65%]
tests/unit/test_util.py ..                                               [ 65%]
tests/unit/chunkstore/test_date_chunker.py .......                       [ 66%]
tests/unit/chunkstore/test_passthrough_chunker.py .                      [ 66%]
tests/unit/date/test_daterange.py ...................................... [ 69%]
.................                                                        [ 70%]
tests/unit/date/test_datetime_to_ms_roundtrip.py ..x.......              [ 71%]
tests/unit/date/test_mktz.py ....                                        [ 71%]
tests/unit/date/test_util.py ........................................... [ 74%]
.............                                                            [ 75%]
tests/unit/scripts/test_arctic_create_user.py ....                       [ 76%]
tests/unit/scripts/test_arctic_fsck.py ..                                [ 76%]
tests/unit/scripts/test_initialize_library.py .....                      [ 76%]
tests/unit/scripts/test_utils.py ......                                  [ 77%]
tests/unit/serialization/test_incremental.py ........................... [ 79%]
........................................................................ [ 84%]
.........                                                                [ 85%]
tests/unit/serialization/test_numpy_arrays.py ............               [ 86%]
tests/unit/serialization/test_numpy_records.py ............              [ 87%]
tests/unit/serialization/test_pandas_is_serializable.py ................ [ 88%]
........                                                                 [ 88%]
tests/unit/store/test_bitemporal_store.py .                              [ 88%]
tests/unit/store/test_bson_store.py ...................                  [ 90%]
tests/unit/store/test_metadata_store.py .......                          [ 90%]
tests/unit/store/test_ndarray_store.py ..........                        [ 91%]
tests/unit/store/test_pandas_ndarray_store.py .....                      [ 91%]
tests/unit/store/test_pickle_store.py ..........                         [ 92%]
tests/unit/store/test_version_item.py ....                               [ 92%]
tests/unit/store/test_version_store.py ................................. [ 95%]
..                                                                       [ 95%]
tests/unit/store/test_version_store_audit.py ...........                 [ 96%]
tests/unit/store/test_version_store_utils.py .....                       [ 96%]
tests/unit/tickstore/test_tickstore.py F...F..F....                      [ 97%]
tests/unit/tickstore/test_toplevel.py ...............................    [100%]

=================================== FAILURES ===================================
_________________________________ test_indexes _________________________________

arctic = <Arctic at 0x7f3121ab36d0, connected to MongoClient(host=['127.28.84.18:14958'], document_class=dict, tz_aware=False, connect=True)>

    def test_indexes(arctic):
        c = arctic._conn
        arctic.initialize_library("library", VERSION_STORE, segment='month')
        chunk = c.arctic.library.index_information()
        index_version = chunk['_id_']['v']  # Mongo 3.2 has index v1, 3.4 and 3.5 have v2 (3.4 can run in compabitility mode with v1)
>       assert chunk == {u'_id_': {u'key': [(u'_id', 1)], u'ns': u'arctic.library', u'v': index_version},
                         u'symbol_1_parent_1_segment_1': {u'background': True,
                                                          u'key': [(u'symbol', 1),
                                                                   (u'parent', 1),
                                                                   (u'segment', 1)],
                                                          u'ns': u'arctic.library',
                                                          u'unique': True,
                                                          u'v': index_version},
                         u'symbol_1_sha_1': {u'background': True,
                                             u'key': [(u'symbol', 1), (u'sha', 1)],
                                             u'ns': u'arctic.library',
                                             u'unique': True,
                                             u'v': index_version},
                         u'symbol_hashed': {u'background': True,
                                            u'key': [(u'symbol', u'hashed')],
                                            u'ns': u'arctic.library',
                                            u'v': index_version},
                         u'symbol_1_sha_1_segment_1': {u'background': True,
                                                       u'key': [(u'symbol', 1), (u'sha', 1), (u'segment', 1)],
                                                       u'ns': u'arctic.library',
                                                       u'unique': True,
                                                       u'v': index_version}}
E       AssertionError: assert {'_id_': {'ke... 'v': 2}, ...} == {'_id_': {'key...ue, ...}, ...}
E         Differing items:
E         {'symbol_1_parent_1_segment_1': {'background': True, 'key': [('symbol', 1), ('parent', 1), ('segment', 1)], 'unique': True, 'v': 2}} != {'symbol_1_parent_1_segment_1': {'background': True, 'key': [('symbol', 1), ('parent', 1), ('segment', 1)], 'ns': 'arctic.library', 'unique': True, ...}}
E         {'symbol_1_sha_1': {'background': True, 'key': [('symbol', 1), ('sha', 1)], 'unique': True, 'v': 2}} != {'symbol_1_sha_1': {'background': True, 'key': [('symbol', 1), ('sha', 1)], 'ns': 'arctic.library', 'unique': True, ...}}
E         {'_id_': {'key': [('_id', 1)], 'v': 2}} != {'...
E         
E         ...Full output truncated (4 lines hidden), use '-vv' to show

tests/integration/test_arctic.py:81: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T13:44:22.585-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T13:44:22.593-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T13:44:22.593-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T13:44:22.594-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":9840,"port":14958,"dbPath":"/tmp/tmp5KfO9E","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T13:44:22.594-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T13:44:22.594-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T13:44:22.594-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":14958,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp5KfO9E","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T13:44:22.596-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T13:44:22.596-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T13:44:25.030-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610743465:30508][9840:0x7f17f4191a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T13:44:25.030-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610743465:30644][9840:0x7f17f4191a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T13:44:25.080-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2484}}
{"t":{"$date":"2021-01-15T13:44:25.080-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:25.144-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T13:44:25.145-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T13:44:25.164-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T13:44:25.165-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"967a498a-67a6-4258-a342-ef60a8f84ee4"}},"options":{"uuid":{"$uuid":"967a498a-67a6-4258-a342-ef60a8f84ee4"}}}}
{"t":{"$date":"2021-01-15T13:44:25.230-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:25.230-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T13:44:25.231-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T13:44:25.233-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ed21aaa1-d795-402b-83bf-d7c45e36d615"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T13:44:25.300-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:25.300-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp5KfO9E/diagnostic.data"}}
{"t":{"$date":"2021-01-15T13:44:25.305-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"786dd5e3-c19f-407e-8a20-43035f9ea668"}},"options":{}}}
{"t":{"$date":"2021-01-15T13:44:25.306-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T13:44:25.306-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T13:44:25.306-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":14958,"ssl":"off"}}
{"t":{"$date":"2021-01-15T13:44:25.409-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:25.409-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:25.409-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":104}}
{"t":{"$date":"2021-01-15T13:44:25.581-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:46122","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T13:44:25.585-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:46124","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T13:44:25.788-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:46126","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T13:44:25.793-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:46128","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T13:44:25.794-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:46130","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T13:44:25.805-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:46132","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T13:44:25.814-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:46134","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T13:44:25.814-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:46136","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T13:44:25.828-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8904816d-108a-4fb6-92c7-946d497dd25c"}},"options":{}}}
{"t":{"$date":"2021-01-15T13:44:25.917-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:25.920-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c7c3c31d-bb92-4cad-80d9-bcaf4af78ef6"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"8904816d-108a-4fb6-92c7-946d497dd25c"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T13:44:25.951-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:25.951-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c7c3c31d-bb92-4cad-80d9-bcaf4af78ef6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T13:44:25.951-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c7c3c31d-bb92-4cad-80d9-bcaf4af78ef6"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 13:44:22,479 DEBUG pytest_shutil.workspace 
2021-01-15 13:44:22,480 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 13:44:22,481 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp5KfO9E
2021-01-15 13:44:22,482 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 13:44:22,483 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 13:44:22,483 DEBUG pytest_shutil.workspace 
2021-01-15 13:44:22,484 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 13:44:22,509 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=14958 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp5KfO9E
2021-01-15 13:44:22,511 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 13:44:22,513 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 13:44:22,514 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14958
2021-01-15 13:44:23,133 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 13:44:23,134 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14958
2021-01-15 13:44:23,743 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 13:44:23,744 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14958
2021-01-15 13:44:24,357 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 13:44:24,358 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14958
2021-01-15 13:44:25,069 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 13:44:25,070 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14958
2021-01-15 13:44:25,779 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 13:44:25,780 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14958
2021-01-15 13:44:25,808 DEBUG pytest_server_fixtures.base2 waited 0:00:03.294673 for server to start successfully
2021-01-15 13:44:25,808 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 13:44:25,810 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp5KfO9E
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=14958 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp5KfO9E
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14958
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14958
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14958
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14958
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14958
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14958
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.294673 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T13:44:25.960-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"36ecd8bf-26b5-4563-b7d1-4032968c5052"}},"options":{}}}
{"t":{"$date":"2021-01-15T13:44:26.027-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.031-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"da1bdca5-0c8a-415c-989a-4569939c2d7f"}},"options":{}}}
{"t":{"$date":"2021-01-15T13:44:26.084-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T13:44:26.131-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.131-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.131-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic.library.snapshots","command":{"createIndexes":"library.snapshots","indexes":[{"background":true,"name":"name_1","unique":true,"key":{"name":1}}],"lsid":{"id":{"$uuid":"7a510692-cda2-4a26-a696-6eaa3b119851"}},"$db":"arctic","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T13:44:26.133-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b0607765-0d49-4e0c-ab8e-b9872de8d5d5"}},"options":{}}}
{"t":{"$date":"2021-01-15T13:44:26.235-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.235-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.235-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic.library.versions","command":{"createIndexes":"library.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"7a510692-cda2-4a26-a696-6eaa3b119851"}},"$db":"arctic","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T13:44:26.238-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"94f7b175-e61b-4707-beef-a3d07b8c5ce4"}},"namespace":"arctic.library.versions","collectionUUID":{"uuid":{"$uuid":"b0607765-0d49-4e0c-ab8e-b9872de8d5d5"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T13:44:26.274-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.274-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"94f7b175-e61b-4707-beef-a3d07b8c5ce4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T13:44:26.274-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"94f7b175-e61b-4707-beef-a3d07b8c5ce4"}}}}
{"t":{"$date":"2021-01-15T13:44:26.276-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f760771a-7efe-4764-bab4-e65700dfe8e9"}},"options":{}}}
{"t":{"$date":"2021-01-15T13:44:26.293-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T13:44:26.374-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.374-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.376-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"079b7f0e-545f-4ca5-999b-9a83e045896e"}},"options":{}}}
{"t":{"$date":"2021-01-15T13:44:26.475-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.476-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.478-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"11782e8a-cb1c-4f1a-9998-91eeba6661ca"}},"namespace":"arctic.library","collectionUUID":{"uuid":{"$uuid":"079b7f0e-545f-4ca5-999b-9a83e045896e"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T13:44:26.515-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.515-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"11782e8a-cb1c-4f1a-9998-91eeba6661ca"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T13:44:26.515-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"11782e8a-cb1c-4f1a-9998-91eeba6661ca"}}}}
{"t":{"$date":"2021-01-15T13:44:26.517-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"499d0c6b-8abe-48b8-9a35-bbf5a4e7bc15"}},"namespace":"arctic.library","collectionUUID":{"uuid":{"$uuid":"079b7f0e-545f-4ca5-999b-9a83e045896e"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T13:44:26.548-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.548-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"499d0c6b-8abe-48b8-9a35-bbf5a4e7bc15"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T13:44:26.548-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"499d0c6b-8abe-48b8-9a35-bbf5a4e7bc15"}}}}
{"t":{"$date":"2021-01-15T13:44:26.550-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"495d3aaf-6a44-40a3-858a-1af05ba07a1e"}},"namespace":"arctic.library","collectionUUID":{"uuid":{"$uuid":"079b7f0e-545f-4ca5-999b-9a83e045896e"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T13:44:26.584-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T13:44:26.584-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"495d3aaf-6a44-40a3-858a-1af05ba07a1e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T13:44:26.584-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"495d3aaf-6a44-40a3-858a-1af05ba07a1e"}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 13:44:26,606 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 13:44:26,612 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log call -------------------------------
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 13:44:26,986 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 9840 (total_procs_to_kill=1)
2021-01-15 13:44:26,987 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 13:44:26,988 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 13:44:27,002 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 13:44:27,003 DEBUG pytest_shutil.workspace 
2021-01-15 13:44:27,004 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 13:44:27,004 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp5KfO9E
2021-01-15 13:44:27,005 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 13:44:27,005 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 9840 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp5KfO9E
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_cleanup_orphaned_chunks[False-data6-FwPointersCfg.DISABLED] _______

mongo_host = '127.28.84.18:18882'
library = <VersionStore at 0x7f311dbb87d0>
    <ArcticLibrary at 0x7f311db9e990, arctic_...ost=['127.28.84.18:18882'], document_class=dict, tz_aware=False, connect=True)>
data = {'thing': sentinel.val}, dry_run = False
fw_pointers_config = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_chunks(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            with patch("bson.ObjectId", return_value=_id):
                library.write('symbol', data, prune_previous_version=False)
    
            # Number of chunks
            chunk_count = mongo_count(library._collection)
            # Remove the version document ; should cleanup
            library._collection.versions.delete_one({'_id': _id})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) == chunk_count
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
>               assert mongo_count(library._collection) == 0
E               AssertionError: assert 1 == 0
E                +  where 1 = mongo_count(Collection(Database(MongoClient(host=['127.28.84.18:18882'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library'))
E                +    where Collection(Database(MongoClient(host=['127.28.84.18:18882'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library') = <VersionStore at 0x7f311dbb87d0>\n    <ArcticLibrary at 0x7f311db9e990, arctic_...ost=['127.28.84.18:18882'], document_class=dict, tz_aware=False, connect=True)>._collection

tests/integration/scripts/test_arctic_fsck.py:53: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:05:32.724-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:05:32.739-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:05:32.739-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:05:32.740-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":21962,"port":18882,"dbPath":"/tmp/tmpJD9yNr","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:05:32.740-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:05:32.740-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:05:32.740-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":18882,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpJD9yNr","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:05:32.743-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:32.743-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:05:35.148-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744735:148244][21962:0x7f9ad42e3a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:35.148-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744735:148416][21962:0x7f9ad42e3a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:35.194-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2451}}
{"t":{"$date":"2021-01-15T14:05:35.194-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:35.258-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:05:35.259-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:05:35.275-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:35.276-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"8c50b282-5656-44c3-b988-38de8819e796"}},"options":{"uuid":{"$uuid":"8c50b282-5656-44c3-b988-38de8819e796"}}}}
{"t":{"$date":"2021-01-15T14:05:35.351-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:35.351-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:05:35.352-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:05:35.354-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d2c71018-dbe6-4ebf-a53d-4eda4ae716f3"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:05:35.438-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:35.439-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpJD9yNr/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:05:35.444-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:05:35.444-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:05:35.444-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0aa0b0e9-8296-4590-88c0-a40262122071"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:35.444-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":18882,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:05:35.569-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:35.569-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:35.569-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":125}}
{"t":{"$date":"2021-01-15T14:05:35.711-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:60136","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:35.715-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:60138","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:35.918-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:60140","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:35.923-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:60142","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:35.925-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:60144","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:35.933-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:60146","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:35.941-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:60148","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:35.943-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:60150","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:35.955-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e56f5626-cd42-449e-a9fa-5f67029e7ce3"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:36.074-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.074-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"a9d95b7f-875b-4572-98c3-5612558ffb5b"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":118}}
{"t":{"$date":"2021-01-15T14:05:36.077-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fea0ebf6-ffd6-4216-9ce1-a42a02690177"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"e56f5626-cd42-449e-a9fa-5f67029e7ce3"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:05:36.116-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.116-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fea0ebf6-ffd6-4216-9ce1-a42a02690177"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:36.116-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fea0ebf6-ffd6-4216-9ce1-a42a02690177"}}}}
{"t":{"$date":"2021-01-15T14:05:36.122-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4545a512-44d0-4034-b29a-c8df8a0fc06d"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:36.209-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.214-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:05:36.215-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b3f121b3-3e55-4b86-8d94-df73d2c3d892"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:36.343-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.344-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.344-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.snapshots","command":{"createIndexes":"library.snapshots","indexes":[{"background":true,"name":"name_1","unique":true,"key":{"name":1}}],"lsid":{"id":{"$uuid":"a9d95b7f-875b-4572-98c3-5612558ffb5b"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":129}}
{"t":{"$date":"2021-01-15T14:05:36.346-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bbc99c57-0ddb-4959-bdf6-bdd84528f025"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:36.423-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T14:05:36.473-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.473-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.473-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.versions","command":{"createIndexes":"library.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"a9d95b7f-875b-4572-98c3-5612558ffb5b"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":127}}
{"t":{"$date":"2021-01-15T14:05:36.476-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"cb127104-3471-42cd-93c2-47f2dcbc3734"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"bbc99c57-0ddb-4959-bdf6-bdd84528f025"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:05:36.519-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.519-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"cb127104-3471-42cd-93c2-47f2dcbc3734"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:36.519-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"cb127104-3471-42cd-93c2-47f2dcbc3734"}}}}
{"t":{"$date":"2021-01-15T14:05:36.522-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b4585126-e014-4fb9-80e7-57461d895478"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:36.649-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.649-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.649-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.version_nums","command":{"createIndexes":"library.version_nums","indexes":[{"background":true,"name":"symbol_1","unique":true,"key":{"symbol":1}}],"lsid":{"id":{"$uuid":"a9d95b7f-875b-4572-98c3-5612558ffb5b"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":127}}
{"t":{"$date":"2021-01-15T14:05:36.651-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a8e180dc-1454-4ac3-9442-ef6f90e9d166"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:36.780-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.781-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.781-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library","command":{"createIndexes":"library","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"a9d95b7f-875b-4572-98c3-5612558ffb5b"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":129}}
{"t":{"$date":"2021-01-15T14:05:36.784-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"84adc3a0-7d45-41bf-89a5-10d3e003f3af"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"a8e180dc-1454-4ac3-9442-ef6f90e9d166"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:05:36.829-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.829-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"84adc3a0-7d45-41bf-89a5-10d3e003f3af"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:36.829-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"84adc3a0-7d45-41bf-89a5-10d3e003f3af"}}}}
{"t":{"$date":"2021-01-15T14:05:36.832-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"875d7f52-4585-4e8d-b790-a039b298022c"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"a8e180dc-1454-4ac3-9442-ef6f90e9d166"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:05:36.882-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.882-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"875d7f52-4585-4e8d-b790-a039b298022c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:36.882-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"875d7f52-4585-4e8d-b790-a039b298022c"}}}}
{"t":{"$date":"2021-01-15T14:05:36.884-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"da16866d-c341-4f4c-a06a-5efed0be1d15"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"a8e180dc-1454-4ac3-9442-ef6f90e9d166"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:05:36.935-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:36.935-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"da16866d-c341-4f4c-a06a-5efed0be1d15"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:36.935-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"da16866d-c341-4f4c-a06a-5efed0be1d15"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:05:32,516 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:32,516 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:32,517 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpJD9yNr
2021-01-15 14:05:32,517 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:05:32,518 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:32,518 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:32,519 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:05:32,648 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=18882 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpJD9yNr
2021-01-15 14:05:32,649 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:05:32,650 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:05:32,651 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18882
2021-01-15 14:05:33,264 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:05:33,265 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18882
2021-01-15 14:05:33,875 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:05:33,876 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18882
2021-01-15 14:05:34,485 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:05:34,486 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18882
2021-01-15 14:05:35,199 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:05:35,200 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18882
2021-01-15 14:05:35,910 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:05:35,911 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18882
2021-01-15 14:05:35,934 DEBUG pytest_server_fixtures.base2 waited 0:00:03.283295 for server to start successfully
2021-01-15 14:05:35,934 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:05:35,937 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:05:36,958 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:05:36,965 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpJD9yNr
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=18882 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpJD9yNr
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18882
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18882
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18882
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18882
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18882
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18882
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.283295 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:18882', '-f')
{"t":{"$date":"2021-01-15T14:05:37.064-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:60152","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:37.068-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:60154","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:37.069-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:60156","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:05:37,032 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:05:37,047 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:05:37,056 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:18882
2021-01-15 14:05:37,057 INFO arctic.arctic Connecting to mongo: 127.28.84.18:18882 (127.28.84.18:18882)
2021-01-15 14:05:37,074 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:18882', or admin credentials
2021-01-15 14:05:37,123 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:37,124 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:05:37,127 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:05:37,140 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:05:37,148 INFO arctic.store.version_store Cleaning up 1 SHAs for symbol symbol
2021-01-15 14:05:37,152 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:05:37,158 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:37,200 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:05:37,200 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:05:37,203 INFO arctic.scripts.arctic_fsck Symbols:           0
2021-01-15 14:05:37,204 INFO arctic.scripts.arctic_fsck Versions:          0   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:05:37,204 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:05:37,205 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:05:37,205 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:05:37,205 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:37,206 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:18882
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:18882 (127.28.84.18:18882)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:18882', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1106 Cleaning up 1 SHAs for symbol symbol
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           0
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          0   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:05:37,330 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 21962 (total_procs_to_kill=1)
2021-01-15 14:05:37,331 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:05:37,332 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:05:37,348 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:05:37,348 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:37,349 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:37,349 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpJD9yNr
2021-01-15 14:05:37,349 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:37,350 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 21962 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpJD9yNr
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
________ test_cleanup_orphaned_chunks[False-data7-FwPointersCfg.HYBRID] ________

mongo_host = '127.28.84.18:1755'
library = <VersionStore at 0x7f311dba1b90>
    <ArcticLibrary at 0x7f3121a6a1d0, arctic_...host=['127.28.84.18:1755'], document_class=dict, tz_aware=False, connect=True)>
data = {'thing': sentinel.val}, dry_run = False
fw_pointers_config = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_chunks(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            with patch("bson.ObjectId", return_value=_id):
                library.write('symbol', data, prune_previous_version=False)
    
            # Number of chunks
            chunk_count = mongo_count(library._collection)
            # Remove the version document ; should cleanup
            library._collection.versions.delete_one({'_id': _id})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) == chunk_count
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
>               assert mongo_count(library._collection) == 0
E               AssertionError: assert 1 == 0
E                +  where 1 = mongo_count(Collection(Database(MongoClient(host=['127.28.84.18:1755'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library'))
E                +    where Collection(Database(MongoClient(host=['127.28.84.18:1755'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library') = <VersionStore at 0x7f311dba1b90>\n    <ArcticLibrary at 0x7f3121a6a1d0, arctic_...host=['127.28.84.18:1755'], document_class=dict, tz_aware=False, connect=True)>._collection

tests/integration/scripts/test_arctic_fsck.py:53: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:05:37.580-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:05:37.587-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:05:37.587-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:05:37.588-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":22034,"port":1755,"dbPath":"/tmp/tmpzEd7wx","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:05:37.588-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:05:37.588-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:05:37.588-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":1755,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpzEd7wx","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:05:37.590-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:37.590-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:05:40.008-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744740:8533][22034:0x7f45c1343a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:40.008-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744740:8661][22034:0x7f45c1343a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:40.066-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2476}}
{"t":{"$date":"2021-01-15T14:05:40.066-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:40.150-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:05:40.151-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:05:40.170-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:40.171-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"1a19c88d-32b9-4012-8530-f23ebc0c8fb1"}},"options":{"uuid":{"$uuid":"1a19c88d-32b9-4012-8530-f23ebc0c8fb1"}}}}
{"t":{"$date":"2021-01-15T14:05:40.253-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:40.253-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:05:40.254-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:05:40.256-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ba1a8015-fe33-4f28-b216-1c290f819321"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:05:40.337-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:40.338-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpzEd7wx/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:05:40.343-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:05:40.343-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:05:40.343-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":1755,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:05:40.343-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1cdcfa50-bfbc-4f19-9003-5e014b9cbc07"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:40.468-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:40.468-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:40.469-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":125}}
{"t":{"$date":"2021-01-15T14:05:40.573-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:38840","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:40.578-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:38842","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:40.781-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:38844","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:40.785-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:38848","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:40.786-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:38846","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:40.798-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:38850","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:40.804-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:38852","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:40.805-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:38854","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:40.817-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"45f92883-e815-47e5-b2e1-519a743abdaa"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:40.948-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:40.949-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"67319ad3-3c6b-4470-a490-19976042d59e"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":131}}
{"t":{"$date":"2021-01-15T14:05:40.951-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"94122802-c38f-4cf8-8107-df138071b164"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"45f92883-e815-47e5-b2e1-519a743abdaa"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:05:40.987-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:40.988-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"94122802-c38f-4cf8-8107-df138071b164"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:40.988-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"94122802-c38f-4cf8-8107-df138071b164"}}}}
{"t":{"$date":"2021-01-15T14:05:40.994-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fef8eec0-1821-4332-9255-57be5b183110"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:41.077-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:05:41.080-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.084-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"792cf48a-83e1-4af4-a52d-705a1cbdb66f"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:41.208-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.208-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.208-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.snapshots","command":{"createIndexes":"library.snapshots","indexes":[{"background":true,"name":"name_1","unique":true,"key":{"name":1}}],"lsid":{"id":{"$uuid":"67319ad3-3c6b-4470-a490-19976042d59e"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":124}}
{"t":{"$date":"2021-01-15T14:05:41.211-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0d5290bf-8306-437b-96a9-2b28ce93aa15"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:41.287-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T14:05:41.337-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.337-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.337-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.versions","command":{"createIndexes":"library.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"67319ad3-3c6b-4470-a490-19976042d59e"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":126}}
{"t":{"$date":"2021-01-15T14:05:41.340-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ed70745c-b156-47c4-955a-c894e7d4462b"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"0d5290bf-8306-437b-96a9-2b28ce93aa15"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:05:41.387-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.387-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ed70745c-b156-47c4-955a-c894e7d4462b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:41.387-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ed70745c-b156-47c4-955a-c894e7d4462b"}}}}
{"t":{"$date":"2021-01-15T14:05:41.389-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fd4e713c-496d-4980-bda9-702093db626b"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:41.530-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.530-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.530-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.version_nums","command":{"createIndexes":"library.version_nums","indexes":[{"background":true,"name":"symbol_1","unique":true,"key":{"symbol":1}}],"lsid":{"id":{"$uuid":"67319ad3-3c6b-4470-a490-19976042d59e"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":140}}
{"t":{"$date":"2021-01-15T14:05:41.533-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"35f3da6a-b46b-4c4d-a0ef-146b176404f8"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:41.669-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.669-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.670-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library","command":{"createIndexes":"library","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"67319ad3-3c6b-4470-a490-19976042d59e"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":136}}
{"t":{"$date":"2021-01-15T14:05:41.672-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9b98d89b-febb-47c3-8b4d-496c0c987c0c"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"35f3da6a-b46b-4c4d-a0ef-146b176404f8"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:05:41.715-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.715-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9b98d89b-febb-47c3-8b4d-496c0c987c0c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:41.716-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9b98d89b-febb-47c3-8b4d-496c0c987c0c"}}}}
{"t":{"$date":"2021-01-15T14:05:41.718-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"30089299-3221-40d1-8394-333ad6f6b00d"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"35f3da6a-b46b-4c4d-a0ef-146b176404f8"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:05:41.758-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.758-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"30089299-3221-40d1-8394-333ad6f6b00d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:41.758-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"30089299-3221-40d1-8394-333ad6f6b00d"}}}}
{"t":{"$date":"2021-01-15T14:05:41.760-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0fc74a41-861f-40a7-b128-3c7daa5a1b5f"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"35f3da6a-b46b-4c4d-a0ef-146b176404f8"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:05:41.807-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:41.807-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0fc74a41-861f-40a7-b128-3c7daa5a1b5f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:41.808-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0fc74a41-861f-40a7-b128-3c7daa5a1b5f"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:05:37,374 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:37,374 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:37,375 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpzEd7wx
2021-01-15 14:05:37,376 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:05:37,376 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:37,376 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:37,377 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:05:37,504 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=1755 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpzEd7wx
2021-01-15 14:05:37,506 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:05:37,508 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:05:37,509 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1755
2021-01-15 14:05:38,126 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:05:38,126 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1755
2021-01-15 14:05:38,738 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:05:38,738 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1755
2021-01-15 14:05:39,349 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:05:39,349 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1755
2021-01-15 14:05:40,059 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:05:40,060 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1755
2021-01-15 14:05:40,772 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:05:40,772 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1755
2021-01-15 14:05:40,795 DEBUG pytest_server_fixtures.base2 waited 0:00:03.286996 for server to start successfully
2021-01-15 14:05:40,796 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:05:40,799 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:05:41,834 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:05:41,843 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpzEd7wx
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=1755 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpzEd7wx
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1755
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1755
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1755
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1755
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1755
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1755
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.286996 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:1755', '-f')
{"t":{"$date":"2021-01-15T14:05:41.956-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:38858","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:41.961-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:38862","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:41.963-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:38860","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:05:41,919 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:05:41,935 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:05:41,945 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:1755
2021-01-15 14:05:41,946 INFO arctic.arctic Connecting to mongo: 127.28.84.18:1755 (127.28.84.18:1755)
2021-01-15 14:05:41,967 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:1755', or admin credentials
2021-01-15 14:05:42,022 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:42,023 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:05:42,026 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:05:42,039 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:05:42,047 INFO arctic.store.version_store Cleaning up 1 SHAs for symbol symbol
2021-01-15 14:05:42,052 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:05:42,059 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:42,104 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:05:42,105 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:05:42,108 INFO arctic.scripts.arctic_fsck Symbols:           0
2021-01-15 14:05:42,109 INFO arctic.scripts.arctic_fsck Versions:          0   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:05:42,109 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:05:42,110 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:05:42,110 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:05:42,110 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:42,110 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:1755
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:1755 (127.28.84.18:1755)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:1755', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1106 Cleaning up 1 SHAs for symbol symbol
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           0
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          0   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:05:42,245 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 22034 (total_procs_to_kill=1)
2021-01-15 14:05:42,246 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:05:42,247 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:05:42,264 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:05:42,264 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:42,265 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:42,265 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpzEd7wx
2021-01-15 14:05:42,265 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:42,266 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 22034 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpzEd7wx
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_cleanup_orphaned_chunks[False-data8-FwPointersCfg.ENABLED] ________

mongo_host = '127.28.84.18:3162'
library = <VersionStore at 0x7f3136b3a350>
    <ArcticLibrary at 0x7f313bb821d0, arctic_...host=['127.28.84.18:3162'], document_class=dict, tz_aware=False, connect=True)>
data = {'thing': sentinel.val}, dry_run = False
fw_pointers_config = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_chunks(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            with patch("bson.ObjectId", return_value=_id):
                library.write('symbol', data, prune_previous_version=False)
    
            # Number of chunks
            chunk_count = mongo_count(library._collection)
            # Remove the version document ; should cleanup
            library._collection.versions.delete_one({'_id': _id})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) == chunk_count
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
>               assert mongo_count(library._collection) == 0
E               AssertionError: assert 1 == 0
E                +  where 1 = mongo_count(Collection(Database(MongoClient(host=['127.28.84.18:3162'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library'))
E                +    where Collection(Database(MongoClient(host=['127.28.84.18:3162'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library') = <VersionStore at 0x7f3136b3a350>\n    <ArcticLibrary at 0x7f313bb821d0, arctic_...host=['127.28.84.18:3162'], document_class=dict, tz_aware=False, connect=True)>._collection

tests/integration/scripts/test_arctic_fsck.py:53: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:05:42.501-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:05:42.515-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:05:42.516-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:05:42.517-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":22097,"port":3162,"dbPath":"/tmp/tmpj9Yd2R","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:05:42.517-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:05:42.517-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:05:42.517-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":3162,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpj9Yd2R","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:05:42.519-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:42.519-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:05:44.943-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744744:943264][22097:0x7f5125bb4a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:44.943-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744744:943399][22097:0x7f5125bb4a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:45.012-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2493}}
{"t":{"$date":"2021-01-15T14:05:45.012-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:45.092-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:05:45.093-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:05:45.114-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:45.116-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"501c7f54-50e4-4cc7-a787-c3c5c46667e2"}},"options":{"uuid":{"$uuid":"501c7f54-50e4-4cc7-a787-c3c5c46667e2"}}}}
{"t":{"$date":"2021-01-15T14:05:45.201-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:45.201-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:05:45.202-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:05:45.204-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"158edcbe-9c62-4452-aede-4c3d42a28fc1"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:05:45.284-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:45.284-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpj9Yd2R/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:05:45.289-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:05:45.289-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:05:45.289-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":3162,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:05:45.289-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0150ef94-e2ae-456f-9711-8de5ed0a4f73"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:45.422-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:45.422-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:45.422-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":133}}
{"t":{"$date":"2021-01-15T14:05:45.498-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:46758","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:45.501-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:46760","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:45.705-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:46768","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:45.711-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:46772","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:45.712-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:46770","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:45.721-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:46774","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:45.731-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:46776","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:45.732-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:46778","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:45.743-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6162b129-71ec-4eb6-b123-a96d7f356fd4"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:45.851-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:45.852-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"f44549fc-2fbf-494a-8be4-01900254fd5f"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":108}}
{"t":{"$date":"2021-01-15T14:05:45.854-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e1c972af-a424-4b42-8640-47cbb5b9af0d"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"6162b129-71ec-4eb6-b123-a96d7f356fd4"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:05:45.892-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:45.892-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e1c972af-a424-4b42-8640-47cbb5b9af0d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:45.893-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e1c972af-a424-4b42-8640-47cbb5b9af0d"}}}}
{"t":{"$date":"2021-01-15T14:05:45.899-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"53b1bc3b-0002-410f-8738-6d7ffd585ca2"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:45.987-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:45.992-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f8955dfe-9a69-4e8f-9c24-1d25bad8688d"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:46.002-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:05:46.109-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.109-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.110-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.snapshots","command":{"createIndexes":"library.snapshots","indexes":[{"background":true,"name":"name_1","unique":true,"key":{"name":1}}],"lsid":{"id":{"$uuid":"f44549fc-2fbf-494a-8be4-01900254fd5f"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":117}}
{"t":{"$date":"2021-01-15T14:05:46.113-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"aaeb7aaa-a585-4a61-9159-61592cc00645"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:46.210-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T14:05:46.236-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.236-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.237-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.versions","command":{"createIndexes":"library.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"f44549fc-2fbf-494a-8be4-01900254fd5f"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":123}}
{"t":{"$date":"2021-01-15T14:05:46.239-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0d51d13e-4b63-4bd3-997e-d7958448d064"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"aaeb7aaa-a585-4a61-9159-61592cc00645"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:05:46.281-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.281-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0d51d13e-4b63-4bd3-997e-d7958448d064"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:46.281-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0d51d13e-4b63-4bd3-997e-d7958448d064"}}}}
{"t":{"$date":"2021-01-15T14:05:46.284-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ae6613f1-6ed4-43bf-8f81-0348141491e8"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:46.411-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.411-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.412-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.version_nums","command":{"createIndexes":"library.version_nums","indexes":[{"background":true,"name":"symbol_1","unique":true,"key":{"symbol":1}}],"lsid":{"id":{"$uuid":"f44549fc-2fbf-494a-8be4-01900254fd5f"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":3},"storage":{},"protocol":"op_msg","durationMillis":127}}
{"t":{"$date":"2021-01-15T14:05:46.414-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d5f7c2dd-e098-481f-ad41-1943b95f6914"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:46.536-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.536-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.536-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library","command":{"createIndexes":"library","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"f44549fc-2fbf-494a-8be4-01900254fd5f"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":122}}
{"t":{"$date":"2021-01-15T14:05:46.538-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9c5c6bcd-d8cd-4cb0-a2ea-f5ac95e4ed9f"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"d5f7c2dd-e098-481f-ad41-1943b95f6914"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:05:46.584-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.584-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9c5c6bcd-d8cd-4cb0-a2ea-f5ac95e4ed9f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:46.584-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9c5c6bcd-d8cd-4cb0-a2ea-f5ac95e4ed9f"}}}}
{"t":{"$date":"2021-01-15T14:05:46.587-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ba4cc341-78ba-4283-8f49-15971ec5fa7e"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"d5f7c2dd-e098-481f-ad41-1943b95f6914"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:05:46.630-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.631-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ba4cc341-78ba-4283-8f49-15971ec5fa7e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:46.631-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ba4cc341-78ba-4283-8f49-15971ec5fa7e"}}}}
{"t":{"$date":"2021-01-15T14:05:46.633-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ee77cad6-a50c-49ae-833b-3539fabe7e25"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"d5f7c2dd-e098-481f-ad41-1943b95f6914"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:05:46.680-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:46.681-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ee77cad6-a50c-49ae-833b-3539fabe7e25"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:46.681-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ee77cad6-a50c-49ae-833b-3539fabe7e25"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:05:42,298 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:42,298 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:42,299 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpj9Yd2R
2021-01-15 14:05:42,299 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:05:42,300 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:42,300 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:42,301 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:05:42,433 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=3162 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpj9Yd2R
2021-01-15 14:05:42,435 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:05:42,436 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:05:42,437 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3162
2021-01-15 14:05:43,052 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:05:43,053 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3162
2021-01-15 14:05:43,664 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:05:43,664 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3162
2021-01-15 14:05:44,275 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:05:44,276 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3162
2021-01-15 14:05:44,986 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:05:44,987 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3162
2021-01-15 14:05:45,697 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:05:45,698 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3162
2021-01-15 14:05:45,722 DEBUG pytest_server_fixtures.base2 waited 0:00:03.285500 for server to start successfully
2021-01-15 14:05:45,723 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:05:45,727 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:05:46,704 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:05:46,711 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpj9Yd2R
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=3162 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpj9Yd2R
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3162
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3162
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3162
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3162
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3162
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3162
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.285500 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:3162', '-f')
{"t":{"$date":"2021-01-15T14:05:46.821-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:46780","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:46.825-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:46782","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:46.826-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:46784","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:05:46,788 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:05:46,804 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:05:46,813 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:3162
2021-01-15 14:05:46,814 INFO arctic.arctic Connecting to mongo: 127.28.84.18:3162 (127.28.84.18:3162)
2021-01-15 14:05:46,831 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:3162', or admin credentials
2021-01-15 14:05:46,877 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:46,879 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:05:46,881 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:05:46,895 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:05:46,902 INFO arctic.store.version_store Cleaning up 1 SHAs for symbol symbol
2021-01-15 14:05:46,907 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:05:46,914 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:46,957 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:05:46,957 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:05:46,961 INFO arctic.scripts.arctic_fsck Symbols:           0
2021-01-15 14:05:46,961 INFO arctic.scripts.arctic_fsck Versions:          0   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:05:46,962 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:05:46,962 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:05:46,962 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:05:46,963 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:46,963 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:3162
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:3162 (127.28.84.18:3162)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:3162', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1106 Cleaning up 1 SHAs for symbol symbol
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           0
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          0   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:05:47,087 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 22097 (total_procs_to_kill=1)
2021-01-15 14:05:47,088 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:05:47,089 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:05:47,106 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:05:47,107 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:47,107 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:47,108 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpj9Yd2R
2021-01-15 14:05:47,108 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:47,108 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 22097 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpj9Yd2R
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_cleanup_orphaned_chunks[False-data9-FwPointersCfg.DISABLED] _______

mongo_host = '127.28.84.18:21681'
library = <VersionStore at 0x7f311dba1a10>
    <ArcticLibrary at 0x7f313bb11f10, arctic_...ost=['127.28.84.18:21681'], document_class=dict, tz_aware=False, connect=True)>
data =                          near
times                        
2012-09-08 17:06:1... 17:06:11.040   2.0
2012-10-09 17:06:11.040   2.5
2012-11-08 17:06:11.040   3.0
dry_run = False, fw_pointers_config = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_chunks(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            with patch("bson.ObjectId", return_value=_id):
                library.write('symbol', data, prune_previous_version=False)
    
            # Number of chunks
            chunk_count = mongo_count(library._collection)
            # Remove the version document ; should cleanup
            library._collection.versions.delete_one({'_id': _id})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) == chunk_count
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
>               assert mongo_count(library._collection) == 0
E               AssertionError: assert 1 == 0
E                +  where 1 = mongo_count(Collection(Database(MongoClient(host=['127.28.84.18:21681'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library'))
E                +    where Collection(Database(MongoClient(host=['127.28.84.18:21681'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library') = <VersionStore at 0x7f311dba1a10>\n    <ArcticLibrary at 0x7f313bb11f10, arctic_...ost=['127.28.84.18:21681'], document_class=dict, tz_aware=False, connect=True)>._collection

tests/integration/scripts/test_arctic_fsck.py:53: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:05:47.360-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:05:47.364-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:05:47.364-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:05:47.365-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":22160,"port":21681,"dbPath":"/tmp/tmpBGfsSu","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:05:47.365-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:05:47.365-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:05:47.365-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":21681,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpBGfsSu","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:05:47.368-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:47.368-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:05:49.776-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744749:776392][22160:0x7fe94788ca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:49.776-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744749:776528][22160:0x7fe94788ca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:49.848-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2480}}
{"t":{"$date":"2021-01-15T14:05:49.849-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:49.936-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:05:49.936-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:05:49.972-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:49.973-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"5f4bc96e-7264-4afb-bf7d-4a6eb49831d6"}},"options":{"uuid":{"$uuid":"5f4bc96e-7264-4afb-bf7d-4a6eb49831d6"}}}}
{"t":{"$date":"2021-01-15T14:05:50.070-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:50.070-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:05:50.071-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:05:50.073-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3d641ec4-2cbf-40cb-8c6b-2a7888df1413"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:05:50.153-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:50.154-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpBGfsSu/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:05:50.159-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4f3ce8ce-0253-4121-bfe7-6aaec647b3b2"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:50.159-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:05:50.159-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:05:50.159-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":21681,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:05:50.285-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:50.286-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:50.286-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":127}}
{"t":{"$date":"2021-01-15T14:05:50.335-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:34812","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:50.339-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:34814","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:50.544-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:34816","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:50.549-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:34818","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:50.549-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:34820","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:50.564-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:34822","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:50.569-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:34824","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:50.569-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:34826","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:50.580-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2682df9d-f4f1-40f5-9064-c515e3d5e662"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:50.707-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:50.708-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"1989cd67-73f8-4d05-97e3-4583d45a5453"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":128}}
{"t":{"$date":"2021-01-15T14:05:50.710-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"972ef0ac-c51b-4424-bd5e-be1d50edb1a6"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"2682df9d-f4f1-40f5-9064-c515e3d5e662"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:05:50.752-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:50.752-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"972ef0ac-c51b-4424-bd5e-be1d50edb1a6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:50.752-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"972ef0ac-c51b-4424-bd5e-be1d50edb1a6"}}}}
{"t":{"$date":"2021-01-15T14:05:50.759-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3173cfe4-2aea-48ce-8901-38ae9cbcda38"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:50.839-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:05:50.846-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:50.850-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9b22b120-4855-4d63-9185-94c6ac9e7808"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:50.972-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:50.973-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:50.973-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.snapshots","command":{"createIndexes":"library.snapshots","indexes":[{"background":true,"name":"name_1","unique":true,"key":{"name":1}}],"lsid":{"id":{"$uuid":"1989cd67-73f8-4d05-97e3-4583d45a5453"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":122}}
{"t":{"$date":"2021-01-15T14:05:50.976-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b7bd8f89-28c4-42eb-87c9-c93caf9537e5"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:51.053-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":19}}
{"t":{"$date":"2021-01-15T14:05:51.097-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:51.097-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:51.097-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.versions","command":{"createIndexes":"library.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"1989cd67-73f8-4d05-97e3-4583d45a5453"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":3},"storage":{},"protocol":"op_msg","durationMillis":121}}
{"t":{"$date":"2021-01-15T14:05:51.100-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fe7187bb-52c3-450d-a3a5-f422d59d6112"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"b7bd8f89-28c4-42eb-87c9-c93caf9537e5"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:05:51.133-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:51.133-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fe7187bb-52c3-450d-a3a5-f422d59d6112"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:51.133-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fe7187bb-52c3-450d-a3a5-f422d59d6112"}}}}
{"t":{"$date":"2021-01-15T14:05:51.135-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e3ab85e1-477e-4812-b072-ecabb4c5f1ea"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:51.236-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:51.236-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:51.237-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.version_nums","command":{"createIndexes":"library.version_nums","indexes":[{"background":true,"name":"symbol_1","unique":true,"key":{"symbol":1}}],"lsid":{"id":{"$uuid":"1989cd67-73f8-4d05-97e3-4583d45a5453"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T14:05:51.239-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f560271e-a4a8-4c63-8274-1823beb67124"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:51.339-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:51.340-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:51.340-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library","command":{"createIndexes":"library","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"1989cd67-73f8-4d05-97e3-4583d45a5453"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":4},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T14:05:51.342-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c790b4c3-5837-47c9-9360-f2252cb46f86"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"f560271e-a4a8-4c63-8274-1823beb67124"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:05:51.376-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:51.376-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c790b4c3-5837-47c9-9360-f2252cb46f86"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:51.376-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c790b4c3-5837-47c9-9360-f2252cb46f86"}}}}
{"t":{"$date":"2021-01-15T14:05:51.379-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3df5d0eb-24a2-4ba1-a039-6cfc3698dcbb"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"f560271e-a4a8-4c63-8274-1823beb67124"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:05:51.410-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:51.410-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3df5d0eb-24a2-4ba1-a039-6cfc3698dcbb"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:51.410-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3df5d0eb-24a2-4ba1-a039-6cfc3698dcbb"}}}}
{"t":{"$date":"2021-01-15T14:05:51.413-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8e5e6a14-6282-4f28-9aba-523c771e2ff3"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"f560271e-a4a8-4c63-8274-1823beb67124"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:05:51.448-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:51.448-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8e5e6a14-6282-4f28-9aba-523c771e2ff3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:51.448-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8e5e6a14-6282-4f28-9aba-523c771e2ff3"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:05:47,132 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:47,132 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:47,133 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpBGfsSu
2021-01-15 14:05:47,134 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:05:47,134 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:47,134 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:47,135 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:05:47,271 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=21681 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpBGfsSu
2021-01-15 14:05:47,273 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:05:47,275 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:05:47,275 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:21681
2021-01-15 14:05:47,891 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:05:47,892 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:21681
2021-01-15 14:05:48,503 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:05:48,504 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:21681
2021-01-15 14:05:49,114 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:05:49,115 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:21681
2021-01-15 14:05:49,824 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:05:49,825 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:21681
2021-01-15 14:05:50,534 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:05:50,534 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:21681
2021-01-15 14:05:50,559 DEBUG pytest_server_fixtures.base2 waited 0:00:03.284896 for server to start successfully
2021-01-15 14:05:50,560 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:05:50,564 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:05:51,471 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:05:51,479 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpBGfsSu
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=21681 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpBGfsSu
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:21681
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:21681
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:21681
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:21681
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:21681
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:21681
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.284896 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:21681', '-f')
{"t":{"$date":"2021-01-15T14:05:51.591-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:34828","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:51.595-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:34830","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:51.596-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:34832","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:05:51,551 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:05:51,573 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:05:51,583 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:21681
2021-01-15 14:05:51,583 INFO arctic.arctic Connecting to mongo: 127.28.84.18:21681 (127.28.84.18:21681)
2021-01-15 14:05:51,600 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:21681', or admin credentials
2021-01-15 14:05:51,650 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:51,651 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:05:51,654 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:05:51,668 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:05:51,675 INFO arctic.store.version_store Cleaning up 1 SHAs for symbol symbol
2021-01-15 14:05:51,679 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:05:51,686 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:51,727 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:05:51,728 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:05:51,731 INFO arctic.scripts.arctic_fsck Symbols:           0
2021-01-15 14:05:51,731 INFO arctic.scripts.arctic_fsck Versions:          0   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:05:51,732 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:05:51,732 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:05:51,732 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:05:51,733 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:51,733 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:21681
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:21681 (127.28.84.18:21681)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:21681', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1106 Cleaning up 1 SHAs for symbol symbol
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           0
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          0   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:05:51,901 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 22160 (total_procs_to_kill=1)
2021-01-15 14:05:51,902 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:05:51,903 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:05:51,918 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:05:51,919 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:51,919 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:51,920 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpBGfsSu
2021-01-15 14:05:51,920 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:51,920 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 22160 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpBGfsSu
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_cleanup_orphaned_chunks[False-data10-FwPointersCfg.HYBRID] ________

mongo_host = '127.28.84.18:24850'
library = <VersionStore at 0x7f3121a6ad90>
    <ArcticLibrary at 0x7f3121a52cd0, arctic_...ost=['127.28.84.18:24850'], document_class=dict, tz_aware=False, connect=True)>
data =                          near
times                        
2012-09-08 17:06:1... 17:06:11.040   2.0
2012-10-09 17:06:11.040   2.5
2012-11-08 17:06:11.040   3.0
dry_run = False, fw_pointers_config = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_chunks(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            with patch("bson.ObjectId", return_value=_id):
                library.write('symbol', data, prune_previous_version=False)
    
            # Number of chunks
            chunk_count = mongo_count(library._collection)
            # Remove the version document ; should cleanup
            library._collection.versions.delete_one({'_id': _id})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) == chunk_count
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
>               assert mongo_count(library._collection) == 0
E               AssertionError: assert 1 == 0
E                +  where 1 = mongo_count(Collection(Database(MongoClient(host=['127.28.84.18:24850'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library'))
E                +    where Collection(Database(MongoClient(host=['127.28.84.18:24850'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library') = <VersionStore at 0x7f3121a6ad90>\n    <ArcticLibrary at 0x7f3121a52cd0, arctic_...ost=['127.28.84.18:24850'], document_class=dict, tz_aware=False, connect=True)>._collection

tests/integration/scripts/test_arctic_fsck.py:53: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:05:52.147-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:05:52.154-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:05:52.154-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:05:52.156-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":22223,"port":24850,"dbPath":"/tmp/tmpUjgu1m","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:05:52.156-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:05:52.156-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:05:52.156-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":24850,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpUjgu1m","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:05:52.158-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:52.158-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:05:54.552-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744754:552143][22223:0x7f54a4d7da80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:54.552-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744754:552270][22223:0x7f54a4d7da80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:54.598-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2440}}
{"t":{"$date":"2021-01-15T14:05:54.598-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:54.663-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:05:54.664-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:05:54.682-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:54.684-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"a64d22ed-f936-4dc4-8f02-487131bbe963"}},"options":{"uuid":{"$uuid":"a64d22ed-f936-4dc4-8f02-487131bbe963"}}}}
{"t":{"$date":"2021-01-15T14:05:54.752-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:54.752-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:05:54.753-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:05:54.754-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"40d99b2d-f9e2-4569-adba-1fd2e13fe4bb"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:05:54.818-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:54.819-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpUjgu1m/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:05:54.823-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:05:54.823-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:05:54.824-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9fedf005-58ba-429a-8f9a-e258f93ab417"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:54.824-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":24850,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:05:54.923-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:54.924-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:54.924-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T14:05:55.131-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:55902","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:55.135-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:55904","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:55.339-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:55906","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:55.345-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:55910","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:55.347-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:55908","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:55.359-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:55912","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:55.363-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:55914","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:55.364-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:55916","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:55.374-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d799759d-cfc0-4a80-b491-c34a6e3e0aab"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:55.473-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:55.476-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"65a5982f-411a-4bbe-9124-ece04eb1f4e5"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"d799759d-cfc0-4a80-b491-c34a6e3e0aab"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:05:55.506-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:55.506-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"65a5982f-411a-4bbe-9124-ece04eb1f4e5"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:55.506-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"65a5982f-411a-4bbe-9124-ece04eb1f4e5"}}}}
{"t":{"$date":"2021-01-15T14:05:55.521-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1b2247e4-3aaf-421a-9d4d-266c976a93f3"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:55.590-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:55.594-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fef0ff31-548a-4870-91c5-c85c201996d6"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:55.635-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T14:05:55.699-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:55.700-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:55.700-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.snapshots","command":{"createIndexes":"library.snapshots","indexes":[{"background":true,"name":"name_1","unique":true,"key":{"name":1}}],"lsid":{"id":{"$uuid":"72e87e01-2158-4c73-b867-4729ab4b649e"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":105}}
{"t":{"$date":"2021-01-15T14:05:55.702-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f6994678-5288-4c91-8693-3432588b8adf"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:55.801-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:55.801-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:55.804-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"71a93377-81a4-45ab-bbbb-76058a811d0d"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"f6994678-5288-4c91-8693-3432588b8adf"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:05:55.841-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:55.841-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"71a93377-81a4-45ab-bbbb-76058a811d0d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:55.841-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"71a93377-81a4-45ab-bbbb-76058a811d0d"}}}}
{"t":{"$date":"2021-01-15T14:05:55.843-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ba48e9f6-549b-4bf5-ba54-6e00a147795b"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:55.844-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T14:05:55.940-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:55.940-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:55.942-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6130b321-8248-402a-8aa7-315521b95f2d"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:56.039-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:56.039-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:56.042-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c4992abf-207c-434b-9229-b319ab5e3e50"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"6130b321-8248-402a-8aa7-315521b95f2d"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:05:56.077-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:56.077-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c4992abf-207c-434b-9229-b319ab5e3e50"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:56.078-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c4992abf-207c-434b-9229-b319ab5e3e50"}}}}
{"t":{"$date":"2021-01-15T14:05:56.080-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8145c728-cd46-4ef6-bf05-6879421359d9"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"6130b321-8248-402a-8aa7-315521b95f2d"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:05:56.107-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:56.107-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8145c728-cd46-4ef6-bf05-6879421359d9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:56.107-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8145c728-cd46-4ef6-bf05-6879421359d9"}}}}
{"t":{"$date":"2021-01-15T14:05:56.110-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bf4eff34-c7f7-4e57-acc8-782bb3c6bd15"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"6130b321-8248-402a-8aa7-315521b95f2d"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:05:56.147-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:56.147-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bf4eff34-c7f7-4e57-acc8-782bb3c6bd15"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:05:56.147-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bf4eff34-c7f7-4e57-acc8-782bb3c6bd15"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:05:51,945 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:51,945 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:51,946 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpUjgu1m
2021-01-15 14:05:51,946 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:05:51,947 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:51,947 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:51,948 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:05:52,072 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=24850 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpUjgu1m
2021-01-15 14:05:52,074 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:05:52,075 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:05:52,076 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24850
2021-01-15 14:05:52,689 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:05:52,690 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24850
2021-01-15 14:05:53,300 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:05:53,301 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24850
2021-01-15 14:05:53,910 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:05:53,911 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24850
2021-01-15 14:05:54,620 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:05:54,621 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24850
2021-01-15 14:05:55,330 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:05:55,331 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24850
2021-01-15 14:05:55,354 DEBUG pytest_server_fixtures.base2 waited 0:00:03.278422 for server to start successfully
2021-01-15 14:05:55,354 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:05:55,357 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:05:55,517 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:05:56,170 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:05:56,178 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpUjgu1m
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=24850 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpUjgu1m
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24850
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24850
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24850
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24850
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24850
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24850
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.278422 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    pytest_server_fixtures.base2:base2.py:82 Server is already killed, skipping
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:24850', '-f')
{"t":{"$date":"2021-01-15T14:05:56.284-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:55924","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:56.288-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:55926","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:56.289-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:55928","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:05:56,243 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:05:56,267 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:05:56,276 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:24850
2021-01-15 14:05:56,277 INFO arctic.arctic Connecting to mongo: 127.28.84.18:24850 (127.28.84.18:24850)
2021-01-15 14:05:56,294 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:24850', or admin credentials
2021-01-15 14:05:56,339 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:56,341 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:05:56,343 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:05:56,356 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:05:56,364 INFO arctic.store.version_store Cleaning up 1 SHAs for symbol symbol
2021-01-15 14:05:56,369 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:05:56,376 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:56,417 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:05:56,418 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:05:56,420 INFO arctic.scripts.arctic_fsck Symbols:           0
2021-01-15 14:05:56,421 INFO arctic.scripts.arctic_fsck Versions:          0   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:05:56,421 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:05:56,422 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:05:56,422 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:05:56,422 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:05:56,422 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:24850
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:24850 (127.28.84.18:24850)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:24850', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1106 Cleaning up 1 SHAs for symbol symbol
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           0
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          0   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:05:56,572 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 22223 (total_procs_to_kill=1)
2021-01-15 14:05:56,572 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:05:56,574 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:05:56,589 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:05:56,590 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:56,590 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:56,591 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpUjgu1m
2021-01-15 14:05:56,591 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:56,591 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 22223 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpUjgu1m
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_cleanup_orphaned_chunks[False-data11-FwPointersCfg.ENABLED] _______

mongo_host = '127.28.84.18:18099'
library = <VersionStore at 0x7f313baa46d0>
    <ArcticLibrary at 0x7f311db9e710, arctic_...ost=['127.28.84.18:18099'], document_class=dict, tz_aware=False, connect=True)>
data =                          near
times                        
2012-09-08 17:06:1... 17:06:11.040   2.0
2012-10-09 17:06:11.040   2.5
2012-11-08 17:06:11.040   3.0
dry_run = False, fw_pointers_config = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_chunks(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            with patch("bson.ObjectId", return_value=_id):
                library.write('symbol', data, prune_previous_version=False)
    
            # Number of chunks
            chunk_count = mongo_count(library._collection)
            # Remove the version document ; should cleanup
            library._collection.versions.delete_one({'_id': _id})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) == chunk_count
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
>               assert mongo_count(library._collection) == 0
E               AssertionError: assert 1 == 0
E                +  where 1 = mongo_count(Collection(Database(MongoClient(host=['127.28.84.18:18099'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library'))
E                +    where Collection(Database(MongoClient(host=['127.28.84.18:18099'], document_class=dict, tz_aware=False, connect=True), u'arctic_user'), u'library') = <VersionStore at 0x7f313baa46d0>\n    <ArcticLibrary at 0x7f311db9e710, arctic_...ost=['127.28.84.18:18099'], document_class=dict, tz_aware=False, connect=True)>._collection

tests/integration/scripts/test_arctic_fsck.py:53: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:05:56.818-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:05:56.826-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:05:56.826-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:05:56.827-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":22287,"port":18099,"dbPath":"/tmp/tmp6QgMlm","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:05:56.827-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:05:56.827-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:05:56.827-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":18099,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp6QgMlm","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:05:56.829-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:56.829-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:05:59.222-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744759:222008][22287:0x7f3f601c7a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:59.222-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744759:222130][22287:0x7f3f601c7a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:05:59.266-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2437}}
{"t":{"$date":"2021-01-15T14:05:59.266-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:59.330-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:05:59.331-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:05:59.348-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:05:59.350-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"041f431d-aedb-4d83-8454-bdade2456423"}},"options":{"uuid":{"$uuid":"041f431d-aedb-4d83-8454-bdade2456423"}}}}
{"t":{"$date":"2021-01-15T14:05:59.420-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:59.420-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:05:59.421-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:05:59.422-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"936f06f4-50e7-43c8-99b2-bfe7c150b323"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:05:59.481-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:59.482-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp6QgMlm/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:05:59.488-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:05:59.488-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:05:59.488-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":18099,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:05:59.488-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c44c7c38-1be7-4d37-b962-721e290b2b00"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:05:59.583-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:59.583-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:05:59.805-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:43156","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:05:59.808-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:43158","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:06:00.010-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:43160","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:06:00.013-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:43162","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:06:00.014-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:43164","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:06:00.024-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:43166","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:06:00.026-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:43168","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:06:00.028-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:43170","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:06:00.034-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bd08e468-8454-4a1b-afbe-a617365bb96d"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:06:00.144-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.144-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"f7aa9069-5f03-4715-a1fc-e2dd47fdda03"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1},"storage":{},"protocol":"op_msg","durationMillis":110}}
{"t":{"$date":"2021-01-15T14:06:00.146-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1132cdde-0525-4c3f-903d-3377ee32d5a1"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"bd08e468-8454-4a1b-afbe-a617365bb96d"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:06:00.172-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.172-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1132cdde-0525-4c3f-903d-3377ee32d5a1"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:06:00.172-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1132cdde-0525-4c3f-903d-3377ee32d5a1"}}}}
{"t":{"$date":"2021-01-15T14:06:00.179-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"220c9ddf-1733-4a23-bbd9-376556c0aad6"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:06:00.251-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.254-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ceb7eb0d-0cd9-4e08-b934-87420866357e"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:06:00.308-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:06:00.347-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.347-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.349-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9da0a3f5-49cb-4803-adc1-f967fe19a9f8"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:06:00.442-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.442-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.444-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"18c60bae-6ade-49e2-ac3f-70d69d441a1f"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"9da0a3f5-49cb-4803-adc1-f967fe19a9f8"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:06:00.478-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.478-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"18c60bae-6ade-49e2-ac3f-70d69d441a1f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:06:00.478-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"18c60bae-6ade-49e2-ac3f-70d69d441a1f"}}}}
{"t":{"$date":"2021-01-15T14:06:00.480-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"782b53d9-e908-428e-ba46-05f69b3941d6"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:06:00.513-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T14:06:00.578-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.578-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.580-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1c44e0e9-deb1-42b7-901f-4c92ffdc9929"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:06:00.675-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.675-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.677-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e4f70dcf-6313-42dd-9f48-90997b4cf265"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"1c44e0e9-deb1-42b7-901f-4c92ffdc9929"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:06:00.710-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.710-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e4f70dcf-6313-42dd-9f48-90997b4cf265"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:06:00.710-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e4f70dcf-6313-42dd-9f48-90997b4cf265"}}}}
{"t":{"$date":"2021-01-15T14:06:00.712-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c6977d17-0d3d-413b-8e46-16c15ed0925c"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"1c44e0e9-deb1-42b7-901f-4c92ffdc9929"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:06:00.738-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.738-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c6977d17-0d3d-413b-8e46-16c15ed0925c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:06:00.738-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c6977d17-0d3d-413b-8e46-16c15ed0925c"}}}}
{"t":{"$date":"2021-01-15T14:06:00.740-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e3aca64f-5a37-44a4-8c78-9c3a59bb4918"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"1c44e0e9-deb1-42b7-901f-4c92ffdc9929"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:06:00.776-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:06:00.776-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e3aca64f-5a37-44a4-8c78-9c3a59bb4918"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:06:00.776-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e3aca64f-5a37-44a4-8c78-9c3a59bb4918"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:05:56,616 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:56,616 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:56,617 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp6QgMlm
2021-01-15 14:05:56,617 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:05:56,617 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:05:56,618 DEBUG pytest_shutil.workspace 
2021-01-15 14:05:56,619 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:05:56,745 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=18099 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp6QgMlm
2021-01-15 14:05:56,747 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:05:56,748 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:05:56,749 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18099
2021-01-15 14:05:57,363 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:05:57,364 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18099
2021-01-15 14:05:57,974 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:05:57,975 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18099
2021-01-15 14:05:58,585 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:05:58,585 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18099
2021-01-15 14:05:59,295 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:05:59,296 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18099
2021-01-15 14:06:00,004 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:06:00,005 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18099
2021-01-15 14:06:00,021 DEBUG pytest_server_fixtures.base2 waited 0:00:03.272655 for server to start successfully
2021-01-15 14:06:00,021 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:06:00,023 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:06:00,793 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:06:00,798 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp6QgMlm
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=18099 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp6QgMlm
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18099
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18099
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18099
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18099
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18099
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18099
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.272655 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:18099', '-f')
{"t":{"$date":"2021-01-15T14:06:00.884-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:43172","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:06:00.887-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:43174","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:06:00.888-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:43176","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:06:00,849 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:06:00,867 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:06:00,875 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:18099
2021-01-15 14:06:00,876 INFO arctic.arctic Connecting to mongo: 127.28.84.18:18099 (127.28.84.18:18099)
2021-01-15 14:06:00,891 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:18099', or admin credentials
2021-01-15 14:06:00,927 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:06:00,928 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:06:00,930 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:06:00,942 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:06:00,948 INFO arctic.store.version_store Cleaning up 1 SHAs for symbol symbol
2021-01-15 14:06:00,951 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:06:00,956 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:06:00,988 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:06:00,989 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:06:00,991 INFO arctic.scripts.arctic_fsck Symbols:           0
2021-01-15 14:06:00,992 INFO arctic.scripts.arctic_fsck Versions:          0   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:06:00,992 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:06:00,992 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:06:00,992 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:06:00,993 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:06:00,993 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:18099
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:18099 (127.28.84.18:18099)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:18099', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1106 Cleaning up 1 SHAs for symbol symbol
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           0
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          0   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:06:01,120 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 22287 (total_procs_to_kill=1)
2021-01-15 14:06:01,120 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:06:01,121 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:06:01,136 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:06:01,136 DEBUG pytest_shutil.workspace 
2021-01-15 14:06:01,137 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:06:01,137 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp6QgMlm
2021-01-15 14:06:01,138 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:06:01,138 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 22287 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp6QgMlm
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_____ test_cleanup_orphaned_snapshots[False-data6-FwPointersCfg.DISABLED] ______

mongo_host = '127.28.84.18:13261'
library = <VersionStore at 0x7f3137151c50>
    <ArcticLibrary at 0x7f3136b49050, arctic_...ost=['127.28.84.18:13261'], document_class=dict, tz_aware=False, connect=True)>
data = {'thing': sentinel.val}, dry_run = False
fw_pointers_config = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_snapshots(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            library.write('symbol', data, prune_previous_version=False)
            with patch("bson.ObjectId", return_value=_id):
                library.snapshot('snap_name')
    
            # Remove the version document ; should cleanup
            assert library._collection.snapshots.delete_one({})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                assert repr(library.read('symbol').data) == repr(data)
                # Nothing done_APPEND_COUNT
                assert len(library._collection.versions.find_one({})['parent'])
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                # Data still available (write with prune_previous_version will do the cleanup)
                assert repr(library.read('symbol').data) == repr(data)
                # Snapshot cleaned up
>               assert not len(library._collection.versions.find_one({})['parent'])
E               AssertionError: assert not 1
E                +  where 1 = len([ObjectId('6000b2e20000000000000000')])

tests/integration/scripts/test_arctic_fsck.py:170: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:08:47.677-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:08:47.684-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:08:47.684-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:08:47.685-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":24943,"port":13261,"dbPath":"/tmp/tmpRhw8pd","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:08:47.685-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:08:47.685-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:08:47.685-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":13261,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpRhw8pd","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:08:47.688-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:08:47.689-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:08:50.090-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744930:90149][24943:0x7f6a9920fa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:08:50.090-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744930:90274][24943:0x7f6a9920fa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:08:50.138-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2449}}
{"t":{"$date":"2021-01-15T14:08:50.138-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:50.202-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:08:50.203-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:08:50.220-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:08:50.221-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"015dcffb-8ff6-4bcd-aaea-0df8862c29b3"}},"options":{"uuid":{"$uuid":"015dcffb-8ff6-4bcd-aaea-0df8862c29b3"}}}}
{"t":{"$date":"2021-01-15T14:08:50.291-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:50.291-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:08:50.292-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:08:50.294-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5ab4da82-d2c2-4111-9d01-732a7f6dcbaa"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:08:50.358-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:50.358-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpRhw8pd/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:08:50.363-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"293a6bf9-92a0-4f76-b604-4c538b4f30dc"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:50.363-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:08:50.364-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:08:50.364-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":13261,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:08:50.462-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:50.462-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:50.669-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:49312","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:50.674-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:49314","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:50.877-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:49316","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:50.880-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:49318","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:50.883-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:49320","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:50.895-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:49322","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:50.901-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:49324","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:50.902-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:49326","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:50.915-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c356fe6a-0b88-4039-acdf-0bd5e30c85db"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:51.020-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.020-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"12b0caf5-7eca-45dc-a7b9-333f364a4211"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":104}}
{"t":{"$date":"2021-01-15T14:08:51.023-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0abb141d-d5f3-41e4-9fc3-9bb0efbb975d"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"c356fe6a-0b88-4039-acdf-0bd5e30c85db"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:08:51.051-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.052-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0abb141d-d5f3-41e4-9fc3-9bb0efbb975d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:08:51.052-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0abb141d-d5f3-41e4-9fc3-9bb0efbb975d"}}}}
{"t":{"$date":"2021-01-15T14:08:51.060-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"eb468443-f32d-4597-98b9-1e8604e29788"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:51.129-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.133-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c991c666-77a2-4197-9cdb-a20207ae5c3c"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:51.174-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:08:51.230-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.230-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.233-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ca9c8dbf-ea88-40c4-b5d8-19854bed4ac3"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:51.355-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.355-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.355-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.versions","command":{"createIndexes":"library.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"12b0caf5-7eca-45dc-a7b9-333f364a4211"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":5},"storage":{},"protocol":"op_msg","durationMillis":122}}
{"t":{"$date":"2021-01-15T14:08:51.358-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2a12c856-7ccf-4f72-ab71-f51556f0bccf"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"ca9c8dbf-ea88-40c4-b5d8-19854bed4ac3"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:08:51.382-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":17}}
{"t":{"$date":"2021-01-15T14:08:51.405-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.405-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2a12c856-7ccf-4f72-ab71-f51556f0bccf"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:08:51.405-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2a12c856-7ccf-4f72-ab71-f51556f0bccf"}}}}
{"t":{"$date":"2021-01-15T14:08:51.408-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"52412a37-4882-4560-88b3-9d90a03448b2"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:51.556-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.556-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.557-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.version_nums","command":{"createIndexes":"library.version_nums","indexes":[{"background":true,"name":"symbol_1","unique":true,"key":{"symbol":1}}],"lsid":{"id":{"$uuid":"12b0caf5-7eca-45dc-a7b9-333f364a4211"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":9},"storage":{},"protocol":"op_msg","durationMillis":148}}
{"t":{"$date":"2021-01-15T14:08:51.559-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4ade0883-3e4b-45da-80d5-4fd26c93a596"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:51.681-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.681-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.682-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library","command":{"createIndexes":"library","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"12b0caf5-7eca-45dc-a7b9-333f364a4211"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":122}}
{"t":{"$date":"2021-01-15T14:08:51.684-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a4ac48aa-6239-49e8-b3cd-8c4510243169"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"4ade0883-3e4b-45da-80d5-4fd26c93a596"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:08:51.728-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.728-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a4ac48aa-6239-49e8-b3cd-8c4510243169"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:08:51.728-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a4ac48aa-6239-49e8-b3cd-8c4510243169"}}}}
{"t":{"$date":"2021-01-15T14:08:51.731-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fc66ac4c-e763-41c6-914d-a994e943121e"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"4ade0883-3e4b-45da-80d5-4fd26c93a596"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:08:51.772-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.772-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fc66ac4c-e763-41c6-914d-a994e943121e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:08:51.772-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fc66ac4c-e763-41c6-914d-a994e943121e"}}}}
{"t":{"$date":"2021-01-15T14:08:51.775-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c7120cf1-5ed3-44e4-a210-4319adadc311"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"4ade0883-3e4b-45da-80d5-4fd26c93a596"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:08:51.824-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:51.824-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c7120cf1-5ed3-44e4-a210-4319adadc311"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:08:51.824-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c7120cf1-5ed3-44e4-a210-4319adadc311"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:08:47,474 DEBUG pytest_shutil.workspace 
2021-01-15 14:08:47,474 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:08:47,475 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpRhw8pd
2021-01-15 14:08:47,475 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:08:47,476 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:08:47,476 DEBUG pytest_shutil.workspace 
2021-01-15 14:08:47,477 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:08:47,607 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=13261 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpRhw8pd
2021-01-15 14:08:47,608 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:08:47,610 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:08:47,611 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:13261
2021-01-15 14:08:48,226 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:08:48,226 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:13261
2021-01-15 14:08:48,836 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:08:48,837 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:13261
2021-01-15 14:08:49,446 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:08:49,447 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:13261
2021-01-15 14:08:50,158 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:08:50,159 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:13261
2021-01-15 14:08:50,868 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:08:50,868 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:13261
2021-01-15 14:08:50,892 DEBUG pytest_server_fixtures.base2 waited 0:00:03.281986 for server to start successfully
2021-01-15 14:08:50,893 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:08:50,896 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:08:51,848 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:08:51,855 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpRhw8pd
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=13261 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpRhw8pd
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:13261
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:13261
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:13261
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:13261
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:13261
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:13261
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.281986 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:13261', '-f')
{"t":{"$date":"2021-01-15T14:08:51.964-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:49328","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:51.969-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:49330","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:51.970-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:49332","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:08:51,917 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:08:51,932 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:08:51,953 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:13261
2021-01-15 14:08:51,954 INFO arctic.arctic Connecting to mongo: 127.28.84.18:13261 (127.28.84.18:13261)
2021-01-15 14:08:51,975 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:13261', or admin credentials
2021-01-15 14:08:52,024 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:08:52,025 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:08:52,028 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:08:52,042 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:08:52,046 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:08:52,052 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:08:52,098 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:08:52,099 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:08:52,102 INFO arctic.scripts.arctic_fsck Symbols:           1
2021-01-15 14:08:52,103 INFO arctic.scripts.arctic_fsck Versions:          1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:08:52,103 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:08:52,104 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:08:52,104 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:08:52,105 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:08:52,105 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:13261
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:13261 (127.28.84.18:13261)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:13261', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           1
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:08:52,274 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 24943 (total_procs_to_kill=1)
2021-01-15 14:08:52,275 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:08:52,277 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:08:52,293 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:08:52,294 DEBUG pytest_shutil.workspace 
2021-01-15 14:08:52,295 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:08:52,295 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpRhw8pd
2021-01-15 14:08:52,296 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:08:52,296 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 24943 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpRhw8pd
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
______ test_cleanup_orphaned_snapshots[False-data7-FwPointersCfg.HYBRID] _______

mongo_host = '127.28.84.18:18555'
library = <VersionStore at 0x7f3136b49c90>
    <ArcticLibrary at 0x7f3136b24190, arctic_...ost=['127.28.84.18:18555'], document_class=dict, tz_aware=False, connect=True)>
data = {'thing': sentinel.val}, dry_run = False
fw_pointers_config = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_snapshots(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            library.write('symbol', data, prune_previous_version=False)
            with patch("bson.ObjectId", return_value=_id):
                library.snapshot('snap_name')
    
            # Remove the version document ; should cleanup
            assert library._collection.snapshots.delete_one({})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                assert repr(library.read('symbol').data) == repr(data)
                # Nothing done_APPEND_COUNT
                assert len(library._collection.versions.find_one({})['parent'])
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                # Data still available (write with prune_previous_version will do the cleanup)
                assert repr(library.read('symbol').data) == repr(data)
                # Snapshot cleaned up
>               assert not len(library._collection.versions.find_one({})['parent'])
E               AssertionError: assert not 1
E                +  where 1 = len([ObjectId('6000b2e70000000000000000')])

tests/integration/scripts/test_arctic_fsck.py:170: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:08:52.532-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:08:52.536-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:08:52.537-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:08:52.538-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":25006,"port":18555,"dbPath":"/tmp/tmpjTNiTC","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:08:52.538-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:08:52.538-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:08:52.538-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":18555,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpjTNiTC","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:08:52.540-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:08:52.540-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:08:54.981-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744934:981901][25006:0x7f7c670b8a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:08:54.982-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744934:982030][25006:0x7f7c670b8a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:08:55.029-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2489}}
{"t":{"$date":"2021-01-15T14:08:55.029-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:55.093-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:08:55.094-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:08:55.113-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:08:55.114-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"c0e8dfa9-e819-4bc8-b5e6-5080c799a90f"}},"options":{"uuid":{"$uuid":"c0e8dfa9-e819-4bc8-b5e6-5080c799a90f"}}}}
{"t":{"$date":"2021-01-15T14:08:55.180-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:55.180-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:08:55.181-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:08:55.183-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ad157220-d7b4-4855-ad26-a87d1ca4b37d"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:08:55.248-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:55.249-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpjTNiTC/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:08:55.253-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e467b8fe-4b30-48ae-80ce-8d227a690e68"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:55.255-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:08:55.256-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:08:55.256-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":18555,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:08:55.353-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:55.353-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:55.353-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T14:08:55.519-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:57052","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:55.523-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:57054","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:55.727-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:57056","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:55.731-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:57058","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:55.732-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:57060","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:55.742-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:57062","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:55.750-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:57064","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:55.751-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:57066","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:55.762-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"83f444b8-405d-44eb-a6c4-49e6c920edb7"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:55.866-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:55.867-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"79251f6f-cad6-4c51-951f-f9e614802277"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":104}}
{"t":{"$date":"2021-01-15T14:08:55.869-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a5779c00-8e41-408a-aa1f-cd463baa4af0"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"83f444b8-405d-44eb-a6c4-49e6c920edb7"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:08:55.897-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:55.897-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a5779c00-8e41-408a-aa1f-cd463baa4af0"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:08:55.897-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a5779c00-8e41-408a-aa1f-cd463baa4af0"}}}}
{"t":{"$date":"2021-01-15T14:08:55.906-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bfbb8373-649c-43b2-8d31-1cf4b4e1973c"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:55.977-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:55.981-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3f6db4cc-2400-451b-8682-6ff026189d3c"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:56.024-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:08:56.078-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.078-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.080-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"33c68cf3-3afb-4445-95b6-564aa84e45d6"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:56.177-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.177-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.179-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c6251043-689b-496a-947a-0009a6a055a0"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"33c68cf3-3afb-4445-95b6-564aa84e45d6"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:08:56.215-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.215-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c6251043-689b-496a-947a-0009a6a055a0"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:08:56.216-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c6251043-689b-496a-947a-0009a6a055a0"}}}}
{"t":{"$date":"2021-01-15T14:08:56.218-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"39e77b69-3964-4a88-94f2-1d9404e493d6"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:56.231-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T14:08:56.315-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.315-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.318-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8f56cb22-b95c-4aa2-8e73-69428975c743"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:56.414-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.414-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.416-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"40b04dec-eade-4a78-9b45-be4b783eb82d"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"8f56cb22-b95c-4aa2-8e73-69428975c743"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:08:56.450-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.450-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"40b04dec-eade-4a78-9b45-be4b783eb82d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:08:56.450-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"40b04dec-eade-4a78-9b45-be4b783eb82d"}}}}
{"t":{"$date":"2021-01-15T14:08:56.452-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4b94e1d5-77a6-4266-9792-ac037e2a9067"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"8f56cb22-b95c-4aa2-8e73-69428975c743"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:08:56.478-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.478-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4b94e1d5-77a6-4266-9792-ac037e2a9067"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:08:56.478-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4b94e1d5-77a6-4266-9792-ac037e2a9067"}}}}
{"t":{"$date":"2021-01-15T14:08:56.480-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8fe97a72-b28c-4dfe-bf2c-2d5c4467bd27"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"8f56cb22-b95c-4aa2-8e73-69428975c743"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:08:56.515-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:56.515-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8fe97a72-b28c-4dfe-bf2c-2d5c4467bd27"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:08:56.515-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8fe97a72-b28c-4dfe-bf2c-2d5c4467bd27"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:08:52,319 DEBUG pytest_shutil.workspace 
2021-01-15 14:08:52,320 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:08:52,320 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpjTNiTC
2021-01-15 14:08:52,321 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:08:52,321 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:08:52,321 DEBUG pytest_shutil.workspace 
2021-01-15 14:08:52,322 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:08:52,455 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=18555 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpjTNiTC
2021-01-15 14:08:52,456 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:08:52,458 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:08:52,459 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18555
2021-01-15 14:08:53,075 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:08:53,076 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18555
2021-01-15 14:08:53,686 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:08:53,686 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18555
2021-01-15 14:08:54,296 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:08:54,296 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18555
2021-01-15 14:08:55,007 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:08:55,008 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18555
2021-01-15 14:08:55,718 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:08:55,718 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:18555
2021-01-15 14:08:55,741 DEBUG pytest_server_fixtures.base2 waited 0:00:03.283433 for server to start successfully
2021-01-15 14:08:55,743 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:08:55,746 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:08:56,532 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:08:56,537 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpjTNiTC
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=18555 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpjTNiTC
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18555
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18555
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18555
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18555
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18555
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:18555
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.283433 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:18555', '-f')
{"t":{"$date":"2021-01-15T14:08:56.626-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:57074","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:56.630-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:57076","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:08:56.630-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:57078","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:08:56,591 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:08:56,603 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:08:56,620 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:18555
2021-01-15 14:08:56,621 INFO arctic.arctic Connecting to mongo: 127.28.84.18:18555 (127.28.84.18:18555)
2021-01-15 14:08:56,634 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:18555', or admin credentials
2021-01-15 14:08:56,670 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:08:56,671 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:08:56,673 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:08:56,683 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:08:56,688 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:08:56,694 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:08:56,729 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:08:56,730 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:08:56,732 INFO arctic.scripts.arctic_fsck Symbols:           1
2021-01-15 14:08:56,733 INFO arctic.scripts.arctic_fsck Versions:          1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:08:56,733 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:08:56,733 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:08:56,734 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:08:56,734 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:08:56,734 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:18555
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:18555 (127.28.84.18:18555)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:18555', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           1
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:08:56,848 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 25006 (total_procs_to_kill=1)
2021-01-15 14:08:56,848 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:08:56,850 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:08:56,864 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:08:56,864 DEBUG pytest_shutil.workspace 
2021-01-15 14:08:56,865 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:08:56,865 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpjTNiTC
2021-01-15 14:08:56,865 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:08:56,865 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 25006 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpjTNiTC
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
______ test_cleanup_orphaned_snapshots[False-data8-FwPointersCfg.ENABLED] ______

mongo_host = '127.28.84.18:24053'
library = <VersionStore at 0x7f3136b55b90>
    <ArcticLibrary at 0x7f3137166e90, arctic_...ost=['127.28.84.18:24053'], document_class=dict, tz_aware=False, connect=True)>
data = {'thing': sentinel.val}, dry_run = False
fw_pointers_config = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_snapshots(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            library.write('symbol', data, prune_previous_version=False)
            with patch("bson.ObjectId", return_value=_id):
                library.snapshot('snap_name')
    
            # Remove the version document ; should cleanup
            assert library._collection.snapshots.delete_one({})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                assert repr(library.read('symbol').data) == repr(data)
                # Nothing done_APPEND_COUNT
                assert len(library._collection.versions.find_one({})['parent'])
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                # Data still available (write with prune_previous_version will do the cleanup)
                assert repr(library.read('symbol').data) == repr(data)
                # Snapshot cleaned up
>               assert not len(library._collection.versions.find_one({})['parent'])
E               AssertionError: assert not 1
E                +  where 1 = len([ObjectId('6000b2ec0000000000000000')])

tests/integration/scripts/test_arctic_fsck.py:170: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:08:57.085-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:08:57.095-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:08:57.095-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:08:57.096-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":25068,"port":24053,"dbPath":"/tmp/tmpIQ62_P","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:08:57.096-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:08:57.096-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:08:57.096-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":24053,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpIQ62_P","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:08:57.098-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:08:57.098-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:08:59.422-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744939:422265][25068:0x7f1029f7aa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:08:59.422-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744939:422394][25068:0x7f1029f7aa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:08:59.466-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2368}}
{"t":{"$date":"2021-01-15T14:08:59.466-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:59.531-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:08:59.531-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:08:59.549-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:08:59.551-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"8ab44242-5370-4d43-9cfd-4e50b4590b88"}},"options":{"uuid":{"$uuid":"8ab44242-5370-4d43-9cfd-4e50b4590b88"}}}}
{"t":{"$date":"2021-01-15T14:08:59.622-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:59.622-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:08:59.623-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:08:59.625-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"67fd1ea1-7669-4009-8aad-91dd6a01cf23"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:08:59.686-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:59.687-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpIQ62_P/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:08:59.692-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:08:59.692-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:08:59.692-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":24053,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:08:59.692-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2ebb3c48-228f-491a-a595-94380df1e80a"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:08:59.789-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:08:59.789-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.076-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:44192","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:00.080-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:44194","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:00.283-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:44196","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:00.288-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:44200","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:00.289-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:44198","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:00.300-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:44202","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:00.309-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:44204","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:00.310-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:44206","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:00.321-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"352f042b-acca-4889-becd-0cff96bf941b"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:00.419-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.422-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"98dfb993-74d0-43e2-9d9c-e85330878e4a"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"352f042b-acca-4889-becd-0cff96bf941b"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:09:00.449-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.450-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"98dfb993-74d0-43e2-9d9c-e85330878e4a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:00.450-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"98dfb993-74d0-43e2-9d9c-e85330878e4a"}}}}
{"t":{"$date":"2021-01-15T14:09:00.457-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6671d28a-62d5-473d-8d35-53d885cea8e9"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:00.530-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.534-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"140be271-0ccf-42e0-8191-1c46afbae539"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:00.580-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T14:09:00.632-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.632-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.635-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6aab8c67-6559-4a01-af18-14e77dfeda52"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:00.732-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.732-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.734-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"92b3b4d1-f7c2-40ce-be8a-3c4c68f97b0c"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"6aab8c67-6559-4a01-af18-14e77dfeda52"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:09:00.770-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.770-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"92b3b4d1-f7c2-40ce-be8a-3c4c68f97b0c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:00.770-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"92b3b4d1-f7c2-40ce-be8a-3c4c68f97b0c"}}}}
{"t":{"$date":"2021-01-15T14:09:00.772-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"34e25f81-6c95-4135-8842-83b40196ab56"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:00.792-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":20}}
{"t":{"$date":"2021-01-15T14:09:00.872-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.872-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.873-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.version_nums","command":{"createIndexes":"library.version_nums","indexes":[{"background":true,"name":"symbol_1","unique":true,"key":{"symbol":1}}],"lsid":{"id":{"$uuid":"a73cf45a-2ed0-49c5-934c-b5d6ee4903cc"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T14:09:00.875-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1967ff65-71ac-40f8-9539-25b3dc907315"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:00.974-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.974-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:00.977-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7ed20c9b-dd1c-4611-a2c7-454af9af2ae6"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"1967ff65-71ac-40f8-9539-25b3dc907315"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:09:01.011-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:01.011-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7ed20c9b-dd1c-4611-a2c7-454af9af2ae6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:01.011-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7ed20c9b-dd1c-4611-a2c7-454af9af2ae6"}}}}
{"t":{"$date":"2021-01-15T14:09:01.014-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"502524db-4f0e-46ae-8d7e-cf425e756bae"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"1967ff65-71ac-40f8-9539-25b3dc907315"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:09:01.041-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:01.041-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"502524db-4f0e-46ae-8d7e-cf425e756bae"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:01.041-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"502524db-4f0e-46ae-8d7e-cf425e756bae"}}}}
{"t":{"$date":"2021-01-15T14:09:01.044-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5502065c-7881-467f-8cb2-33279c004702"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"1967ff65-71ac-40f8-9539-25b3dc907315"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:09:01.081-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:01.082-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5502065c-7881-467f-8cb2-33279c004702"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:01.082-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5502065c-7881-467f-8cb2-33279c004702"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:08:56,886 DEBUG pytest_shutil.workspace 
2021-01-15 14:08:56,887 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:08:56,888 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpIQ62_P
2021-01-15 14:08:56,888 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:08:56,889 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:08:56,889 DEBUG pytest_shutil.workspace 
2021-01-15 14:08:56,890 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:08:57,013 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=24053 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpIQ62_P
2021-01-15 14:08:57,015 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:08:57,016 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:08:57,017 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24053
2021-01-15 14:08:57,629 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:08:57,630 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24053
2021-01-15 14:08:58,240 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:08:58,241 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24053
2021-01-15 14:08:58,851 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:08:58,852 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24053
2021-01-15 14:08:59,564 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:08:59,565 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24053
2021-01-15 14:09:00,274 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:09:00,275 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:24053
2021-01-15 14:09:00,301 DEBUG pytest_server_fixtures.base2 waited 0:00:03.284359 for server to start successfully
2021-01-15 14:09:00,302 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:09:00,307 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:09:01,106 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:09:01,113 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpIQ62_P
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=24053 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpIQ62_P
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24053
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24053
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24053
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24053
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24053
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:24053
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.284359 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:24053', '-f')
{"t":{"$date":"2021-01-15T14:09:01.223-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:44208","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:01.228-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:44210","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:01.229-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:44212","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:09:01,177 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:09:01,194 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:09:01,214 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:24053
2021-01-15 14:09:01,214 INFO arctic.arctic Connecting to mongo: 127.28.84.18:24053 (127.28.84.18:24053)
2021-01-15 14:09:01,234 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:24053', or admin credentials
2021-01-15 14:09:01,280 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:01,281 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:09:01,283 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:09:01,296 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:09:01,299 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:09:01,305 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:01,348 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:09:01,349 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:09:01,352 INFO arctic.scripts.arctic_fsck Symbols:           1
2021-01-15 14:09:01,352 INFO arctic.scripts.arctic_fsck Versions:          1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:09:01,353 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:09:01,353 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:09:01,353 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:09:01,354 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:01,354 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:24053
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:24053 (127.28.84.18:24053)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:24053', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           1
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:09:01,496 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 25068 (total_procs_to_kill=1)
2021-01-15 14:09:01,497 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:09:01,498 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:09:01,513 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:09:01,515 DEBUG pytest_shutil.workspace 
2021-01-15 14:09:01,515 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:01,516 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpIQ62_P
2021-01-15 14:09:01,517 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:01,517 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 25068 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpIQ62_P
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_____ test_cleanup_orphaned_snapshots[False-data9-FwPointersCfg.DISABLED] ______

mongo_host = '127.28.84.18:4990'
library = <VersionStore at 0x7f313b219490>
    <ArcticLibrary at 0x7f313b247b10, arctic_...host=['127.28.84.18:4990'], document_class=dict, tz_aware=False, connect=True)>
data =                          near
times                        
2012-09-08 17:06:1... 17:06:11.040   2.0
2012-10-09 17:06:11.040   2.5
2012-11-08 17:06:11.040   3.0
dry_run = False, fw_pointers_config = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_snapshots(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            library.write('symbol', data, prune_previous_version=False)
            with patch("bson.ObjectId", return_value=_id):
                library.snapshot('snap_name')
    
            # Remove the version document ; should cleanup
            assert library._collection.snapshots.delete_one({})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                assert repr(library.read('symbol').data) == repr(data)
                # Nothing done_APPEND_COUNT
                assert len(library._collection.versions.find_one({})['parent'])
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                # Data still available (write with prune_previous_version will do the cleanup)
                assert repr(library.read('symbol').data) == repr(data)
                # Snapshot cleaned up
>               assert not len(library._collection.versions.find_one({})['parent'])
E               AssertionError: assert not 1
E                +  where 1 = len([ObjectId('6000b2f00000000000000000')])

tests/integration/scripts/test_arctic_fsck.py:170: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:09:01.761-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:09:01.774-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:09:01.774-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:09:01.775-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":25131,"port":4990,"dbPath":"/tmp/tmptWNWu7","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:09:01.775-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:09:01.775-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:09:01.775-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":4990,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmptWNWu7","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:09:01.777-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:09:01.777-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:09:04.196-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744944:196153][25131:0x7feee601aa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:09:04.196-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744944:196273][25131:0x7feee601aa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:09:04.244-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2467}}
{"t":{"$date":"2021-01-15T14:09:04.244-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:04.305-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:09:04.306-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:09:04.325-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:09:04.326-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"d674ed26-611d-4289-b584-bcc836aa4b04"}},"options":{"uuid":{"$uuid":"d674ed26-611d-4289-b584-bcc836aa4b04"}}}}
{"t":{"$date":"2021-01-15T14:09:04.394-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:04.394-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:09:04.395-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:09:04.397-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e6c1078f-86ca-4c0a-98a1-6d8d41b96c0b"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:09:04.460-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:04.461-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmptWNWu7/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:09:04.465-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:09:04.465-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"46196324-2c1f-4d1c-9187-96c1056a1b8f"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:04.465-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:09:04.465-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":4990,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:09:04.564-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:04.564-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:04.749-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:36636","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:04.753-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:36638","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:04.959-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:36640","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:04.964-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:36642","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:04.965-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:36644","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:04.976-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:36646","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:04.985-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:36648","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:04.985-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:36650","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:04.995-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2fcf900a-d466-4d6b-9403-331b0a70fc22"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:05.066-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.068-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7b3a5465-0e2d-4bbd-9596-96bf64784746"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"2fcf900a-d466-4d6b-9403-331b0a70fc22"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:09:05.092-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.092-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7b3a5465-0e2d-4bbd-9596-96bf64784746"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:05.092-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7b3a5465-0e2d-4bbd-9596-96bf64784746"}}}}
{"t":{"$date":"2021-01-15T14:09:05.101-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6c3a6002-5541-438d-a34c-ccaacddd53a8"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:05.172-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.175-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cd573ff6-ca16-408f-bf20-dcb36794c3da"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:05.253-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:09:05.272-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.272-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.274-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"63d589c3-d668-4f14-ae8a-6b8d10660568"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:05.374-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.374-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.377-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4545fc8e-a906-4b52-ba48-c28d816b8c5f"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"63d589c3-d668-4f14-ae8a-6b8d10660568"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:09:05.410-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.411-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4545fc8e-a906-4b52-ba48-c28d816b8c5f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:05.411-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4545fc8e-a906-4b52-ba48-c28d816b8c5f"}}}}
{"t":{"$date":"2021-01-15T14:09:05.413-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"48774075-3d49-46cb-b3ef-2107a0b1925e"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:05.464-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T14:09:05.514-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.514-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.514-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.version_nums","command":{"createIndexes":"library.version_nums","indexes":[{"background":true,"name":"symbol_1","unique":true,"key":{"symbol":1}}],"lsid":{"id":{"$uuid":"b3bb89bd-4013-4be8-96b8-d860b06b05a0"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T14:09:05.517-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5131d46a-d1f3-4f3b-bad6-f0ec069b13d2"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:05.616-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.616-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.619-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b4dba768-24be-49c8-af0c-64d394a79c0c"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"5131d46a-d1f3-4f3b-bad6-f0ec069b13d2"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:09:05.652-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.652-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b4dba768-24be-49c8-af0c-64d394a79c0c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:05.652-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b4dba768-24be-49c8-af0c-64d394a79c0c"}}}}
{"t":{"$date":"2021-01-15T14:09:05.655-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"957a443e-de7a-4bd0-a6f0-823c51f6f7e3"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"5131d46a-d1f3-4f3b-bad6-f0ec069b13d2"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:09:05.686-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.686-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"957a443e-de7a-4bd0-a6f0-823c51f6f7e3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:05.686-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"957a443e-de7a-4bd0-a6f0-823c51f6f7e3"}}}}
{"t":{"$date":"2021-01-15T14:09:05.688-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b449b9fc-587c-4f82-ad0f-035ebed6f67d"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"5131d46a-d1f3-4f3b-bad6-f0ec069b13d2"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:09:05.724-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:05.724-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b449b9fc-587c-4f82-ad0f-035ebed6f67d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:05.724-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b449b9fc-587c-4f82-ad0f-035ebed6f67d"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:09:01,539 DEBUG pytest_shutil.workspace 
2021-01-15 14:09:01,540 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:01,541 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmptWNWu7
2021-01-15 14:09:01,541 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:09:01,541 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:01,542 DEBUG pytest_shutil.workspace 
2021-01-15 14:09:01,542 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:09:01,683 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=4990 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmptWNWu7
2021-01-15 14:09:01,685 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:09:01,687 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:09:01,687 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:4990
2021-01-15 14:09:02,303 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:09:02,304 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:4990
2021-01-15 14:09:02,915 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:09:02,915 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:4990
2021-01-15 14:09:03,526 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:09:03,527 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:4990
2021-01-15 14:09:04,237 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:09:04,237 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:4990
2021-01-15 14:09:04,948 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:09:04,949 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:4990
2021-01-15 14:09:04,976 DEBUG pytest_server_fixtures.base2 waited 0:00:03.289276 for server to start successfully
2021-01-15 14:09:04,977 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:09:04,980 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:09:05,747 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:09:05,754 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmptWNWu7
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=4990 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmptWNWu7
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:4990
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:4990
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:4990
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:4990
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:4990
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:4990
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.289276 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:4990', '-f')
{"t":{"$date":"2021-01-15T14:09:05.874-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:36652","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:05.878-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:36654","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:05.879-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:36656","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:09:05,821 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:09:05,843 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:09:05,865 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:4990
2021-01-15 14:09:05,866 INFO arctic.arctic Connecting to mongo: 127.28.84.18:4990 (127.28.84.18:4990)
2021-01-15 14:09:05,884 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:4990', or admin credentials
2021-01-15 14:09:05,937 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:05,938 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:09:05,940 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:09:05,954 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:09:05,958 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:09:05,964 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:06,009 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:09:06,010 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:09:06,013 INFO arctic.scripts.arctic_fsck Symbols:           1
2021-01-15 14:09:06,014 INFO arctic.scripts.arctic_fsck Versions:          1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:09:06,014 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:09:06,014 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:09:06,015 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:09:06,015 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:06,016 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:4990
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:4990 (127.28.84.18:4990)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:4990', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           1
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:09:06,265 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 25131 (total_procs_to_kill=1)
2021-01-15 14:09:06,265 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:09:06,267 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:09:06,282 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:09:06,282 DEBUG pytest_shutil.workspace 
2021-01-15 14:09:06,283 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:06,283 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmptWNWu7
2021-01-15 14:09:06,283 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:06,284 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 25131 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmptWNWu7
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
______ test_cleanup_orphaned_snapshots[False-data10-FwPointersCfg.HYBRID] ______

mongo_host = '127.28.84.18:32252'
library = <VersionStore at 0x7f31371ba890>
    <ArcticLibrary at 0x7f31371ba250, arctic_...ost=['127.28.84.18:32252'], document_class=dict, tz_aware=False, connect=True)>
data =                          near
times                        
2012-09-08 17:06:1... 17:06:11.040   2.0
2012-10-09 17:06:11.040   2.5
2012-11-08 17:06:11.040   3.0
dry_run = False, fw_pointers_config = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_snapshots(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            library.write('symbol', data, prune_previous_version=False)
            with patch("bson.ObjectId", return_value=_id):
                library.snapshot('snap_name')
    
            # Remove the version document ; should cleanup
            assert library._collection.snapshots.delete_one({})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                assert repr(library.read('symbol').data) == repr(data)
                # Nothing done_APPEND_COUNT
                assert len(library._collection.versions.find_one({})['parent'])
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                # Data still available (write with prune_previous_version will do the cleanup)
                assert repr(library.read('symbol').data) == repr(data)
                # Snapshot cleaned up
>               assert not len(library._collection.versions.find_one({})['parent'])
E               AssertionError: assert not 1
E                +  where 1 = len([ObjectId('6000b2f50000000000000000')])

tests/integration/scripts/test_arctic_fsck.py:170: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:09:06.512-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:09:06.516-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:09:06.516-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:09:06.517-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":25193,"port":32252,"dbPath":"/tmp/tmp1RmBUi","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:09:06.518-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:09:06.518-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:09:06.518-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":32252,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp1RmBUi","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:09:06.520-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:09:06.520-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:09:08.734-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744948:734878][25193:0x7fe22edeca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:09:08.735-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744948:735018][25193:0x7fe22edeca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:09:08.784-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2263}}
{"t":{"$date":"2021-01-15T14:09:08.785-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:08.843-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:09:08.844-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:09:08.865-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:09:08.867-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"95378589-10ff-46f3-be98-161835a4f9c0"}},"options":{"uuid":{"$uuid":"95378589-10ff-46f3-be98-161835a4f9c0"}}}}
{"t":{"$date":"2021-01-15T14:09:08.934-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:08.934-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:09:08.935-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:09:08.936-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0004714c-7f4f-4133-a438-1ca643c13f9e"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:09:09.002-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:09.003-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp1RmBUi/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:09:09.007-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:09:09.007-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:09:09.007-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":32252,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:09:09.007-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4dfe7b97-ad55-4c79-8f72-9d6279a66f7d"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:09.105-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:09.105-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:09.492-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:57346","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:09.495-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:57348","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:09.700-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:57350","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:09.704-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:57352","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:09.704-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:57354","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:09.713-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:57356","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:09.720-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:57358","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:09.720-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:57360","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:09.728-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7ee7cdc3-c28e-4273-851b-c85a3e1cb6a3"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:09.815-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:09.818-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b933b47f-0f85-4c06-9891-09ee0d7e54c1"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"7ee7cdc3-c28e-4273-851b-c85a3e1cb6a3"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:09:09.849-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:09.849-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b933b47f-0f85-4c06-9891-09ee0d7e54c1"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:09.849-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b933b47f-0f85-4c06-9891-09ee0d7e54c1"}}}}
{"t":{"$date":"2021-01-15T14:09:09.854-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d5e412ac-6b14-4b9a-af31-cdea9b747679"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:09.921-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:09.924-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0b11fc91-f2b6-4fc7-bd4c-0ab392e2e57f"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:09.996-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:09:10.022-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.022-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.025-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e50fc1e7-5309-447c-9e5d-cb793fa9de04"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:10.122-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.122-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.125-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ef593bdb-eaa8-45d4-bf7b-39776090478f"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"e50fc1e7-5309-447c-9e5d-cb793fa9de04"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:09:10.157-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.157-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ef593bdb-eaa8-45d4-bf7b-39776090478f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:10.158-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ef593bdb-eaa8-45d4-bf7b-39776090478f"}}}}
{"t":{"$date":"2021-01-15T14:09:10.159-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b9dcbdcd-6664-4474-8bdd-e1da19de6822"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:10.204-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T14:09:10.257-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.257-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.259-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ddab4ab3-19b0-4a20-9890-673d3f2b3429"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:10.357-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.357-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.359-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"eb6e1532-27f9-4909-bff1-15e2003e29f8"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"ddab4ab3-19b0-4a20-9890-673d3f2b3429"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:09:10.394-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.394-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"eb6e1532-27f9-4909-bff1-15e2003e29f8"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:10.395-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"eb6e1532-27f9-4909-bff1-15e2003e29f8"}}}}
{"t":{"$date":"2021-01-15T14:09:10.396-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6434dc91-3c4c-4c56-9573-87af1572dfc5"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"ddab4ab3-19b0-4a20-9890-673d3f2b3429"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:09:10.427-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.427-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6434dc91-3c4c-4c56-9573-87af1572dfc5"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:10.427-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6434dc91-3c4c-4c56-9573-87af1572dfc5"}}}}
{"t":{"$date":"2021-01-15T14:09:10.429-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7f91ca74-11b1-41f9-9515-76ac0950a895"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"ddab4ab3-19b0-4a20-9890-673d3f2b3429"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:09:10.462-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:10.462-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7f91ca74-11b1-41f9-9515-76ac0950a895"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:10.462-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7f91ca74-11b1-41f9-9515-76ac0950a895"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:09:06,306 DEBUG pytest_shutil.workspace 
2021-01-15 14:09:06,306 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:06,307 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp1RmBUi
2021-01-15 14:09:06,307 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:09:06,308 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:06,308 DEBUG pytest_shutil.workspace 
2021-01-15 14:09:06,309 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:09:06,437 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=32252 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp1RmBUi
2021-01-15 14:09:06,439 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:09:06,440 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:09:06,440 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32252
2021-01-15 14:09:07,052 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:09:07,053 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32252
2021-01-15 14:09:07,661 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:09:07,662 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32252
2021-01-15 14:09:08,271 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:09:08,271 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32252
2021-01-15 14:09:08,981 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:09:08,982 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32252
2021-01-15 14:09:09,693 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:09:09,693 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32252
2021-01-15 14:09:09,712 DEBUG pytest_server_fixtures.base2 waited 0:00:03.271711 for server to start successfully
2021-01-15 14:09:09,712 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:09:09,715 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:09:10,482 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:09:10,488 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp1RmBUi
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=32252 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp1RmBUi
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32252
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32252
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32252
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32252
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32252
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32252
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.271711 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:32252', '-f')
{"t":{"$date":"2021-01-15T14:09:10.592-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:57362","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:10.596-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:57364","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:10.596-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:57366","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:09:10,542 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:09:10,564 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:09:10,582 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:32252
2021-01-15 14:09:10,582 INFO arctic.arctic Connecting to mongo: 127.28.84.18:32252 (127.28.84.18:32252)
2021-01-15 14:09:10,600 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:32252', or admin credentials
2021-01-15 14:09:10,640 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:10,641 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:09:10,643 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:09:10,653 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:09:10,658 INFO arctic.store.version_store Cleaning up 0 SHAs for symbol symbol
2021-01-15 14:09:10,662 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:09:10,667 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:10,703 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:09:10,703 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:09:10,706 INFO arctic.scripts.arctic_fsck Symbols:           1
2021-01-15 14:09:10,707 INFO arctic.scripts.arctic_fsck Versions:          1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:09:10,707 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:09:10,707 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:09:10,708 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:09:10,708 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:10,708 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:32252
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:32252 (127.28.84.18:32252)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:32252', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1106 Cleaning up 0 SHAs for symbol symbol
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           1
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:09:10,915 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 25193 (total_procs_to_kill=1)
2021-01-15 14:09:10,916 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:09:10,917 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:09:10,933 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:09:10,933 DEBUG pytest_shutil.workspace 
2021-01-15 14:09:10,934 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:10,935 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp1RmBUi
2021-01-15 14:09:10,936 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:10,936 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 25193 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp1RmBUi
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_____ test_cleanup_orphaned_snapshots[False-data11-FwPointersCfg.ENABLED] ______

mongo_host = '127.28.84.18:15234'
library = <VersionStore at 0x7f313b246b90>
    <ArcticLibrary at 0x7f313b246990, arctic_...ost=['127.28.84.18:15234'], document_class=dict, tz_aware=False, connect=True)>
data =                          near
times                        
2012-09-08 17:06:1... 17:06:11.040   2.0
2012-10-09 17:06:11.040   2.5
2012-11-08 17:06:11.040   3.0
dry_run = False, fw_pointers_config = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize(
        ['dry_run', 'data', 'fw_pointers_config'],
        [(x, y, z) for (x, y, z) in itertools.product(
            [True, False], [some_object, ts], [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])])
    def test_cleanup_orphaned_snapshots(mongo_host, library, data, dry_run, fw_pointers_config):
        """
        Check that we do / don't cleanup chunks based on the dry-run
        """
        with FwPointersCtx(fw_pointers_config):
            yesterday = dt.utcnow() - dtd(days=1, seconds=1)
            _id = bson.ObjectId.from_datetime(yesterday)
            library.write('symbol', data, prune_previous_version=False)
            with patch("bson.ObjectId", return_value=_id):
                library.snapshot('snap_name')
    
            # Remove the version document ; should cleanup
            assert library._collection.snapshots.delete_one({})
    
            # No cleanup on dry-run
            if dry_run:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host)
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                assert repr(library.read('symbol').data) == repr(data)
                # Nothing done_APPEND_COUNT
                assert len(library._collection.versions.find_one({})['parent'])
            else:
                run_as_main(main, '--library', 'user.library', '--host', mongo_host, '-f')
                assert mongo_count(library._collection) > 0
                assert mongo_count(library._collection.versions)
                # Data still available (write with prune_previous_version will do the cleanup)
                assert repr(library.read('symbol').data) == repr(data)
                # Snapshot cleaned up
>               assert not len(library._collection.versions.find_one({})['parent'])
E               AssertionError: assert not 1
E                +  where 1 = len([ObjectId('6000b2fa0000000000000000')])

tests/integration/scripts/test_arctic_fsck.py:170: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:09:11.162-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:09:11.169-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:09:11.169-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:09:11.170-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":25255,"port":15234,"dbPath":"/tmp/tmp3Nqc3k","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:09:11.170-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:09:11.170-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:09:11.170-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":15234,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp3Nqc3k","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:09:11.172-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:09:11.173-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:09:13.579-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744953:579691][25255:0x7f61897daa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:09:13.579-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610744953:579893][25255:0x7f61897daa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:09:13.629-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2456}}
{"t":{"$date":"2021-01-15T14:09:13.629-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:13.691-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:09:13.691-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:09:13.710-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:09:13.712-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"a05f233b-db37-4d81-9ef4-b1cf2589153d"}},"options":{"uuid":{"$uuid":"a05f233b-db37-4d81-9ef4-b1cf2589153d"}}}}
{"t":{"$date":"2021-01-15T14:09:13.778-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:13.778-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:09:13.779-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:09:13.781-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fc9d358e-5f0e-4f4c-a821-b16c4b493cb2"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:09:13.848-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:13.849-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp3Nqc3k/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:09:13.853-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b34b714e-9d6f-4307-868f-5205eecab848"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:13.854-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:09:13.854-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:09:13.854-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":15234,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:09:13.955-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:13.955-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:13.956-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":102}}
{"t":{"$date":"2021-01-15T14:09:14.155-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:54652","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:14.160-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:54654","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:14.362-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:54658","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:14.367-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:54660","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:14.368-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:54662","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:14.378-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:54664","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:14.387-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:54666","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:14.389-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:54668","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:14.401-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bf3895ac-fc0e-43c5-aabc-339c14dacf7f"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:14.487-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:14.489-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"38291dbd-70ee-4c3a-b070-9a848c4b4be9"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"bf3895ac-fc0e-43c5-aabc-339c14dacf7f"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:09:14.520-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:14.520-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"38291dbd-70ee-4c3a-b070-9a848c4b4be9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:14.520-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"38291dbd-70ee-4c3a-b070-9a848c4b4be9"}}}}
{"t":{"$date":"2021-01-15T14:09:14.528-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fb8b71e5-72fb-4980-95aa-e0b342254bf1"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:14.595-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:14.599-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0079900d-a16f-4f44-a43d-240637c77c77"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:14.660-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T14:09:14.698-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:14.699-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:14.701-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"47839c0f-fcf2-4d89-afed-c345579839d0"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:14.802-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:14.802-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:14.802-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_user.library.versions","command":{"createIndexes":"library.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"c1d0ce39-ecbe-4a3f-8844-f115b96d64ad"}},"$db":"arctic_user","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T14:09:14.804-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"cf150b05-d5bf-41bb-ad7c-9f23db8efd05"}},"namespace":"arctic_user.library.versions","collectionUUID":{"uuid":{"$uuid":"47839c0f-fcf2-4d89-afed-c345579839d0"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:09:14.840-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:14.840-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"cf150b05-d5bf-41bb-ad7c-9f23db8efd05"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:14.840-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"cf150b05-d5bf-41bb-ad7c-9f23db8efd05"}}}}
{"t":{"$date":"2021-01-15T14:09:14.843-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"43ef98f2-a18d-4a1f-81fa-a63615895b80"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:14.867-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T14:09:14.940-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:14.940-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:14.943-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_user.library","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7e740769-ccf0-4507-960c-ce49d03beb01"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:09:15.041-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:15.041-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:15.044-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"dd0eb08a-9f54-44af-b2d4-86eed41c4235"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"7e740769-ccf0-4507-960c-ce49d03beb01"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:09:15.083-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:15.083-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"dd0eb08a-9f54-44af-b2d4-86eed41c4235"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:15.083-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"dd0eb08a-9f54-44af-b2d4-86eed41c4235"}}}}
{"t":{"$date":"2021-01-15T14:09:15.085-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e711c142-aac9-4532-86ff-810ead866362"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"7e740769-ccf0-4507-960c-ce49d03beb01"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:09:15.116-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:15.117-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e711c142-aac9-4532-86ff-810ead866362"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:15.117-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e711c142-aac9-4532-86ff-810ead866362"}}}}
{"t":{"$date":"2021-01-15T14:09:15.119-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6c099233-d894-4898-9674-fe023c8f5e15"}},"namespace":"arctic_user.library","collectionUUID":{"uuid":{"$uuid":"7e740769-ccf0-4507-960c-ce49d03beb01"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:09:15.153-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_user.library","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:09:15.153-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6c099233-d894-4898-9674-fe023c8f5e15"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:09:15.153-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6c099233-d894-4898-9674-fe023c8f5e15"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:09:10,957 DEBUG pytest_shutil.workspace 
2021-01-15 14:09:10,958 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:10,959 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp3Nqc3k
2021-01-15 14:09:10,959 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:09:10,959 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:10,960 DEBUG pytest_shutil.workspace 
2021-01-15 14:09:10,961 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:09:11,089 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=15234 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp3Nqc3k
2021-01-15 14:09:11,091 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:09:11,093 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:09:11,094 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15234
2021-01-15 14:09:11,710 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:09:11,710 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15234
2021-01-15 14:09:12,321 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:09:12,321 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15234
2021-01-15 14:09:12,932 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:09:12,933 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15234
2021-01-15 14:09:13,643 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:09:13,644 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15234
2021-01-15 14:09:14,353 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:09:14,354 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15234
2021-01-15 14:09:14,378 DEBUG pytest_server_fixtures.base2 waited 0:00:03.285654 for server to start successfully
2021-01-15 14:09:14,379 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:09:14,383 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:09:15,175 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:09:15,182 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp3Nqc3k
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=15234 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp3Nqc3k
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15234
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15234
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15234
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15234
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15234
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15234
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.285654 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stdout call -----------------------------
run_as_main: ('--library', 'user.library', '--host', '127.28.84.18:15234', '-f')
{"t":{"$date":"2021-01-15T14:09:15.295-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:54670","client":"conn9","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:15.300-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:54672","client":"conn10","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:09:15.300-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:54674","client":"conn11","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:09:15,245 INFO arctic.arctic Mongo Quota: arctic_user.library 0.000 / 10 GB used
2021-01-15 14:09:15,268 DEBUG arctic.store.version_store Finished writing versions for symbol
2021-01-15 14:09:15,288 INFO arctic.scripts.arctic_fsck FSCK'ing: ['user.library'] on mongo 127.28.84.18:15234
2021-01-15 14:09:15,288 INFO arctic.arctic Connecting to mongo: 127.28.84.18:15234 (127.28.84.18:15234)
2021-01-15 14:09:15,305 ERROR arctic.scripts.utils You need credentials for db 'arctic_user' on '127.28.84.18:15234', or admin credentials
2021-01-15 14:09:15,355 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:15,357 INFO arctic.store.version_store ORPHANED CHUNK CHECK: arctic_user.library
2021-01-15 14:09:15,359 DEBUG arctic.store.version_store Checking symbol
2021-01-15 14:09:15,371 DEBUG arctic.store.version_store Checking symbol (forward pointers)
2021-01-15 14:09:15,379 INFO arctic.store.version_store Cleaning up 0 SHAs for symbol symbol
2021-01-15 14:09:15,383 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_user.library
2021-01-15 14:09:15,390 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:15,431 INFO arctic.scripts.arctic_fsck Stats:
2021-01-15 14:09:15,432 INFO arctic.scripts.arctic_fsck Sharded:        False
2021-01-15 14:09:15,435 INFO arctic.scripts.arctic_fsck Symbols:           1
2021-01-15 14:09:15,436 INFO arctic.scripts.arctic_fsck Versions:          1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:09:15,436 INFO arctic.scripts.arctic_fsck Versions:       0.00MB Change(+/-) 0.00MB
2021-01-15 14:09:15,437 INFO arctic.scripts.arctic_fsck Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
2021-01-15 14:09:15,437 INFO arctic.scripts.arctic_fsck Chunks:         0.00MB Change(+/-)   0.00MB
2021-01-15 14:09:15,437 INFO arctic.scripts.arctic_fsck ----------------------------
2021-01-15 14:09:15,438 INFO arctic.scripts.arctic_fsck Done.
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_user.library 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symbol
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:32 FSCK'ing: ['user.library'] on mongo 127.28.84.18:15234
INFO     arctic.arctic:arctic.py:144 Connecting to mongo: 127.28.84.18:15234 (127.28.84.18:15234)
ERROR    arctic.scripts.utils:utils.py:28 You need credentials for db 'arctic_user' on '127.28.84.18:15234', or admin credentials
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:43 ----------------------------
INFO     arctic.store.version_store:version_store.py:1127 ORPHANED CHUNK CHECK: arctic_user.library
DEBUG    arctic.store.version_store:version_store.py:1129 Checking symbol
DEBUG    arctic.store.version_store:version_store.py:1096 Checking symbol (forward pointers)
INFO     arctic.store.version_store:version_store.py:1106 Cleaning up 0 SHAs for symbol symbol
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_user.library
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:46 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:49 Stats:
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:50 Sharded:        False
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:51 Symbols:           1
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:55 Versions:          1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:58 Versions:       0.00MB Change(+/-) 0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:62 Chunk Count:       1   Change(+/-)      0  (av: 0.00MB)
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:65 Chunks:         0.00MB Change(+/-)   0.00MB
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:66 ----------------------------
INFO     arctic.scripts.arctic_fsck:arctic_fsck.py:71 Done.
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:09:15,663 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 25255 (total_procs_to_kill=1)
2021-01-15 14:09:15,664 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:09:15,665 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:09:15,682 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:09:15,683 DEBUG pytest_shutil.workspace 
2021-01-15 14:09:15,683 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:15,683 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp3Nqc3k
2021-01-15 14:09:15,684 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:09:15,684 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 25255 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp3Nqc3k
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_____________________ test_fix_broken_snapshot_references ______________________

library = <VersionStore at 0x7f3136b4e710>
    <ArcticLibrary at 0x7f3121a43510, arctic_...host=['127.28.84.18:2508'], document_class=dict, tz_aware=False, connect=True)>

    def test_fix_broken_snapshot_references(library):
        library.write("cherry", "blob")
        one_day_ago = time.time() - (3600 * 24.) - 10  # make sure we are a few seconds before 24 hours
        with patch('time.time', return_value=one_day_ago):
            library.snapshot("snappy")
        library._snapshots.delete_one({"name": "snappy"})
    
        mpv.prune_versions(library, ["cherry"], 10)
    
>       assert library._versions.find_one({"symbol": "cherry"}).get("parent", []) == []
E       AssertionError: assert [ObjectId('60...f437af57e0e')] == []
E         Left contains one more item: ObjectId('6000b3d4edbccf437af57e0e')
E         Use -v to get the full diff

tests/integration/scripts/test_prune_versions.py:63: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:12:58.745-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:12:58.749-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:12:58.749-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:12:58.750-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":28553,"port":2508,"dbPath":"/tmp/tmpYa9_vy","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:12:58.750-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:12:58.750-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:12:58.750-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":2508,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpYa9_vy","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:12:58.753-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:12:58.753-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:13:01.174-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610745181:174473][28553:0x7f0df679da80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:13:01.174-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610745181:174625][28553:0x7f0df679da80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:13:01.218-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2465}}
{"t":{"$date":"2021-01-15T14:13:01.218-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:01.283-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:13:01.284-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:13:01.302-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:13:01.303-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"d04193c7-a725-4c23-8a1e-6bf69f3abc41"}},"options":{"uuid":{"$uuid":"d04193c7-a725-4c23-8a1e-6bf69f3abc41"}}}}
{"t":{"$date":"2021-01-15T14:13:01.373-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:01.373-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:13:01.374-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:13:01.376-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8d65854a-a3f1-4ccc-8f1f-6ace0ff3f5c6"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:13:01.436-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:01.437-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpYa9_vy/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:13:01.442-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:13:01.442-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:13:01.442-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":2508,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:13:01.442-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7e9481cd-2729-488c-bf61-6eb78fc372cf"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:01.541-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:01.541-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:01.740-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:37736","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:01.744-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:37738","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:01.951-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:37740","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:01.958-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:37744","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:01.960-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:37742","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:01.972-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:37746","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:01.980-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:37748","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:01.981-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:37750","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:01.994-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b66dc5e9-e7c1-4343-8c51-bb5fd0211a5c"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:02.084-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.087-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6fb46470-95e2-47e2-9e6c-2f1c84f7c9fa"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"b66dc5e9-e7c1-4343-8c51-bb5fd0211a5c"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:13:02.116-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.116-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6fb46470-95e2-47e2-9e6c-2f1c84f7c9fa"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:13:02.117-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6fb46470-95e2-47e2-9e6c-2f1c84f7c9fa"}}}}
{"t":{"$date":"2021-01-15T14:13:02.124-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b4aac057-54c3-4ba3-b9b7-badd9d547493"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:02.200-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.205-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"55987287-6d87-4153-a940-b2b1af4eeda7"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:02.244-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:13:02.310-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.310-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.310-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"background":true,"name":"name_1","unique":true,"key":{"name":1}}],"lsid":{"id":{"$uuid":"eb921db5-6895-484f-8403-bcb555e1d563"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":105}}
{"t":{"$date":"2021-01-15T14:13:02.313-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"939c2624-ba00-4c37-bf3a-ab02fb5d930e"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:02.415-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.415-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.416-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.versions","command":{"createIndexes":"TEST.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"eb921db5-6895-484f-8403-bcb555e1d563"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":102}}
{"t":{"$date":"2021-01-15T14:13:02.419-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a2f2b4af-3162-4206-a1d1-b39354d4becf"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"939c2624-ba00-4c37-bf3a-ab02fb5d930e"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:13:02.454-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.454-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a2f2b4af-3162-4206-a1d1-b39354d4becf"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:13:02.454-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a2f2b4af-3162-4206-a1d1-b39354d4becf"}}}}
{"t":{"$date":"2021-01-15T14:13:02.457-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T14:13:02.457-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9d6f7808-c89d-4d57-96a8-0760657640ce"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:02.560-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.560-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.560-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.version_nums","command":{"createIndexes":"TEST.version_nums","indexes":[{"background":true,"name":"symbol_1","unique":true,"key":{"symbol":1}}],"lsid":{"id":{"$uuid":"eb921db5-6895-484f-8403-bcb555e1d563"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":3},"storage":{},"protocol":"op_msg","durationMillis":103}}
{"t":{"$date":"2021-01-15T14:13:02.563-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"60d024de-89cf-4f52-a6ca-c33d623a0717"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:02.663-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.664-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.664-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST","command":{"createIndexes":"TEST","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"eb921db5-6895-484f-8403-bcb555e1d563"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T14:13:02.667-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"43e53607-5285-4835-be68-4de929a8f0ef"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"60d024de-89cf-4f52-a6ca-c33d623a0717"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:13:02.701-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.702-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"43e53607-5285-4835-be68-4de929a8f0ef"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:13:02.702-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"43e53607-5285-4835-be68-4de929a8f0ef"}}}}
{"t":{"$date":"2021-01-15T14:13:02.704-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"600a26e0-d6a2-4aac-8eaa-7e8b9031e814"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"60d024de-89cf-4f52-a6ca-c33d623a0717"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:13:02.732-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.732-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"600a26e0-d6a2-4aac-8eaa-7e8b9031e814"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:13:02.732-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"600a26e0-d6a2-4aac-8eaa-7e8b9031e814"}}}}
{"t":{"$date":"2021-01-15T14:13:02.735-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f3cd4a99-b1c1-4a70-8ed6-7f2e7002fd6e"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"60d024de-89cf-4f52-a6ca-c33d623a0717"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:13:02.773-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:02.773-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f3cd4a99-b1c1-4a70-8ed6-7f2e7002fd6e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:13:02.773-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f3cd4a99-b1c1-4a70-8ed6-7f2e7002fd6e"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:12:58,522 DEBUG pytest_shutil.workspace 
2021-01-15 14:12:58,523 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:12:58,524 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpYa9_vy
2021-01-15 14:12:58,524 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:12:58,524 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:12:58,525 DEBUG pytest_shutil.workspace 
2021-01-15 14:12:58,526 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:12:58,667 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=2508 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpYa9_vy
2021-01-15 14:12:58,669 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:12:58,671 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:12:58,671 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:2508
2021-01-15 14:12:59,291 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:12:59,291 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:2508
2021-01-15 14:12:59,901 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:12:59,902 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:2508
2021-01-15 14:13:00,515 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:13:00,516 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:2508
2021-01-15 14:13:01,226 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:13:01,227 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:2508
2021-01-15 14:13:01,938 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:13:01,939 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:2508
2021-01-15 14:13:01,971 DEBUG pytest_server_fixtures.base2 waited 0:00:03.300216 for server to start successfully
2021-01-15 14:13:01,972 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:13:01,974 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:13:02,802 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:13:02,810 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpYa9_vy
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=2508 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpYa9_vy
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:2508
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:2508
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:2508
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:2508
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:2508
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:2508
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.300216 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:13:02,885 INFO arctic.arctic Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
2021-01-15 14:13:02,898 DEBUG arctic.store.version_store Finished writing versions for cherry
2021-01-15 14:13:02,918 INFO arctic.scripts.arctic_prune_versions Fixing snapshot pointers
2021-01-15 14:13:02,920 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_test.TEST
2021-01-15 14:13:02,927 INFO arctic.scripts.arctic_prune_versions Pruning cherry
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for cherry
INFO     arctic.scripts.arctic_prune_versions:arctic_prune_versions.py:16 Fixing snapshot pointers
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_test.TEST
INFO     arctic.scripts.arctic_prune_versions:arctic_prune_versions.py:19 Pruning cherry
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:13:03,076 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 28553 (total_procs_to_kill=1)
2021-01-15 14:13:03,077 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:13:03,079 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:13:03,098 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:13:03,099 DEBUG pytest_shutil.workspace 
2021-01-15 14:13:03,100 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:13:03,101 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpYa9_vy
2021-01-15 14:13:03,102 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:13:03,103 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 28553 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpYa9_vy
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
__________________________ test_keep_only_one_version __________________________

library = <VersionStore at 0x7f31370e69d0>
    <ArcticLibrary at 0x7f311db9e750, arctic_...ost=['127.28.84.18:32693'], document_class=dict, tz_aware=False, connect=True)>

    def test_keep_only_one_version(library):
        library.write("cherry", "blob")
        library.write("cherry", "blob")
        one_day_ago = time.time() - (3600 * 24.) - 10  # make sure we are a few seconds before 24 hours
        with patch('time.time', return_value=one_day_ago):
            library.snapshot("snappy")
        library._snapshots.delete_one({"name": "snappy"})
    
        mpv.prune_versions(library, ["cherry"], 0)
    
>       assert len(list(library._versions.find({"symbol": "cherry"}))) == 1
E       AssertionError: assert 2 == 1
E        +  where 2 = len([{'_id': ObjectId('60020563edbccf437af57e17'), 'arctic_version': 1080000, 'data': 'blob', 'metadata': None, ...}, {'_id': ObjectId('60020563edbccf437af57e16'), 'arctic_version': 1080000, 'data': 'blob', 'metadata': None, ...}])
E        +    where [{'_id': ObjectId('60020563edbccf437af57e17'), 'arctic_version': 1080000, 'data': 'blob', 'metadata': None, ...}, {'_id': ObjectId('60020563edbccf437af57e16'), 'arctic_version': 1080000, 'data': 'blob', 'metadata': None, ...}] = list(<pymongo.cursor.Cursor object at 0x7f313b226e90>)
E        +      where <pymongo.cursor.Cursor object at 0x7f313b226e90> = <bound method Collection.find of Collection(Database(MongoClient(host=['127.28..._class=dict, tz_aware=False, connect=True), u'arctic_test'), u'TEST.versions')>({'symbol': 'cherry'})
E        +        where <bound method Collection.find of Collection(Database(MongoClient(host=['127.28..._class=dict, tz_aware=False, connect=True), u'arctic_test'), u'TEST.versions')> = Collection(Database(MongoClient(host=['127.28.84.18:32693'], document_class=dict, tz_aware=False, connect=True), u'arctic_test'), u'TEST.versions').find
E        +          where Collection(Database(MongoClient(host=['127.28.84.18:32693'], document_class=dict, tz_aware=False, connect=True), u'arctic_test'), u'TEST.versions') = <VersionStore at 0x7f31370e69d0>\n    <ArcticLibrary at 0x7f311db9e750, arctic_...ost=['127.28.84.18:32693'], document_class=dict, tz_aware=False, connect=True)>._versions

tests/integration/scripts/test_prune_versions.py:76: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:13:03.374-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:13:03.381-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:13:03.381-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:13:03.382-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":28611,"port":32693,"dbPath":"/tmp/tmpqjXui1","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:13:03.382-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:13:03.382-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:13:03.382-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":32693,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpqjXui1","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:13:03.385-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:13:03.385-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:13:05.774-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610745185:774193][28611:0x7f5253566a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:13:05.774-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610745185:774322][28611:0x7f5253566a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:13:05.820-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2435}}
{"t":{"$date":"2021-01-15T14:13:05.820-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:05.883-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:13:05.884-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:13:05.901-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:13:05.903-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"f225e13e-98a3-436d-8377-445822156249"}},"options":{"uuid":{"$uuid":"f225e13e-98a3-436d-8377-445822156249"}}}}
{"t":{"$date":"2021-01-15T14:13:05.974-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:05.975-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:13:05.975-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:13:05.977-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"82106008-a863-4f9d-8038-4d9987084f9b"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:13:06.039-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:06.040-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpqjXui1/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:13:06.045-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:13:06.045-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"275a8f5b-9d82-4964-8504-e4dadf23231f"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:06.045-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:13:06.045-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":32693,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:13:06.141-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:06.141-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:06.367-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:52710","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:06.372-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:52712","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:06.576-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:52714","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:06.581-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:52716","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:06.581-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:52718","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:06.594-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:52720","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:06.600-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:52722","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:06.600-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:52724","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:13:06.611-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"99cefe28-6db7-4163-961c-e91d87618694"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:06.696-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:06.699-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"23e37f62-576d-4f09-ade4-d05b6314e24b"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"99cefe28-6db7-4163-961c-e91d87618694"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:13:06.725-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:06.726-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"23e37f62-576d-4f09-ade4-d05b6314e24b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:13:06.726-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"23e37f62-576d-4f09-ade4-d05b6314e24b"}}}}
{"t":{"$date":"2021-01-15T14:13:06.732-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0dbb0c35-fc64-43fb-aee4-23ad560b9529"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:06.805-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:06.809-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8095887a-0caa-4f9f-beba-8f24da82a070"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:06.872-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:13:06.908-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:06.908-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:06.910-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0c9e1a25-a266-49fd-8c50-ed705070367b"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:07.008-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:07.008-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:07.011-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ff19dbb2-6c78-4c8a-a3b6-8a7e14be5627"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"0c9e1a25-a266-49fd-8c50-ed705070367b"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T14:13:07.045-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:07.045-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ff19dbb2-6c78-4c8a-a3b6-8a7e14be5627"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:13:07.045-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ff19dbb2-6c78-4c8a-a3b6-8a7e14be5627"}}}}
{"t":{"$date":"2021-01-15T14:13:07.048-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0113c6e3-339f-43a7-b3d1-62656e7e74af"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:07.081-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T14:13:07.147-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:07.147-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:07.150-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b4b3aadd-81ce-49ad-bc8a-fa4c05f05f05"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:13:07.249-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:07.249-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:07.252-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"52d21304-7ded-4452-83ff-68d7b37dbe71"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"b4b3aadd-81ce-49ad-bc8a-fa4c05f05f05"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T14:13:07.286-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:07.286-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"52d21304-7ded-4452-83ff-68d7b37dbe71"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:13:07.286-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"52d21304-7ded-4452-83ff-68d7b37dbe71"}}}}
{"t":{"$date":"2021-01-15T14:13:07.288-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"cd66ac09-6b96-4ced-af89-e2d8680921a2"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"b4b3aadd-81ce-49ad-bc8a-fa4c05f05f05"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:13:07.316-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:07.316-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"cd66ac09-6b96-4ced-af89-e2d8680921a2"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:13:07.316-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"cd66ac09-6b96-4ced-af89-e2d8680921a2"}}}}
{"t":{"$date":"2021-01-15T14:13:07.319-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bd22301f-f17e-4b86-96c4-b4410d9a8e95"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"b4b3aadd-81ce-49ad-bc8a-fa4c05f05f05"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T14:13:07.356-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:13:07.356-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bd22301f-f17e-4b86-96c4-b4410d9a8e95"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:13:07.356-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bd22301f-f17e-4b86-96c4-b4410d9a8e95"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:13:03,138 DEBUG pytest_shutil.workspace 
2021-01-15 14:13:03,139 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:13:03,140 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpqjXui1
2021-01-15 14:13:03,140 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:13:03,140 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:13:03,141 DEBUG pytest_shutil.workspace 
2021-01-15 14:13:03,142 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:13:03,287 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=32693 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpqjXui1
2021-01-15 14:13:03,289 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:13:03,291 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:13:03,292 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32693
2021-01-15 14:13:03,914 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:13:03,915 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32693
2021-01-15 14:13:04,527 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:13:04,528 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32693
2021-01-15 14:13:05,139 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:13:05,140 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32693
2021-01-15 14:13:05,855 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:13:05,856 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32693
2021-01-15 14:13:06,565 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:13:06,566 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:32693
2021-01-15 14:13:06,592 DEBUG pytest_server_fixtures.base2 waited 0:00:03.300569 for server to start successfully
2021-01-15 14:13:06,593 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:13:06,595 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:13:07,379 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 14:13:07,386 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpqjXui1
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=32693 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpqjXui1
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32693
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32693
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32693
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32693
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32693
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:32693
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.300569 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'codeName': u'CommandNotFound', u'ok': 0.0, u'code': 59, u'errmsg': u"no such command: 'enablesharding'"}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:13:07,453 INFO arctic.arctic Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
2021-01-15 14:13:07,464 DEBUG arctic.store.version_store Finished writing versions for cherry
2021-01-15 14:13:07,475 DEBUG arctic.store.version_store Finished writing versions for cherry
2021-01-15 14:13:07,491 INFO arctic.scripts.arctic_prune_versions Fixing snapshot pointers
2021-01-15 14:13:07,492 INFO arctic.store.version_store ORPHANED SNAPSHOT CHECK: arctic_test.TEST
2021-01-15 14:13:07,498 INFO arctic.scripts.arctic_prune_versions Pruning cherry
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for cherry
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for cherry
INFO     arctic.scripts.arctic_prune_versions:arctic_prune_versions.py:16 Fixing snapshot pointers
INFO     arctic.store.version_store:version_store.py:1174 ORPHANED SNAPSHOT CHECK: arctic_test.TEST
INFO     arctic.scripts.arctic_prune_versions:arctic_prune_versions.py:19 Pruning cherry
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:13:07,597 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 28611 (total_procs_to_kill=1)
2021-01-15 14:13:07,598 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:13:07,599 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:13:07,615 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:13:07,616 DEBUG pytest_shutil.workspace 
2021-01-15 14:13:07,616 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:13:07,617 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpqjXui1
2021-01-15 14:13:07,617 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:13:07,618 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 28611 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpqjXui1
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_ test_should_return_data_when_date_range_falls_in_a_single_underlying_library _

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7f313709abd0>
arctic = <Arctic at 0x7f3136f562d0, connected to MongoClient(host=['127.28.84.18:14993'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_return_data_when_date_range_falls_in_a_single_underlying_library(toplevel_tickstore, arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        tstore = arctic['FEED_2010.LEVEL1']
        arctic.initialize_library('test_current.toplevel_tickstore', tickstore.TICK_STORE_TYPE)
        tickstore_current = arctic['test_current.toplevel_tickstore']
        toplevel_tickstore._collection.insert_one({'start': dt(2010, 1, 1),
                                               'end': dt(2010, 12, 31, 23, 59, 59),
                                               'library_name': 'FEED_2010.LEVEL1'})
        dates = pd.date_range('20100101', periods=6, tz=mktz('Europe/London'))
        df = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tstore.write('blah', df)
        tickstore_current.write('blah', df)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 1), end=dt(2010, 1, 6)), list('ABCD'))
    
>       assert_frame_equal(df, res.tz_convert(mktz('Europe/London')))
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (6, 4)
E       [right]: (5, 4)

tests/integration/tickstore/test_toplevel.py:65: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:55:34.147-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:55:34.150-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:55:34.151-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:55:34.151-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":26077,"port":14993,"dbPath":"/tmp/tmpmxf8nZ","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:55:34.151-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:55:34.152-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:55:34.152-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":14993,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpmxf8nZ","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:55:34.153-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:55:34.153-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:55:36.468-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747736:468133][26077:0x7f7554649a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:55:36.468-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747736:468258][26077:0x7f7554649a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:55:36.516-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2362}}
{"t":{"$date":"2021-01-15T14:55:36.516-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:36.580-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:55:36.580-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:55:36.598-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:55:36.599-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"1d27694b-1b07-4cfe-a191-da934264f1bf"}},"options":{"uuid":{"$uuid":"1d27694b-1b07-4cfe-a191-da934264f1bf"}}}}
{"t":{"$date":"2021-01-15T14:55:36.670-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:36.671-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:55:36.671-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:55:36.673-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d0e6cbbc-351e-4d49-81bb-133e532fd25f"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:55:36.737-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:36.738-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpmxf8nZ/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:55:36.742-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:55:36.742-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6e06736e-5c57-4ec5-b8a1-5dd019777d4b"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:36.742-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:55:36.742-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":14993,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:55:36.840-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:36.840-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:37.148-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:49720","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:37.151-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:49722","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:37.362-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:49726","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:37.367-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:49728","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:37.368-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:49730","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:37.384-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:49732","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:37.389-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:49734","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:37.391-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:49736","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:37.401-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"79a344c3-e5ba-4cec-aae1-fe97876e3d01"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:37.500-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:37.503-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"574a94d1-d8a0-4cca-9e81-2a9c4749e12d"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"79a344c3-e5ba-4cec-aae1-fe97876e3d01"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:55:37.531-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:37.531-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"574a94d1-d8a0-4cca-9e81-2a9c4749e12d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:37.531-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"574a94d1-d8a0-4cca-9e81-2a9c4749e12d"}}}}
{"t":{"$date":"2021-01-15T14:55:37.537-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e22a9be3-dc6e-4142-aca5-badb8e824c0b"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:37.606-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:37.625-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fffb03b7-3b41-41bd-92ce-2c82adcf0060"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:37.651-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T14:55:37.723-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:37.723-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:55:33,961 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:33,962 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:33,962 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpmxf8nZ
2021-01-15 14:55:33,962 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:55:33,963 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:33,963 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:33,964 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:55:34,085 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=14993 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpmxf8nZ
2021-01-15 14:55:34,086 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:55:34,087 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:55:34,088 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14993
2021-01-15 14:55:34,700 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:55:34,700 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14993
2021-01-15 14:55:35,313 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:55:35,314 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14993
2021-01-15 14:55:35,924 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:55:35,925 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14993
2021-01-15 14:55:36,636 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:55:36,637 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14993
2021-01-15 14:55:37,346 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:55:37,347 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:14993
2021-01-15 14:55:37,359 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 14:55:37,380 DEBUG pytest_server_fixtures.base2 waited 0:00:03.292286 for server to start successfully
2021-01-15 14:55:37,381 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:55:37,384 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:55:37,616 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpmxf8nZ
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=14993 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpmxf8nZ
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14993
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14993
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14993
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14993
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14993
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:14993
DEBUG    pytest_server_fixtures.base2:base2.py:82 Server is already killed, skipping
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.292286 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T14:55:37.742-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ddb85d34-58c3-43ab-a0b9-fa6a55834f7c"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:37.807-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:37.810-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"82b7c478-0a6a-4c99-9088-939d530b4618"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:37.867-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T14:55:37.916-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:37.916-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:37.916-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"231e7d8b-0305-4bd4-802a-b4bb1864c9b2"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":106}}
{"t":{"$date":"2021-01-15T14:55:37.918-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a7f66f06-2599-4489-ab28-ad7129d7b7d7"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"82b7c478-0a6a-4c99-9088-939d530b4618"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:55:37.949-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:37.950-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a7f66f06-2599-4489-ab28-ad7129d7b7d7"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:37.950-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a7f66f06-2599-4489-ab28-ad7129d7b7d7"}}}}
{"t":{"$date":"2021-01-15T14:55:37.952-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"95736f30-c441-4b09-bcbb-4103138f0a86"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:38.049-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:38.049-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:38.063-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test_current.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cc6d090e-dc68-4d9b-a6fc-874a6d79ef26"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:38.131-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:38.134-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test_current.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b15f7603-1d25-4b92-92ef-3c7b54362c7d"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:38.230-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:38.230-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:38.232-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"45c656b3-ff0a-41f8-b982-10216a57c03e"}},"namespace":"arctic_test_current.toplevel_tickstore","collectionUUID":{"uuid":{"$uuid":"b15f7603-1d25-4b92-92ef-3c7b54362c7d"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:55:38.261-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:38.261-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"45c656b3-ff0a-41f8-b982-10216a57c03e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:38.261-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"45c656b3-ff0a-41f8-b982-10216a57c03e"}}}}
{"t":{"$date":"2021-01-15T14:55:38.264-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test_current.toplevel_tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"19a826e4-d835-4cad-b13d-8446e3829160"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:38.354-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:38.354-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:55:38,381 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 14:55:38,388 DEBUG arctic.tickstore.tickstore 1 buckets in 0.002901: approx 34470872 ticks/sec
2021-01-15 14:55:38,394 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 14:55:38,401 DEBUG arctic.tickstore.tickstore 1 buckets in 0.003051: approx 32776138 ticks/sec
2021-01-15 14:55:38,421 INFO arctic.tickstore.tickstore Got data in 0.015305 secs, creating DataFrame...
2021-01-15 14:55:38,426 INFO arctic.tickstore.tickstore 6 rows in 0.020487 secs: 292 ticks/sec
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.002901: approx 34470872 ticks/sec
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.003051: approx 32776138 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.015305 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.020487 secs: 292 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:55:38,577 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 26077 (total_procs_to_kill=1)
2021-01-15 14:55:38,577 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:55:38,579 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:55:38,595 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:55:38,596 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:38,597 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:38,597 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpmxf8nZ
2021-01-15 14:55:38,598 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:38,598 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 26077 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpmxf8nZ
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
___________ test_should_return_data_when_date_range_spans_libraries ____________

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7f313befa590>
arctic = <Arctic at 0x7f313709c590, connected to MongoClient(host=['127.28.84.18:3593'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_return_data_when_date_range_spans_libraries(toplevel_tickstore, arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        tickstore_2010 = arctic['FEED_2010.LEVEL1']
        tickstore_2011 = arctic['FEED_2011.LEVEL1']
        toplevel_tickstore.add(DateRange(start=dt(2010, 1, 1), end=dt(2010, 12, 31, 23, 59, 59, 999000)), 'FEED_2010.LEVEL1')
        toplevel_tickstore.add(DateRange(start=dt(2011, 1, 1), end=dt(2011, 12, 31, 23, 59, 59, 999000)), 'FEED_2011.LEVEL1')
        dates = pd.date_range('20100101', periods=6, tz=mktz('Europe/London'))
        df_10 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2010.write('blah', df_10)
        dates = pd.date_range('20110101', periods=6, tz=mktz('Europe/London'))
        df_11 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2011.write('blah', df_11)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 2), end=dt(2011, 1, 4)), list('ABCD'))
        expected_df = pd.concat([df_10[1:], df_11[:4]])
>       assert_frame_equal(expected_df, res.tz_convert(mktz('Europe/London')))
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (9, 4)
E       [right]: (7, 4)

tests/integration/tickstore/test_toplevel.py:83: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:55:38.856-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:55:38.863-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:55:38.864-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:55:38.864-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":26133,"port":3593,"dbPath":"/tmp/tmpwLisUT","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:55:38.865-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:55:38.865-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:55:38.865-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":3593,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpwLisUT","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:55:38.867-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:55:38.867-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:55:41.312-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747741:312054][26133:0x7f4fd41aca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:55:41.312-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747741:312181][26133:0x7f4fd41aca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:55:41.358-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2491}}
{"t":{"$date":"2021-01-15T14:55:41.358-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:41.424-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:55:41.424-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:55:41.445-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:55:41.447-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"2e448e32-9d75-4481-b9e0-e3e078961565"}},"options":{"uuid":{"$uuid":"2e448e32-9d75-4481-b9e0-e3e078961565"}}}}
{"t":{"$date":"2021-01-15T14:55:41.519-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:41.519-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:55:41.520-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:55:41.521-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4e03986a-6c3c-4fe1-8c5f-a2d1fd86a16f"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:55:41.584-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:41.585-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpwLisUT/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:55:41.590-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:55:41.590-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:55:41.590-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":3593,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:55:41.590-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cedcf428-054e-4427-8b31-ebc3fd5c560c"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:41.692-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:41.692-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:41.692-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T14:55:41.844-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:50420","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:41.848-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:50422","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:42.056-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:50424","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:42.061-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:50426","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:42.062-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:50428","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:42.074-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:50430","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:42.083-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:50432","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:42.084-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:50434","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:42.094-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d7aee397-69a6-4292-ba58-51429a539085"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:42.197-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.197-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"b9781776-4d11-4ee5-a8a5-212c90e2bc8b"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":103}}
{"t":{"$date":"2021-01-15T14:55:42.200-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9ab170eb-9850-4607-a786-35ffb46eca69"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"d7aee397-69a6-4292-ba58-51429a539085"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:55:42.227-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.227-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9ab170eb-9850-4607-a786-35ffb46eca69"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:42.227-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9ab170eb-9850-4607-a786-35ffb46eca69"}}}}
{"t":{"$date":"2021-01-15T14:55:42.236-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"17207487-67bc-4eec-a3ff-49c5b95f005f"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:42.307-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.320-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8e46c327-0141-4dd9-8e03-f8bebf3c12c6"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:42.347-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:55:42.417-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.417-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:55:38,622 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:38,623 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:38,623 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpwLisUT
2021-01-15 14:55:38,624 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:55:38,624 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:38,624 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:38,625 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:55:38,781 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=3593 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpwLisUT
2021-01-15 14:55:38,782 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:55:38,784 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:55:38,784 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3593
2021-01-15 14:55:39,399 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:55:39,399 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3593
2021-01-15 14:55:40,009 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:55:40,009 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3593
2021-01-15 14:55:40,619 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:55:40,620 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3593
2021-01-15 14:55:41,330 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:55:41,331 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3593
2021-01-15 14:55:42,042 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:55:42,043 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:3593
2021-01-15 14:55:42,073 DEBUG pytest_server_fixtures.base2 waited 0:00:03.289258 for server to start successfully
2021-01-15 14:55:42,074 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:55:42,077 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:55:42,313 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpwLisUT
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=3593 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpwLisUT
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3593
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3593
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3593
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3593
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3593
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:3593
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.289258 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T14:55:42.434-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c4900fef-b415-4b5a-9f47-f93b546ad9d6"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:42.495-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.498-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"193b7f59-dee6-4503-8bd8-de7d66f9bd6d"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:42.559-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T14:55:42.603-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.603-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.603-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"b9781776-4d11-4ee5-a8a5-212c90e2bc8b"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":105}}
{"t":{"$date":"2021-01-15T14:55:42.606-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0100afa8-1641-43e6-b1b5-af39d7df0daa"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"193b7f59-dee6-4503-8bd8-de7d66f9bd6d"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:55:42.633-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.633-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0100afa8-1641-43e6-b1b5-af39d7df0daa"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:42.633-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0100afa8-1641-43e6-b1b5-af39d7df0daa"}}}}
{"t":{"$date":"2021-01-15T14:55:42.635-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5d674bcd-ba46-43c8-8a08-f05af752fcf6"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:42.730-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.730-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.742-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"17dcdc56-74fe-44cc-ae8a-3fe8e9058c1e"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:42.813-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.816-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3861189f-3e64-496f-9f32-01b7dff19979"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:42.909-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.909-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.912-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"27abb485-3bbf-4577-bdc0-c10f7a1b8b4b"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"3861189f-3e64-496f-9f32-01b7dff19979"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:55:42.939-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:42.939-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"27abb485-3bbf-4577-bdc0-c10f7a1b8b4b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:42.939-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"27abb485-3bbf-4577-bdc0-c10f7a1b8b4b"}}}}
{"t":{"$date":"2021-01-15T14:55:42.941-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d6c62ef5-77ae-4874-9de6-51e9b8c699b6"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:43.032-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:43.032-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:55:43,067 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 14:55:43,075 DEBUG arctic.tickstore.tickstore 1 buckets in 0.003346: approx 29886431 ticks/sec
2021-01-15 14:55:43,086 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 14:55:43,094 DEBUG arctic.tickstore.tickstore 1 buckets in 0.003126: approx 31989763 ticks/sec
2021-01-15 14:55:43,112 INFO arctic.tickstore.tickstore Got data in 0.014298 secs, creating DataFrame...
2021-01-15 14:55:43,118 INFO arctic.tickstore.tickstore 6 rows in 0.020548 secs: 291 ticks/sec
2021-01-15 14:55:43,134 INFO arctic.tickstore.tickstore Got data in 0.011731 secs, creating DataFrame...
2021-01-15 14:55:43,138 INFO arctic.tickstore.tickstore 6 rows in 0.015851 secs: 378 ticks/sec
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.003346: approx 29886431 ticks/sec
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.003126: approx 31989763 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.014298 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.020548 secs: 291 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.011731 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.015851 secs: 378 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:55:43,309 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 26133 (total_procs_to_kill=1)
2021-01-15 14:55:43,310 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:55:43,311 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:55:43,326 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:55:43,327 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:43,327 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:43,327 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpwLisUT
2021-01-15 14:55:43,328 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:43,328 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 26133 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpwLisUT
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_ test_should_return_data_when_date_range_spans_libraries_even_if_one_returns_nothing _

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7f313be31810>
arctic = <Arctic at 0x7f3136d9a910, connected to MongoClient(host=['127.28.84.18:8404'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_return_data_when_date_range_spans_libraries_even_if_one_returns_nothing(toplevel_tickstore, arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        tickstore_2010 = arctic['FEED_2010.LEVEL1']
        tickstore_2011 = arctic['FEED_2011.LEVEL1']
        toplevel_tickstore.add(DateRange(start=dt(2010, 1, 1), end=dt(2010, 12, 31, 23, 59, 59, 999000)), 'FEED_2010.LEVEL1')
        toplevel_tickstore.add(DateRange(start=dt(2011, 1, 1), end=dt(2011, 12, 31, 23, 59, 59, 999000)), 'FEED_2011.LEVEL1')
        dates = pd.date_range('20100101', periods=6, tz=mktz('Europe/London'))
        df_10 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2010.write('blah', df_10)
        dates = pd.date_range('20110201', periods=6, tz=mktz('Europe/London'))
        df_11 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2011.write('blah', df_11)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 2), end=dt(2011, 1, 4)), list('ABCD'))
        expected_df = df_10[1:]
>       assert_frame_equal(expected_df, res.tz_convert(mktz('Europe/London')))
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (5, 4)
E       [right]: (4, 4)

tests/integration/tickstore/test_toplevel.py:101: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:55:43.583-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:55:43.597-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:55:43.597-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:55:43.598-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":26190,"port":8404,"dbPath":"/tmp/tmpekHl8w","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:55:43.598-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:55:43.598-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:55:43.598-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":8404,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpekHl8w","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:55:43.600-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:55:43.600-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:55:46.022-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747746:22347][26190:0x7fb729512a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:55:46.022-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747746:22477][26190:0x7fb729512a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:55:46.071-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2471}}
{"t":{"$date":"2021-01-15T14:55:46.071-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:46.130-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:55:46.131-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:55:46.152-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:55:46.153-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"b14aa302-d2ae-4843-bd8e-3e645fab9a0c"}},"options":{"uuid":{"$uuid":"b14aa302-d2ae-4843-bd8e-3e645fab9a0c"}}}}
{"t":{"$date":"2021-01-15T14:55:46.221-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:46.222-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:55:46.222-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:55:46.224-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b3dcda8a-0119-4581-8019-a6a29fb3afa5"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:55:46.289-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:46.289-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpekHl8w/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:55:46.294-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:55:46.294-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:55:46.295-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e4636d63-ee23-4748-85c1-67f5b0bdb798"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:46.295-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":8404,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:55:46.394-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:46.394-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:46.572-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:33570","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:46.577-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:33572","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:46.779-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:33574","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:46.784-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:33576","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:46.784-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:33578","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:46.795-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:33580","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:46.800-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:33582","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:46.800-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:33584","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:46.811-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d66443ea-e158-45a2-ac28-fad8d6a60f9e"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:46.906-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:46.909-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"79466c9f-071d-4e62-ac89-6ccbbd9068cd"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"d66443ea-e158-45a2-ac28-fad8d6a60f9e"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:55:46.940-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:46.940-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"79466c9f-071d-4e62-ac89-6ccbbd9068cd"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:46.940-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"79466c9f-071d-4e62-ac89-6ccbbd9068cd"}}}}
{"t":{"$date":"2021-01-15T14:55:46.946-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c31611ad-e234-4a2e-863a-3ea12b164eb9"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:47.023-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.035-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"74ae4ba5-cf70-45d9-9088-852d371e4011"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:47.076-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:55:47.131-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.131-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:55:43,355 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:43,355 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:43,356 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpekHl8w
2021-01-15 14:55:43,356 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:55:43,357 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:43,357 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:43,358 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:55:43,509 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=8404 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpekHl8w
2021-01-15 14:55:43,510 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:55:43,512 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:55:43,513 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:8404
2021-01-15 14:55:44,127 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:55:44,127 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:8404
2021-01-15 14:55:44,737 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:55:44,738 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:8404
2021-01-15 14:55:45,348 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:55:45,348 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:8404
2021-01-15 14:55:46,058 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:55:46,059 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:8404
2021-01-15 14:55:46,771 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:55:46,772 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:8404
2021-01-15 14:55:46,792 DEBUG pytest_server_fixtures.base2 waited 0:00:03.280444 for server to start successfully
2021-01-15 14:55:46,793 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:55:46,795 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:55:47,029 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpekHl8w
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=8404 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpekHl8w
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:8404
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:8404
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:8404
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:8404
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:8404
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:8404
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.280444 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T14:55:47.148-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cc33c8f8-38de-43f4-aedd-ed21646b3a2b"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:47.211-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.215-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"472a665b-e62e-453e-81d2-ac5768a2e6f8"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:47.283-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T14:55:47.318-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.318-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.318-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"4553a1db-8070-4c55-9e67-bedc9343bd42"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":103}}
{"t":{"$date":"2021-01-15T14:55:47.320-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ab4448c8-5638-49f5-8d93-0ca3b7656cc9"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"472a665b-e62e-453e-81d2-ac5768a2e6f8"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:55:47.350-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.350-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ab4448c8-5638-49f5-8d93-0ca3b7656cc9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:47.350-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ab4448c8-5638-49f5-8d93-0ca3b7656cc9"}}}}
{"t":{"$date":"2021-01-15T14:55:47.352-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"88009b23-4257-48bc-ac8a-18f6a9b13acf"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:47.453-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.453-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.454-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1.metadata","command":{"createIndexes":"LEVEL1.metadata","indexes":[{"background":true,"name":"sy_1","unique":true,"key":{"sy":1}}],"lsid":{"id":{"$uuid":"4553a1db-8070-4c55-9e67-bedc9343bd42"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T14:55:47.468-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0fbb3ae9-f1ce-454b-a8de-851f74ff31b7"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:47.537-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.540-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"73d896ea-f954-4a6c-ab3d-ffc309312cbe"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:47.631-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.631-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.633-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6abc6f6d-abc0-44e5-a247-2fbcd20c93ea"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"73d896ea-f954-4a6c-ab3d-ffc309312cbe"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:55:47.663-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.664-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6abc6f6d-abc0-44e5-a247-2fbcd20c93ea"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:47.664-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6abc6f6d-abc0-44e5-a247-2fbcd20c93ea"}}}}
{"t":{"$date":"2021-01-15T14:55:47.665-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"65d54fdf-c9db-43dd-a3b1-5c5f18c2e56e"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:47.755-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:47.755-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:55:47,790 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 14:55:47,796 DEBUG arctic.tickstore.tickstore 1 buckets in 0.003027: approx 33036009 ticks/sec
2021-01-15 14:55:47,806 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 14:55:47,811 DEBUG arctic.tickstore.tickstore 1 buckets in 0.00266: approx 37593984 ticks/sec
2021-01-15 14:55:47,828 INFO arctic.tickstore.tickstore Got data in 0.012556 secs, creating DataFrame...
2021-01-15 14:55:47,833 INFO arctic.tickstore.tickstore 6 rows in 0.0173 secs: 346 ticks/sec
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.003027: approx 33036009 ticks/sec
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.00266: approx 37593984 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.012556 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.0173 secs: 346 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:55:47,979 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 26190 (total_procs_to_kill=1)
2021-01-15 14:55:47,979 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:55:47,981 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:55:47,996 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:55:47,996 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:47,997 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:47,998 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpekHl8w
2021-01-15 14:55:47,998 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:47,998 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 26190 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpekHl8w
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_ test_should_add_underlying_library_where_another_library_exists_in_a_non_overlapping_daterange _

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7f311d9aeb90>
arctic = <Arctic at 0x7f313bf2fa10, connected to MongoClient(host=['127.28.84.18:10703'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_add_underlying_library_where_another_library_exists_in_a_non_overlapping_daterange(toplevel_tickstore, arctic):
        toplevel_tickstore._collection.insert_one({'library_name': 'FEED_2011.LEVEL1', 'start': dt(2011, 1, 1), 'end': dt(2011, 12, 31)})
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
>       toplevel_tickstore.add(DateRange(start=dt(2010, 1, 1), end=dt(2010, 12, 31, 23, 59, 59, 999000)), 'FEED_2010.LEVEL1')

tests/integration/tickstore/test_toplevel.py:113: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7f311d9aeb90>
date_range = DateRange(start=datetime.datetime(2010, 1, 1, 0, 0), end=datetime.datetime(2010, 12, 31, 23, 59, 59, 999000))
library_name = 'FEED_2010.LEVEL1'

        def add(self, date_range, library_name):
            """
            Adds the library with the given date range to the underlying collection of libraries used by this store.
            The underlying libraries should not overlap as the date ranges are assumed to be CLOSED_CLOSED by this function
            and the rest of the class.
    
            Arguments:
    
            date_range: A date range provided on the assumption that it is CLOSED_CLOSED. If for example the underlying
            libraries were split by year, the start of the date range would be datetime.datetime(year, 1, 1) and the end
            would be datetime.datetime(year, 12, 31, 23, 59, 59, 999000). The date range must fall on UTC day boundaries,
            that is the start must be add midnight and the end must be 1 millisecond before midnight.
    
            library_name: The name of the underlying library. This must be the name of a valid Arctic library
            """
            # check that the library is valid
            try:
                self._arctic_lib.arctic[library_name]
            except Exception as e:
                logger.error("Could not load library")
                raise e
            assert date_range.start and date_range.end, "Date range should have start and end properties {}".format(date_range)
            start = date_range.start.astimezone(mktz('UTC')) if date_range.start.tzinfo is not None else date_range.start.replace(tzinfo=mktz('UTC'))
            end = date_range.end.astimezone(mktz('UTC')) if date_range.end.tzinfo is not None else date_range.end.replace(tzinfo=mktz('UTC'))
            assert start.time() == time.min and end.time() == end_time_min, "Date range should fall on UTC day boundaries {}".format(date_range)
            # check that the date range does not overlap
            library_metadata = self._get_library_metadata(date_range)
            if len(library_metadata) > 1 or (len(library_metadata) == 1 and library_metadata[0] != library_name):
                raise OverlappingDataException("""There are libraries that overlap with the date range:
    library: {}
>   overlapping libraries: {}""".format(library_name, [lib.library for lib in library_metadata]))
E   OverlappingDataException: There are libraries that overlap with the date range:
E   library: FEED_2010.LEVEL1
E   overlapping libraries: [u'FEED_2011.LEVEL1']

arctic/tickstore/toplevel.py:101: OverlappingDataException
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:55:52.423-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:55:52.427-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:55:52.427-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:55:52.428-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":26306,"port":10703,"dbPath":"/tmp/tmpVX1jTY","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:55:52.428-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:55:52.428-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:55:52.428-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":10703,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpVX1jTY","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:55:52.430-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:55:52.430-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:55:54.825-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747754:825402][26306:0x7fe455e44a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:55:54.825-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747754:825579][26306:0x7fe455e44a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:55:54.869-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2439}}
{"t":{"$date":"2021-01-15T14:55:54.869-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:54.935-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:55:54.935-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:55:54.953-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:55:54.954-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"a825e812-5fae-49da-a933-3c5f4d923caa"}},"options":{"uuid":{"$uuid":"a825e812-5fae-49da-a933-3c5f4d923caa"}}}}
{"t":{"$date":"2021-01-15T14:55:55.023-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:55.023-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:55:55.024-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:55:55.026-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3d7dbf0d-2375-48e2-af1a-2ebe6f625800"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:55:55.086-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:55.087-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpVX1jTY/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:55:55.091-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:55:55.091-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:55:55.091-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":10703,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:55:55.091-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"940be6b0-2edf-4b8a-ba2c-51dae4e77bb5"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:55.190-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:55.190-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:55.415-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:54340","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:55.418-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:54342","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:55.623-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:54346","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:55.627-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:54348","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:55.628-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:54350","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:55.637-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:54352","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:55.644-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:54356","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:55.645-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:54354","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:55:55.654-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"60768d93-52aa-49d8-af09-b21dc350bfcf"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:55.754-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:55.754-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"e7754e29-9d3a-4b01-acd9-211ac0ef3c81"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T14:55:55.756-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"65e4828b-7174-45c9-b538-af61c0588f7b"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"60768d93-52aa-49d8-af09-b21dc350bfcf"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:55:55.783-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:55.783-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"65e4828b-7174-45c9-b538-af61c0588f7b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:55.783-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"65e4828b-7174-45c9-b538-af61c0588f7b"}}}}
{"t":{"$date":"2021-01-15T14:55:55.788-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"35cb7698-b774-4f7c-9000-12a0584603e3"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:55.858-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:55.874-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"37713b61-58e7-4191-8b40-bbd67c64a5d9"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:55.918-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:55:55.970-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:55.970-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:55:52,208 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:52,209 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:52,209 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpVX1jTY
2021-01-15 14:55:52,210 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:55:52,210 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:52,210 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:52,211 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:55:52,352 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=10703 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpVX1jTY
2021-01-15 14:55:52,354 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:55:52,355 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:55:52,355 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:10703
2021-01-15 14:55:52,969 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:55:52,970 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:10703
2021-01-15 14:55:53,580 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:55:53,581 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:10703
2021-01-15 14:55:54,191 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:55:54,192 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:10703
2021-01-15 14:55:54,902 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:55:54,903 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:10703
2021-01-15 14:55:55,615 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:55:55,616 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:10703
2021-01-15 14:55:55,637 DEBUG pytest_server_fixtures.base2 waited 0:00:03.282195 for server to start successfully
2021-01-15 14:55:55,638 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:55:55,640 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 14:55:55,865 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpVX1jTY
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=10703 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpVX1jTY
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:10703
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:10703
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:10703
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:10703
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:10703
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:10703
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.282195 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T14:55:55.992-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"983d2cc0-1064-419e-8daf-5d8f34cde341"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:56.052-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:56.055-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e89e5e2e-b22c-4765-8d16-031d951a392b"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:56.127-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T14:55:56.161-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:56.161-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:56.162-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"e7754e29-9d3a-4b01-acd9-211ac0ef3c81"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":106}}
{"t":{"$date":"2021-01-15T14:55:56.164-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"abf1fe72-b5d8-4922-9d51-26935e4f2576"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"e89e5e2e-b22c-4765-8d16-031d951a392b"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:55:56.193-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:56.193-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"abf1fe72-b5d8-4922-9d51-26935e4f2576"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:55:56.193-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"abf1fe72-b5d8-4922-9d51-26935e4f2576"}}}}
{"t":{"$date":"2021-01-15T14:55:56.196-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"48f842b8-19a3-48a6-a8a2-e34b30d05b12"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:55:56.290-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:55:56.290-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:55:56,497 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 26306 (total_procs_to_kill=1)
2021-01-15 14:55:56,498 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:55:56,499 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:55:56,514 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:55:56,515 DEBUG pytest_shutil.workspace 
2021-01-15 14:55:56,515 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:56,515 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpVX1jTY
2021-01-15 14:55:56,516 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:55:56,516 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 26306 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpVX1jTY
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
________________ test_should_write_top_level_with_list_of_dicts ________________

arctic = <Arctic at 0x7f3136c97990, connected to MongoClient(host=['127.28.84.18:15403'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_write_top_level_with_list_of_dicts(arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED.LEVEL1', toplevel.TICK_STORE_TYPE)
        toplevel_tickstore = arctic['FEED.LEVEL1']
        dates = pd.date_range('20101201', periods=57, tz=mktz('Europe/London'))
        data = [{'index': dates[i], 'a': i} for i in range(len(dates))]
        expected = pd.DataFrame(np.arange(57, dtype=np.float64), index=dates, columns=list('a'))
        toplevel_tickstore.write('blah', data)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 12, 1), end=dt(2011, 2, 1)), columns=list('a'))
>       assert_frame_equal(expected, res.tz_convert(mktz('Europe/London')))
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (57, 1)
E       [right]: (55, 1)

tests/integration/tickstore/test_toplevel.py:197: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:56:28.600-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:56:28.604-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:56:28.604-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:56:28.606-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":26774,"port":15403,"dbPath":"/tmp/tmpbqXMP7","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:56:28.606-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:56:28.606-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:56:28.606-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":15403,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpbqXMP7","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:56:28.608-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:56:28.608-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:56:31.011-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747791:10990][26774:0x7f1559dd5a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:56:31.011-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747791:11146][26774:0x7f1559dd5a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:56:31.060-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2452}}
{"t":{"$date":"2021-01-15T14:56:31.060-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:31.123-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:56:31.124-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:56:31.143-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:56:31.145-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"21a518fd-7d53-4710-84a6-285f8f3daef0"}},"options":{"uuid":{"$uuid":"21a518fd-7d53-4710-84a6-285f8f3daef0"}}}}
{"t":{"$date":"2021-01-15T14:56:31.211-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:31.211-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:56:31.212-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:56:31.214-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"07299ea5-57d8-44b4-b62f-3bf7d9882855"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:56:31.282-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:31.282-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpbqXMP7/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:56:31.287-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:56:31.287-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:56:31.287-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":15403,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:56:31.287-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"39aa1b78-4e01-493d-a6f4-2e3d30656683"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:31.388-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:31.388-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:31.389-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T14:56:31.585-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:50876","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:31.589-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:50878","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:31.793-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:50880","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:31.798-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:50882","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:31.799-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:50884","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:31.811-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:50886","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:31.819-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:50888","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:31.819-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:50890","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:31.830-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"13350a72-c957-46e0-89c9-cd8cb735d98d"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:31.937-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:31.937-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"5087a642-71f8-4f86-89bf-19f98ce319ec"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":106}}
{"t":{"$date":"2021-01-15T14:56:31.940-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"66d4cb63-bb5f-413c-96be-7cad4acb4690"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"13350a72-c957-46e0-89c9-cd8cb735d98d"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:56:31.972-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:31.972-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"66d4cb63-bb5f-413c-96be-7cad4acb4690"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:56:31.972-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"66d4cb63-bb5f-413c-96be-7cad4acb4690"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:56:28,385 DEBUG pytest_shutil.workspace 
2021-01-15 14:56:28,385 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:56:28,386 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpbqXMP7
2021-01-15 14:56:28,386 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:56:28,386 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:56:28,387 DEBUG pytest_shutil.workspace 
2021-01-15 14:56:28,387 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:56:28,524 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=15403 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpbqXMP7
2021-01-15 14:56:28,525 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:56:28,527 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:56:28,527 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15403
2021-01-15 14:56:29,142 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:56:29,143 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15403
2021-01-15 14:56:29,755 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:56:29,755 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15403
2021-01-15 14:56:30,364 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:56:30,365 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15403
2021-01-15 14:56:31,074 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:56:31,075 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15403
2021-01-15 14:56:31,784 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:56:31,785 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:15403
2021-01-15 14:56:31,809 DEBUG pytest_server_fixtures.base2 waited 0:00:03.282365 for server to start successfully
2021-01-15 14:56:31,811 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:56:31,814 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpbqXMP7
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=15403 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpbqXMP7
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15403
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15403
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15403
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15403
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15403
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:15403
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.282365 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T14:56:31.981-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f6977036-a5d1-444a-8eda-70ae7ffb6846"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:32.048-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.051-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"55fd6221-1db5-4b32-af53-c8ffc3de86b0"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:32.089-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:56:32.151-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.151-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.151-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"5087a642-71f8-4f86-89bf-19f98ce319ec"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T14:56:32.154-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fdf0cd0d-49fe-40dc-b78e-a3b548b4388e"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"55fd6221-1db5-4b32-af53-c8ffc3de86b0"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:56:32.191-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.191-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fdf0cd0d-49fe-40dc-b78e-a3b548b4388e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:56:32.192-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fdf0cd0d-49fe-40dc-b78e-a3b548b4388e"}}}}
{"t":{"$date":"2021-01-15T14:56:32.194-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8601b65b-8bf4-4c3c-bf28-7c11e36dd337"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:32.292-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.292-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.298-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T14:56:32.308-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"dd831e55-3460-45e0-8811-9689ddbb7cd4"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:32.371-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.375-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7af87b75-4be5-4135-8f39-37d2d34c090d"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:32.475-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.475-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.475-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2011.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"5087a642-71f8-4f86-89bf-19f98ce319ec"}},"$db":"arctic_FEED_2011","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T14:56:32.478-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"55a86533-4d82-4167-b524-b3fa30761f42"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"7af87b75-4be5-4135-8f39-37d2d34c090d"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:56:32.512-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.512-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"55a86533-4d82-4167-b524-b3fa30761f42"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:56:32.512-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"55a86533-4d82-4167-b524-b3fa30761f42"}}}}
{"t":{"$date":"2021-01-15T14:56:32.514-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f285cb6e-f254-480b-b361-c7720e8a2943"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:32.615-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.615-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.615-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2011.LEVEL1.metadata","command":{"createIndexes":"LEVEL1.metadata","indexes":[{"background":true,"name":"sy_1","unique":true,"key":{"sy":1}}],"lsid":{"id":{"$uuid":"5087a642-71f8-4f86-89bf-19f98ce319ec"}},"$db":"arctic_FEED_2011","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T14:56:32.627-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a0ebc110-6f81-435e-9433-b31b03e0d7e7"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:32.686-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.705-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d4919652-d464-4db9-bebc-6c0ca268508e"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:32.766-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.779-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"186bd10c-fea2-45ed-bae6-512a6e358c1d"}},"namespace":"arctic_FEED.LEVEL1","collectionUUID":{"uuid":{"$uuid":"d4919652-d464-4db9-bebc-6c0ca268508e"}},"indexes":1,"firstIndex":{"name":"start_1"}}}
{"t":{"$date":"2021-01-15T14:56:32.846-07:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"namespace":"arctic_FEED.LEVEL1","buildUUID":null,"properties":{"v":2,"key":{"start":1},"name":"start_1","background":true},"method":"Hybrid","maxTemporaryMemoryUsageMB":200}}
{"t":{"$date":"2021-01-15T14:56:32.846-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"186bd10c-fea2-45ed-bae6-512a6e358c1d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:56:32.847-07:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"totalRecords":2,"durationMillis":0}}
{"t":{"$date":"2021-01-15T14:56:32.848-07:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"arctic_FEED.LEVEL1","index":"start_1","keysInserted":2,"durationMillis":0}}
{"t":{"$date":"2021-01-15T14:56:32.853-07:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"186bd10c-fea2-45ed-bae6-512a6e358c1d"}}}}
{"t":{"$date":"2021-01-15T14:56:32.853-07:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"186bd10c-fea2-45ed-bae6-512a6e358c1d"}},"action":"Single-phase commit"}}
{"t":{"$date":"2021-01-15T14:56:32.853-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:32.866-07:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"186bd10c-fea2-45ed-bae6-512a6e358c1d"}},"namespace":"arctic_FEED.LEVEL1","uuid":{"uuid":{"$uuid":"d4919652-d464-4db9-bebc-6c0ca268508e"}},"indexesBuilt":1,"numIndexesBefore":1,"numIndexesAfter":2}}
{"t":{"$date":"2021-01-15T14:56:32.866-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"186bd10c-fea2-45ed-bae6-512a6e358c1d"}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:56:32,917 DEBUG arctic.tickstore.tickstore 1 buckets in 0.004055: approx 24660912 ticks/sec
2021-01-15 14:56:32,940 DEBUG arctic.tickstore.tickstore 1 buckets in 0.003983: approx 25106703 ticks/sec
2021-01-15 14:56:32,961 INFO arctic.tickstore.tickstore Got data in 0.014003 secs, creating DataFrame...
2021-01-15 14:56:32,966 INFO arctic.tickstore.tickstore 31 rows in 0.018467 secs: 1678 ticks/sec
2021-01-15 14:56:32,984 INFO arctic.tickstore.tickstore Got data in 0.012982 secs, creating DataFrame...
2021-01-15 14:56:32,989 INFO arctic.tickstore.tickstore 26 rows in 0.017585 secs: 1478 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.004055: approx 24660912 ticks/sec
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.003983: approx 25106703 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.014003 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 31 rows in 0.018467 secs: 1678 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.012982 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 26 rows in 0.017585 secs: 1478 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:56:33,142 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 26774 (total_procs_to_kill=1)
2021-01-15 14:56:33,143 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:56:33,144 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:56:33,159 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:56:33,160 DEBUG pytest_shutil.workspace 
2021-01-15 14:56:33,161 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:56:33,161 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpbqXMP7
2021-01-15 14:56:33,161 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:56:33,162 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 26774 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpbqXMP7
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
______________ test_should_write_top_level_with_correct_timezone _______________

arctic = <Arctic at 0x7f3136f56c90, connected to MongoClient(host=['127.28.84.18:1752'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_write_top_level_with_correct_timezone(arctic):
        # Write timezone aware data and read back in UTC
        utc = mktz('UTC')
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED.LEVEL1', toplevel.TICK_STORE_TYPE)
        toplevel_tickstore = arctic['FEED.LEVEL1']
        dates = pd.date_range('20101230220000', periods=10, tz=mktz('America/New_York'))  # 10pm New York time is 3am next day UTC
        data = [{'index': dates[i], 'a': i} for i in range(len(dates))]
        expected = pd.DataFrame(np.arange(len(dates), dtype=np.float64), index=dates.tz_convert(utc), columns=list('a'))
        toplevel_tickstore.write('blah', data)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 1), end=dt(2011, 12, 31)), columns=list('a')).tz_convert(utc)
>       assert_frame_equal(expected, res)
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (10, 1)
E       [right]: (9, 1)

tests/integration/tickstore/test_toplevel.py:215: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:56:33.412-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:56:33.419-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:56:33.419-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:56:33.420-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":26832,"port":1752,"dbPath":"/tmp/tmpzOln6m","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:56:33.420-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:56:33.420-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:56:33.420-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":1752,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpzOln6m","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:56:33.422-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:56:33.422-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:56:35.809-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747795:809507][26832:0x7f5ac4b6ca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:56:35.809-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747795:809637][26832:0x7f5ac4b6ca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:56:35.857-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2435}}
{"t":{"$date":"2021-01-15T14:56:35.857-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:35.922-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:56:35.922-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:56:35.941-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:56:35.943-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"c6717bcf-d9ed-4a3b-a2b3-44c107ff2c30"}},"options":{"uuid":{"$uuid":"c6717bcf-d9ed-4a3b-a2b3-44c107ff2c30"}}}}
{"t":{"$date":"2021-01-15T14:56:36.008-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:36.008-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:56:36.009-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:56:36.011-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b80af900-64f2-44ec-91a2-9f2c8e5acbd6"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:56:36.077-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:36.077-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpzOln6m/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:56:36.082-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:56:36.082-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5474476d-7d8a-4667-ba4f-eee3e2bac2c5"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:36.082-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:56:36.082-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":1752,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:56:36.183-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:36.183-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:36.183-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T14:56:36.397-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:43816","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:36.402-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:43818","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:36.605-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:43820","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:36.609-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:43822","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:36.616-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:43824","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:36.622-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:43826","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:36.630-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:43828","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:36.631-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:43830","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:56:36.642-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"75e64e81-e685-458d-84a8-433b28b9cab2"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:36.744-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:36.744-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"a62890b3-1d8f-4396-9c68-d3ce0444c7b5"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":102}}
{"t":{"$date":"2021-01-15T14:56:36.747-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"80dda61f-db65-4502-9453-21c25bee338e"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"75e64e81-e685-458d-84a8-433b28b9cab2"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:56:36.778-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:36.779-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"80dda61f-db65-4502-9453-21c25bee338e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:56:36.779-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"80dda61f-db65-4502-9453-21c25bee338e"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:56:33,186 DEBUG pytest_shutil.workspace 
2021-01-15 14:56:33,187 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:56:33,188 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpzOln6m
2021-01-15 14:56:33,189 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:56:33,189 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:56:33,189 DEBUG pytest_shutil.workspace 
2021-01-15 14:56:33,190 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:56:33,333 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=1752 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpzOln6m
2021-01-15 14:56:33,335 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:56:33,336 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:56:33,337 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1752
2021-01-15 14:56:33,953 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:56:33,954 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1752
2021-01-15 14:56:34,564 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:56:34,565 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1752
2021-01-15 14:56:35,175 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:56:35,175 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1752
2021-01-15 14:56:35,885 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:56:35,885 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1752
2021-01-15 14:56:36,596 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:56:36,597 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1752
2021-01-15 14:56:36,622 DEBUG pytest_server_fixtures.base2 waited 0:00:03.286124 for server to start successfully
2021-01-15 14:56:36,623 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:56:36,626 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpzOln6m
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=1752 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpzOln6m
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1752
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1752
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1752
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1752
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1752
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1752
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.286124 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T14:56:36.790-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"60950c00-fe82-4d46-a14d-d35f29e52c2c"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:36.857-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:36.860-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b7ea7404-f7ad-40e4-8cc1-c2838c8537e5"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:36.902-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:56:36.958-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:36.958-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:36.960-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8fa6bc84-382b-4c7b-8bb5-ab260ab5b8b6"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"b7ea7404-f7ad-40e4-8cc1-c2838c8537e5"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:56:36.997-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:36.997-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8fa6bc84-382b-4c7b-8bb5-ab260ab5b8b6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:56:36.997-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8fa6bc84-382b-4c7b-8bb5-ab260ab5b8b6"}}}}
{"t":{"$date":"2021-01-15T14:56:37.000-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"dae82738-1821-4737-ab7e-31c7c55570f6"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:37.099-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.099-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.099-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1.metadata","command":{"createIndexes":"LEVEL1.metadata","indexes":[{"background":true,"name":"sy_1","unique":true,"key":{"sy":1}}],"lsid":{"id":{"$uuid":"a62890b3-1d8f-4396-9c68-d3ce0444c7b5"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T14:56:37.115-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b109b763-4558-491c-a8ec-f367d3299525"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:37.116-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T14:56:37.178-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.181-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1adf471e-20aa-4c20-a1c8-e84692dff402"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:37.279-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.279-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.281-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1994f3bc-775d-423b-8988-ffbf9a4f3dd7"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"1adf471e-20aa-4c20-a1c8-e84692dff402"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:56:37.315-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.315-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1994f3bc-775d-423b-8988-ffbf9a4f3dd7"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:56:37.315-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1994f3bc-775d-423b-8988-ffbf9a4f3dd7"}}}}
{"t":{"$date":"2021-01-15T14:56:37.317-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b62c45dc-ca98-420d-9f6d-0cb710914668"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:37.415-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.416-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.428-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0848b567-e764-4da5-8dd0-e74ce3f07787"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:37.491-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.508-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"77ef242b-f9a8-44c1-bfe6-8beb6a4b62ce"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:56:37.570-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.582-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4de68fdd-e3a8-4fa0-973f-a731bbd19e9f"}},"namespace":"arctic_FEED.LEVEL1","collectionUUID":{"uuid":{"$uuid":"77ef242b-f9a8-44c1-bfe6-8beb6a4b62ce"}},"indexes":1,"firstIndex":{"name":"start_1"}}}
{"t":{"$date":"2021-01-15T14:56:37.646-07:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"namespace":"arctic_FEED.LEVEL1","buildUUID":null,"properties":{"v":2,"key":{"start":1},"name":"start_1","background":true},"method":"Hybrid","maxTemporaryMemoryUsageMB":200}}
{"t":{"$date":"2021-01-15T14:56:37.646-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4de68fdd-e3a8-4fa0-973f-a731bbd19e9f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:56:37.647-07:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"totalRecords":2,"durationMillis":0}}
{"t":{"$date":"2021-01-15T14:56:37.648-07:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"arctic_FEED.LEVEL1","index":"start_1","keysInserted":2,"durationMillis":0}}
{"t":{"$date":"2021-01-15T14:56:37.653-07:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"4de68fdd-e3a8-4fa0-973f-a731bbd19e9f"}}}}
{"t":{"$date":"2021-01-15T14:56:37.653-07:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"4de68fdd-e3a8-4fa0-973f-a731bbd19e9f"}},"action":"Single-phase commit"}}
{"t":{"$date":"2021-01-15T14:56:37.654-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:56:37.666-07:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"4de68fdd-e3a8-4fa0-973f-a731bbd19e9f"}},"namespace":"arctic_FEED.LEVEL1","uuid":{"uuid":{"$uuid":"77ef242b-f9a8-44c1-bfe6-8beb6a4b62ce"}},"indexesBuilt":1,"numIndexesBefore":1,"numIndexesAfter":2}}
{"t":{"$date":"2021-01-15T14:56:37.667-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4de68fdd-e3a8-4fa0-973f-a731bbd19e9f"}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:56:37,704 DEBUG arctic.tickstore.tickstore 1 buckets in 0.004802: approx 20824656 ticks/sec
2021-01-15 14:56:37,717 DEBUG arctic.tickstore.tickstore 1 buckets in 0.003564: approx 28058361 ticks/sec
2021-01-15 14:56:37,737 INFO arctic.tickstore.tickstore Got data in 0.012678 secs, creating DataFrame...
2021-01-15 14:56:37,742 INFO arctic.tickstore.tickstore 1 rows in 0.017077 secs: 58 ticks/sec
2021-01-15 14:56:37,760 INFO arctic.tickstore.tickstore Got data in 0.013739 secs, creating DataFrame...
2021-01-15 14:56:37,764 INFO arctic.tickstore.tickstore 9 rows in 0.017923 secs: 502 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.004802: approx 20824656 ticks/sec
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.003564: approx 28058361 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.012678 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 1 rows in 0.017077 secs: 58 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.013739 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 9 rows in 0.017923 secs: 502 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:56:37,919 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 26832 (total_procs_to_kill=1)
2021-01-15 14:56:37,919 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:56:37,921 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:56:37,936 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:56:37,937 DEBUG pytest_shutil.workspace 
2021-01-15 14:56:37,937 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:56:37,937 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpzOln6m
2021-01-15 14:56:37,938 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:56:37,938 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 26832 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpzOln6m
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
__________________________ test_date_range[tickstore] __________________________

tickstore_lib = <TickStore at 0x7f3136ca0a10>
    <ArcticLibrary at 0x7f3136ca0090, arctic_tes...ost=['127.28.84.18:16432'], document_class=dict, tz_aware=False, connect=True)>

    def test_date_range(tickstore_lib):
        tickstore_lib.write('SYM', DUMMY_DATA)
        df = tickstore_lib.read('SYM', date_range=DateRange(20130101, 20130103), columns=None)
>       assert_array_equal(df['a'].values, np.array([1, np.nan, np.nan]))
E       AssertionError: 
E       Arrays are not equal
E       
E       (shapes (2,), (3,) mismatch)
E        x: array([nan, nan])
E        y: array([ 1., nan, nan])

tests/integration/tickstore/test_ts_read.py:233: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:57:34.264-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:57:34.276-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:57:34.276-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:57:34.277-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":27692,"port":16432,"dbPath":"/tmp/tmpuFSe5u","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:57:34.277-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:57:34.277-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:57:34.277-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":16432,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpuFSe5u","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:57:34.280-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:57:34.280-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:57:36.379-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747856:379068][27692:0x7f52db30da80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:57:36.379-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747856:379186][27692:0x7f52db30da80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:57:36.422-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2142}}
{"t":{"$date":"2021-01-15T14:57:36.422-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:36.487-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:57:36.487-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:57:36.505-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:57:36.507-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"a0351f36-42b1-451f-9304-40f47220a615"}},"options":{"uuid":{"$uuid":"a0351f36-42b1-451f-9304-40f47220a615"}}}}
{"t":{"$date":"2021-01-15T14:57:36.576-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:36.576-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:57:36.577-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:57:36.579-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fb72a369-5f4e-4a98-bab2-f06d9f5163fb"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:57:36.638-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:36.639-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpuFSe5u/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:57:36.643-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:57:36.643-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:57:36.643-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":16432,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:57:36.643-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"11747d6f-a9ff-4666-838e-1f2ab587afb3"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:36.741-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:36.741-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:36.743-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:50880","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:36.749-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:50882","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:36.749-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:50884","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:36.761-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:50886","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:36.766-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:50888","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:36.767-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:50890","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:36.775-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"17341b10-6971-45ea-b10f-051da4c1cd06"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:36.849-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:36.851-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1e7eb9f9-b886-4045-b06a-0b562c1e1e2b"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"17341b10-6971-45ea-b10f-051da4c1cd06"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:57:36.878-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:36.878-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1e7eb9f9-b886-4045-b06a-0b562c1e1e2b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:57:36.878-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1e7eb9f9-b886-4045-b06a-0b562c1e1e2b"}}}}
{"t":{"$date":"2021-01-15T14:57:36.886-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bb88cde6-118a-4751-b05d-728f6594af04"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:36.958-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:36.961-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a7e42e6f-25ea-46c2-b5c4-011be74db44b"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:37.089-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:37.090-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:37.090-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.tickstore","command":{"createIndexes":"tickstore","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"6cd22b99-ba38-4db3-ba21-3c35413eaadc"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":128}}
{"t":{"$date":"2021-01-15T14:57:37.092-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"df483bce-e4e6-48f5-907e-e5fa818d2644"}},"namespace":"arctic_test.tickstore","collectionUUID":{"uuid":{"$uuid":"a7e42e6f-25ea-46c2-b5c4-011be74db44b"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:57:37.125-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:37.125-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"df483bce-e4e6-48f5-907e-e5fa818d2644"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:57:37.125-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"df483bce-e4e6-48f5-907e-e5fa818d2644"}}}}
{"t":{"$date":"2021-01-15T14:57:37.127-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"43fda16c-32d0-48ee-881d-63722f01f282"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:37.225-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:37.225-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:57:34,028 DEBUG pytest_shutil.workspace 
2021-01-15 14:57:34,029 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:34,029 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpuFSe5u
2021-01-15 14:57:34,030 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:57:34,030 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:34,030 DEBUG pytest_shutil.workspace 
2021-01-15 14:57:34,031 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:57:34,187 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=16432 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpuFSe5u
2021-01-15 14:57:34,189 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:57:34,191 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:57:34,191 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:16432
2021-01-15 14:57:34,807 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:57:34,808 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:16432
2021-01-15 14:57:35,417 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:57:35,418 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:16432
2021-01-15 14:57:36,027 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:57:36,028 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:16432
2021-01-15 14:57:36,736 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:57:36,737 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:16432
2021-01-15 14:57:36,759 DEBUG pytest_server_fixtures.base2 waited 0:00:02.568607 for server to start successfully
2021-01-15 14:57:36,760 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:57:36,762 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpuFSe5u
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=16432 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpuFSe5u
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:16432
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:16432
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:16432
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:16432
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:16432
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:02.568607 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T14:57:37.247-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:57:37,247 DEBUG arctic.tickstore.tickstore 1 buckets in 0.002804: approx 35663338 ticks/sec
2021-01-15 14:57:37,265 INFO arctic.tickstore.tickstore Got data in 0.014673 secs, creating DataFrame...
2021-01-15 14:57:37,271 INFO arctic.tickstore.tickstore 5 rows in 0.020564 secs: 243 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.002804: approx 35663338 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.014673 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 5 rows in 0.020564 secs: 243 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:57:37,459 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 27692 (total_procs_to_kill=1)
2021-01-15 14:57:37,460 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:57:37,461 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:57:37,476 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:57:37,477 DEBUG pytest_shutil.workspace 
2021-01-15 14:57:37,477 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:37,477 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpuFSe5u
2021-01-15 14:57:37,478 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:37,478 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 27692 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpuFSe5u
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_________________ test_date_range_end_not_in_range[tickstore] __________________

tickstore_lib = <TickStore at 0x7f313bcd4190>
    <ArcticLibrary at 0x7f313bdda390, arctic_tes...ost=['127.28.84.18:29343'], document_class=dict, tz_aware=False, connect=True)>

    def test_date_range_end_not_in_range(tickstore_lib):
        DUMMY_DATA = [
                      {'a': 1.,
                       'b': 2.,
                       'index': dt(2013, 1, 1, tzinfo=mktz('Europe/London'))
                       },
                      {'b': 3.,
                       'c': 4.,
                       'index': dt(2013, 1, 2, 10, 1, tzinfo=mktz('Europe/London'))
                       },
                      ]
    
        tickstore_lib._chunk_size = 1
        tickstore_lib.write('SYM', DUMMY_DATA)
        with patch.object(tickstore_lib._collection, 'find', side_effect=tickstore_lib._collection.find) as f:
            df = tickstore_lib.read('SYM', date_range=DateRange(20130101, dt(2013, 1, 2, 9, 0)), columns=None)
>           assert_array_equal(df['b'].values, np.array([2.]))
E           AssertionError: 
E           Arrays are not equal
E           
E           Mismatched elements: 1 / 1 (100%)
E           Max absolute difference: 1.
E           Max relative difference: 0.5
E            x: array([3.])
E            y: array([2.])

tests/integration/tickstore/test_ts_read.py:299: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:57:37.731-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:57:37.738-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:57:37.738-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:57:37.739-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":27744,"port":29343,"dbPath":"/tmp/tmpIxI_zI","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:57:37.739-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:57:37.739-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:57:37.739-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":29343,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpIxI_zI","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:57:37.742-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:57:37.742-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:57:40.199-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747860:199421][27744:0x7f12b4089a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:57:40.199-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747860:199587][27744:0x7f12b4089a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:57:40.247-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2505}}
{"t":{"$date":"2021-01-15T14:57:40.247-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:40.307-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:57:40.307-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:57:40.329-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:57:40.330-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"820ad5e6-cb3e-471d-b4f0-072042e7ee35"}},"options":{"uuid":{"$uuid":"820ad5e6-cb3e-471d-b4f0-072042e7ee35"}}}}
{"t":{"$date":"2021-01-15T14:57:40.398-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:40.398-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:57:40.399-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:57:40.401-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9618e7b9-e87d-49df-b1a7-7f918b3ebe02"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:57:40.464-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:40.465-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpIxI_zI/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:57:40.469-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:57:40.469-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:57:40.469-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":29343,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:57:40.469-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"afe7cc14-a899-456a-a3c1-d1afc7084fed"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:40.568-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:40.568-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:40.725-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:50462","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:40.729-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:50464","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:40.934-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:50466","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:40.937-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:50468","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:40.941-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:50470","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:40.950-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:50472","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:40.958-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:50474","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:40.959-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:50476","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:40.969-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"dbb9f088-c546-4946-9631-3711da0e8771"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:41.068-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:41.070-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"db19279b-c330-427c-8433-d5a3bd3d7072"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"dbb9f088-c546-4946-9631-3711da0e8771"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:57:41.096-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:41.097-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"db19279b-c330-427c-8433-d5a3bd3d7072"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:57:41.097-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"db19279b-c330-427c-8433-d5a3bd3d7072"}}}}
{"t":{"$date":"2021-01-15T14:57:41.105-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"01726f40-59f4-4aeb-8c9b-f1522bd62680"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:41.175-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:41.179-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5302183a-230c-49cf-a690-5a1422717a6d"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:41.229-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T14:57:41.277-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:41.277-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:41.280-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"295e9f6d-e02b-47e5-a86f-98fea8142174"}},"namespace":"arctic_test.tickstore","collectionUUID":{"uuid":{"$uuid":"5302183a-230c-49cf-a690-5a1422717a6d"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:57:41.313-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:41.313-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"295e9f6d-e02b-47e5-a86f-98fea8142174"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:57:41.314-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"295e9f6d-e02b-47e5-a86f-98fea8142174"}}}}
{"t":{"$date":"2021-01-15T14:57:41.316-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3d95e88e-a34e-4dba-bd92-81be37140f1c"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:41.413-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:41.413-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:57:37,497 DEBUG pytest_shutil.workspace 
2021-01-15 14:57:37,498 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:37,498 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpIxI_zI
2021-01-15 14:57:37,499 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:57:37,499 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:37,499 DEBUG pytest_shutil.workspace 
2021-01-15 14:57:37,500 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:57:37,652 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=29343 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpIxI_zI
2021-01-15 14:57:37,654 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:57:37,655 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:57:37,655 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:29343
2021-01-15 14:57:38,269 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:57:38,270 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:29343
2021-01-15 14:57:38,880 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:57:38,881 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:29343
2021-01-15 14:57:39,495 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:57:39,496 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:29343
2021-01-15 14:57:40,209 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:57:40,210 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:29343
2021-01-15 14:57:40,926 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 14:57:40,926 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:29343
2021-01-15 14:57:40,949 DEBUG pytest_server_fixtures.base2 waited 0:00:03.294257 for server to start successfully
2021-01-15 14:57:40,951 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:57:40,954 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpIxI_zI
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=29343 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpIxI_zI
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:29343
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:29343
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:29343
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:29343
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:29343
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:29343
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.294257 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T14:57:41.440-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":17}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:57:41,442 DEBUG arctic.tickstore.tickstore 2 buckets in 0.004889: approx 409 ticks/sec
2021-01-15 14:57:41,466 INFO arctic.tickstore.tickstore Got data in 0.020794 secs, creating DataFrame...
2021-01-15 14:57:41,473 INFO arctic.tickstore.tickstore 1 rows in 0.027636 secs: 36 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 2 buckets in 0.004889: approx 409 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.020794 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 1 rows in 0.027636 secs: 36 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:57:41,671 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 27744 (total_procs_to_kill=1)
2021-01-15 14:57:41,672 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:57:41,673 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:57:41,689 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:57:41,690 DEBUG pytest_shutil.workspace 
2021-01-15 14:57:41,690 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:41,691 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpIxI_zI
2021-01-15 14:57:41,691 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:41,692 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 27744 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpIxI_zI
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_____________________ test_date_range_no_bounds[tickstore] _____________________

tickstore_lib = <TickStore at 0x7f313bc99e50>
    <ArcticLibrary at 0x7f313bc99e90, arctic_tes...host=['127.28.84.18:1105'], document_class=dict, tz_aware=False, connect=True)>

    def test_date_range_no_bounds(tickstore_lib):
        DUMMY_DATA = [
                      {'a': 1.,
                       'b': 2.,
                       'index': dt(2013, 1, 1, tzinfo=mktz('Europe/London'))
                       },
                      {'a': 3.,
                       'b': 4.,
                       'index': dt(2013, 1, 30, tzinfo=mktz('Europe/London'))
                       },
                      {'b': 5.,
                       'c': 6.,
                       'index': dt(2013, 2, 2, 10, 1, tzinfo=mktz('Europe/London'))
                       },
                      ]
    
        tickstore_lib._chunk_size = 1
        tickstore_lib.write('SYM', DUMMY_DATA)
    
        # 1) No start, no end
        df = tickstore_lib.read('SYM', columns=None)
        assert_array_equal(df['b'].values, np.array([2., 4.]))
        # 1.2) Start before the real start
        df = tickstore_lib.read('SYM', date_range=DateRange(20121231), columns=None)
        assert_array_equal(df['b'].values, np.array([2., 4.]))
        # 2.1) Only go one month out
        df = tickstore_lib.read('SYM', date_range=DateRange(20130101), columns=None)
>       assert_array_equal(df['b'].values, np.array([2., 4.]))
E       AssertionError: 
E       Arrays are not equal
E       
E       (shapes (1,), (2,) mismatch)
E        x: array([4.])
E        y: array([2., 4.])

tests/integration/tickstore/test_ts_read.py:368: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T14:57:54.259-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T14:57:54.263-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T14:57:54.263-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T14:57:54.264-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":28005,"port":1105,"dbPath":"/tmp/tmpQYq9uj","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T14:57:54.264-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T14:57:54.264-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T14:57:54.264-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.28.84.18","port":1105,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpQYq9uj","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T14:57:54.266-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:57:54.266-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T14:57:56.345-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747876:345860][28005:0x7f5941b32a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:57:56.346-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610747876:345999][28005:0x7f5941b32a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T14:57:56.388-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2122}}
{"t":{"$date":"2021-01-15T14:57:56.389-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:56.455-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T14:57:56.455-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T14:57:56.471-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T14:57:56.472-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"513669d8-3d82-45ca-90dc-7fbc80501ca0"}},"options":{"uuid":{"$uuid":"513669d8-3d82-45ca-90dc-7fbc80501ca0"}}}}
{"t":{"$date":"2021-01-15T14:57:56.539-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:56.539-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T14:57:56.540-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T14:57:56.542-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"eccceae0-1e45-4f53-9e52-f61dc27713cb"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T14:57:56.602-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:56.603-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpQYq9uj/diagnostic.data"}}
{"t":{"$date":"2021-01-15T14:57:56.606-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T14:57:56.607-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.28.84.18"}}
{"t":{"$date":"2021-01-15T14:57:56.607-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e3c58805-4ac1-4952-99d9-74b26e13c1c2"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:56.607-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":1105,"ssl":"off"}}
{"t":{"$date":"2021-01-15T14:57:56.705-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:56.705-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:56.738-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:49178","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:56.743-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:49180","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:56.743-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:49182","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:56.755-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:49184","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:56.759-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:49186","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:56.760-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:49188","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-15T14:57:56.769-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c8541ed5-d3e8-4ba5-a12d-3ab38d97db5f"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:56.842-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:56.845-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"410372ab-6d90-4335-a4bd-db1c1d4f859f"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"c8541ed5-d3e8-4ba5-a12d-3ab38d97db5f"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T14:57:56.872-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:56.872-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"410372ab-6d90-4335-a4bd-db1c1d4f859f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:57:56.872-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"410372ab-6d90-4335-a4bd-db1c1d4f859f"}}}}
{"t":{"$date":"2021-01-15T14:57:56.878-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5daa4664-eb0e-4882-894f-22401a2be466"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:56.948-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:56.951-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5ae75b98-4213-471d-80bf-b7cd2f7a52b0"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:57.083-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:57.083-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:57.083-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.tickstore","command":{"createIndexes":"tickstore","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"ed364233-056f-450b-b885-975834f19c2b"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":131}}
{"t":{"$date":"2021-01-15T14:57:57.085-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"77282c21-dcbd-4767-90c7-b92f490323ec"}},"namespace":"arctic_test.tickstore","collectionUUID":{"uuid":{"$uuid":"5ae75b98-4213-471d-80bf-b7cd2f7a52b0"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T14:57:57.120-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:57.120-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"77282c21-dcbd-4767-90c7-b92f490323ec"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T14:57:57.120-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"77282c21-dcbd-4767-90c7-b92f490323ec"}}}}
{"t":{"$date":"2021-01-15T14:57:57.122-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7f1a3af6-35b3-4f9c-840f-889251035770"}},"options":{}}}
{"t":{"$date":"2021-01-15T14:57:57.218-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T14:57:57.218-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 14:57:54,035 DEBUG pytest_shutil.workspace 
2021-01-15 14:57:54,036 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:54,037 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpQYq9uj
2021-01-15 14:57:54,037 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 14:57:54,038 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:54,038 DEBUG pytest_shutil.workspace 
2021-01-15 14:57:54,039 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 14:57:54,183 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.28.84.18 --port=1105 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpQYq9uj
2021-01-15 14:57:54,184 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 14:57:54,185 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 14:57:54,186 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1105
2021-01-15 14:57:54,799 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 14:57:54,800 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1105
2021-01-15 14:57:55,407 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 14:57:55,408 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1105
2021-01-15 14:57:56,018 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 14:57:56,019 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1105
2021-01-15 14:57:56,730 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 14:57:56,730 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.28.84.18:1105
2021-01-15 14:57:56,752 DEBUG pytest_server_fixtures.base2 waited 0:00:02.566507 for server to start successfully
2021-01-15 14:57:56,753 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 14:57:56,755 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpQYq9uj
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.28.84.18 --port=1105 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpQYq9uj
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1105
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1105
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1105
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1105
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.28.84.18:1105
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:02.566507 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T14:57:57.242-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 14:57:57,239 DEBUG arctic.tickstore.tickstore 3 buckets in 0.003188: approx 941 ticks/sec
2021-01-15 14:57:57,240 INFO arctic.tickstore.tickstore No end provided.  Loading a month for: SYM:None
2021-01-15 14:57:57,255 INFO arctic.tickstore.tickstore Got data in 0.014846 secs, creating DataFrame...
2021-01-15 14:57:57,260 INFO arctic.tickstore.tickstore 2 rows in 0.02019 secs: 99 ticks/sec
2021-01-15 14:57:57,268 INFO arctic.tickstore.tickstore No end provided.  Loading a month for: SYM:None
2021-01-15 14:57:57,277 INFO arctic.tickstore.tickstore Got data in 0.013332 secs, creating DataFrame...
2021-01-15 14:57:57,283 INFO arctic.tickstore.tickstore 2 rows in 0.019246 secs: 103 ticks/sec
2021-01-15 14:57:57,299 INFO arctic.tickstore.tickstore No end provided.  Loading a month for: SYM:None
2021-01-15 14:57:57,309 INFO arctic.tickstore.tickstore Got data in 0.018872 secs, creating DataFrame...
2021-01-15 14:57:57,315 INFO arctic.tickstore.tickstore 1 rows in 0.024096 secs: 41 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 3 buckets in 0.003188: approx 941 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:232 No end provided.  Loading a month for: SYM:None
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.014846 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 2 rows in 0.02019 secs: 99 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:232 No end provided.  Loading a month for: SYM:None
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.013332 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 2 rows in 0.019246 secs: 103 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:232 No end provided.  Loading a month for: SYM:None
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.018872 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 1 rows in 0.024096 secs: 41 ticks/sec
--------------------------- Captured stdout teardown ---------------------------
{"t":{"$date":"2021-01-15T14:57:57.761-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn4","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 14:57:57,796 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 28005 (total_procs_to_kill=1)
2021-01-15 14:57:57,797 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-15 14:57:57,798 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 14:57:57,813 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 14:57:57,814 DEBUG pytest_shutil.workspace 
2021-01-15 14:57:57,814 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:57,814 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpQYq9uj
2021-01-15 14:57:57,814 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 14:57:57,815 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 28005 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpQYq9uj
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_________________________ test_mongo_date_range_query __________________________

    def test_mongo_date_range_query():
        self = create_autospec(TickStore)
        self._collection = create_autospec(Collection)
        self._symbol_query.return_value = {"sy": {"$in" : ["s1" , "s2"]}}
        self._collection.aggregate.return_value = iter([{"_id": "s1", "start": dt(2014, 1, 1, 0, 0, tzinfo=mktz())},
                                                        {"_id": "s2", "start": dt(2014, 1, 1, 12, 0, tzinfo=mktz())}])
    
        self._collection.find_one.side_effect = [
            {'e': dt(2014, 1, 1, 15, 0, tzinfo=mktz())},
            {'e': dt(2014, 1, 2, 12, 0, tzinfo=mktz())}]
    
        query = TickStore._mongo_date_range_query(self, 'sym', DateRange(dt(2014, 1, 2, 0, 0, tzinfo=mktz()),
                                                                         dt(2014, 1, 3, 0, 0, tzinfo=mktz())))
    
        assert self._collection.aggregate.call_args_list == [call([
         {"$match": {"s": {"$lte": dt(2014, 1, 2, 0, 0, tzinfo=mktz())}, "sy": {"$in" : ["s1" , "s2"]}}},
         {"$project": {"_id": 0, "s": 1, "sy": 1}},
         {"$group": {"_id": "$sy", "start": {"$max": "$s"}}},
         {"$sort": {"start": 1}}])]
    
        assert self._collection.find_one.call_args_list == [
            call({'sy': 's1', 's': dt(2014, 1, 1, 0, 0, tzinfo=mktz())}, {'e': 1}),
            call({'sy': 's2', 's': dt(2014, 1, 1, 12, 0, tzinfo=mktz())}, {'e': 1})]
    
>       assert query == {'s': {'$gte': dt(2014, 1, 1, 12, 0, tzinfo=mktz()), '$lte': dt(2014, 1, 3, 0, 0, tzinfo=mktz())}}
E       AssertionError: assert {'s': {'$gte'...ca/Denver'))}} == {'s': {'$gte':...ca/Denver'))}}
E         Differing items:
E         {'s': {'$gte': datetime.datetime(2014, 1, 1, 12, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')), '$lte': datetime.datetime(2014, 1, 3, 0, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/America/Denver'))}} != {'s': {'$gte': datetime.datetime(2014, 1, 1, 12, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/America/Denver')), '$lte': datetime.datetime(2014, 1, 3, 0, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/America/Denver'))}}
E         Use -v to get the full diff

tests/unit/tickstore/test_tickstore.py:43: AssertionError
_____________________ test_tickstore_to_bucket_with_image ______________________

    def test_tickstore_to_bucket_with_image():
        symbol = 'SYM'
        tz = 'UTC'
        initial_image = {'index': dt(2014, 1, 1, 0, 0, tzinfo=mktz(tz)), 'A': 123, 'B': 54.4, 'C': 'DESC'}
        data = [{'index': dt(2014, 1, 1, 0, 1, tzinfo=mktz(tz)), 'A': 124, 'D': 0},
                {'index': dt(2014, 1, 1, 0, 2, tzinfo=mktz(tz)), 'A': 125, 'B': 27.2}]
        bucket, final_image = TickStore._to_bucket(data, symbol, initial_image)
        assert bucket[COUNT] == 2
        assert bucket[END] == dt(2014, 1, 1, 0, 2, tzinfo=mktz(tz))
        assert set(bucket[COLUMNS]) == set(('A', 'B', 'D'))
        assert set(bucket[COLUMNS]['A']) == set((ROWMASK, DTYPE, DATA))
        assert get_coldata(bucket[COLUMNS]['A']) == ([124, 125], [1, 1, 0, 0, 0, 0, 0, 0])
        assert get_coldata(bucket[COLUMNS]['B']) == ([27.2], [0, 1, 0, 0, 0, 0, 0, 0])
        assert get_coldata(bucket[COLUMNS]['D']) == ([0], [1, 0, 0, 0, 0, 0, 0, 0])
        index = [dt.fromtimestamp(int(i/1000)).replace(tzinfo=mktz(tz)) for i in
                 list(np.cumsum(np.frombuffer(decompress(bucket[INDEX]), dtype='uint64')))]
>       assert index == [i['index'] for i in data]
E       AssertionError: assert [datetime.dat...neinfo/UTC'))] == [datetime.date...neinfo/UTC'))]
E         At index 0 diff: datetime.datetime(2013, 12, 31, 17, 1, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')) != datetime.datetime(2014, 1, 1, 0, 1, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC'))
E         Use -v to get the full diff

tests/unit/tickstore/test_tickstore.py:97: AssertionError
____________________ test_tickstore_pandas_to_bucket_image _____________________

    def test_tickstore_pandas_to_bucket_image():
        symbol = 'SYM'
        tz = 'UTC'
        initial_image = {'index': dt(2014, 1, 1, 0, 0, tzinfo=mktz(tz)), 'A': 123, 'B': 54.4, 'C': 'DESC'}
        data = [{'A': 120, 'D': 1}, {'A': 122, 'B': 2.0}, {'A': 3, 'B': 3.0, 'D': 1}]
        tick_index = [dt(2014, 1, 2, 0, 0, tzinfo=mktz(tz)),
                      dt(2014, 1, 3, 0, 0, tzinfo=mktz(tz)),
                      dt(2014, 1, 4, 0, 0, tzinfo=mktz(tz))]
        data = pd.DataFrame(data, index=tick_index)
        bucket, final_image = TickStore._pandas_to_bucket(data, symbol, initial_image)
        assert final_image == {'index': dt(2014, 1, 4, 0, 0, tzinfo=mktz(tz)), 'A': 3, 'B': 3.0, 'C': 'DESC', 'D': 1}
        assert IMAGE_DOC in bucket
        assert bucket[COUNT] == 3
        assert bucket[START] == dt(2014, 1, 1, 0, 0, tzinfo=mktz(tz))
        assert bucket[END] == dt(2014, 1, 4, 0, 0, tzinfo=mktz(tz))
        assert set(bucket[COLUMNS]) == set(('A', 'B', 'D'))
        assert set(bucket[COLUMNS]['A']) == set((ROWMASK, DTYPE, DATA))
        assert get_coldata(bucket[COLUMNS]['A']) == ([120, 122, 3], [1, 1, 1, 0, 0, 0, 0, 0])
        values, rowmask = get_coldata(bucket[COLUMNS]['B'])
        assert np.isnan(values[0]) and values[1:] == [2.0, 3.0]
        assert rowmask == [1, 1, 1, 0, 0, 0, 0, 0]
        values, rowmask = get_coldata(bucket[COLUMNS]['D'])
        assert np.isnan(values[1])
        assert values[0] == 1 and values[2] == 1
        assert rowmask == [1, 1, 1, 0, 0, 0, 0, 0]
        index = [dt.fromtimestamp(int(i/1000)).replace(tzinfo=mktz(tz)) for i in
                 list(np.cumsum(np.frombuffer(decompress(bucket[INDEX]), dtype='uint64')))]
>       assert index == tick_index
E       AssertionError: assert [datetime.dat...neinfo/UTC'))] == [datetime.date...neinfo/UTC'))]
E         At index 0 diff: datetime.datetime(2014, 1, 1, 17, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')) != datetime.datetime(2014, 1, 2, 0, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC'))
E         Use -v to get the full diff

tests/unit/tickstore/test_tickstore.py:162: AssertionError
----------------------------- Captured stderr call -----------------------------
2021-01-15 15:12:08,976 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
=============================== warnings summary ===============================
tests/integration/test_arctic.py::test_delete_library
tests/integration/test_arctic.py::test_lib_rename
tests/integration/test_arctic.py::test_lib_rename_namespace
tests/integration/test_arctic.py::test_renaming_returns_new_name_in_cache
tests/integration/test_arctic.py::test_deleting_library_removes_it_from_cache
tests/integration/scripts/test_delete_library.py::test_delete_library
tests/integration/scripts/test_delete_library.py::test_delete_library1
tests/integration/scripts/test_delete_library.py::test_delete_library2
tests/integration/scripts/test_delete_library.py::test_delete_library3
tests/integration/scripts/test_delete_library.py::test_delete_library_doesnt_exist
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/_cache.py:120: DeprecationWarning: update is deprecated. Use replace_one, update_one or update_many instead.
    {"$pull": {"data": item}}

tests/integration/test_arctic.py::test_list_libraries_cached
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/test_arctic.py:250: DeprecationWarning: remove is deprecated. Use delete_one or delete_many instead.
    arctic._conn.meta_db.cache.remove({})

tests/integration/chunkstore/test_chunkstore.py::test_write_dataframe_with_func
  /home/cwm/git/bb.FLXSA/quant/arctic_878/.tox/dev27/lib/python2.7/site-packages/pandas/core/indexing.py:635: SettingWithCopyWarning: 
  A value is trying to be set on a copy of a slice from a DataFrame.
  Try using .loc[row_indexer,col_indexer] = value instead
  
  See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy
    self.obj[item_labels[indexer[info_axis]]] = value

tests/integration/store/test_bitemporal_store.py::test_new_ts_read_write
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/serialization/numpy_records.py:77: FutureWarning: Converting timezone-aware DatetimeArray to timezone-naive ndarray with 'datetime64[ns]' dtype. In the future, this will return an ndarray with 'object' dtype where each element is a 'pandas.Timestamp' with the correct 'tz'.
  	To accept the future behavior, pass 'dtype=object'.
  	To keep the old behavior, pass 'dtype="datetime64[ns]"'.
    ix_vals, index_names, index_tz = _multi_index_to_records(index, len(df) == 0)

tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size0]
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/store/test_pandas_store.py:651: FutureWarning: 
  Panel is deprecated and will be removed in a future version.
  The recommended way to represent these types of 3-dimensional data are with a MultiIndex on a DataFrame, via the Panel.to_frame() method
  Alternatively, you can use the xarray package http://xarray.pydata.org/en/stable/.
  Pandas provides a `.to_xarray()` method to help automate this conversion.
  
    pn = panel(*df_size)

tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size0]
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/store/_pandas_ndarray_store.py:245: FutureWarning: 
  Panel is deprecated and will be removed in a future version.
  The recommended way to represent these types of 3-dimensional data are with a MultiIndex on a DataFrame, via the Panel.to_frame() method
  Alternatively, you can use the xarray package http://xarray.pydata.org/en/stable/.
  Pandas provides a `.to_xarray()` method to help automate this conversion.
  
    return item.iloc[:, 0].unstack().to_panel()

tests/integration/store/test_pandas_store.py::test_panel_save_read_with_nans
  /home/cwm/git/bb.FLXSA/quant/arctic_878/.eggs/pytest-4.6.11-py2.7.egg/_pytest/python.py:174: FutureWarning: 
  Panel is deprecated and will be removed in a future version.
  The recommended way to represent these types of 3-dimensional data are with a MultiIndex on a DataFrame, via the Panel.to_frame() method
  Alternatively, you can use the xarray package http://xarray.pydata.org/en/stable/.
  Pandas provides a `.to_xarray()` method to help automate this conversion.
  
    testfunction(**testargs)

tests/integration/store/test_pandas_store.py::test_panel_save_read_with_nans
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/store/test_pandas_store.py:667: FutureWarning: Sorting because non-concatenation axis is not aligned. A future version
  of pandas will change to not sort by default.
  
  To accept the future behavior, pass 'sort=False'.
  
  To retain the current behavior and silence the warning, pass 'sort=True'.
  
    p_in = Panel(data=dict(i1=df1, i2=df2))

tests/integration/store/test_pandas_store.py::test_panel_save_read_with_nans
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/store/_pandas_ndarray_store.py:246: FutureWarning: 
  Panel is deprecated and will be removed in a future version.
  The recommended way to represent these types of 3-dimensional data are with a MultiIndex on a DataFrame, via the Panel.to_frame() method
  Alternatively, you can use the xarray package http://xarray.pydata.org/en/stable/.
  Pandas provides a `.to_xarray()` method to help automate this conversion.
  
    return item.to_panel()

tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
  /home/cwm/git/bb.FLXSA/quant/arctic_878/.tox/dev27/lib/python2.7/site-packages/numpy/core/numeric.py:2591: DeprecationWarning: elementwise comparison failed; this will raise an error in the future.
    return bool(asarray(a1 == a2).all())

tests/integration/tickstore/test_toplevel.py::test_should_return_data_when_date_range_falls_in_a_single_underlying_library
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/tickstore/tickstore.py:419: FutureWarning: Conversion of the second argument of issubdtype from `int` to `np.signedinteger` is deprecated. In future, it will be treated as `np.int64 == np.dtype(int).type`.
    if np.issubdtype(dtype, int):

tests/integration/tickstore/test_ts_read.py::test_read_strings[tickstore]
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/tickstore/tickstore.py:716: FutureWarning: A future version of pandas will default to `skipna=True`. To silence this warning, pass `skipna=True|False` explicitly.
    array = TickStore._ensure_supported_dtypes(recs[col])

-- Docs: https://docs.pytest.org/en/latest/warnings.html
---- generated xml file: /home/cwm/git/bb.FLXSA/quant/arctic_878/junit.xml -----

---------- coverage: platform linux2, python 2.7.12-final-0 ----------
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

= 27 failed, 1290 passed, 3 skipped, 7 xfailed, 12 xpassed, 26 warnings in 5331.36 seconds =
ERROR: InvocationError for command /home/cwm/git/bb.FLXSA/quant/arctic_878/.tox/dev27/bin/python setup.py test (exited with code 1)

commands failed
