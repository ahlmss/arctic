3:53,494 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:13:53,494 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6360 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpwq8v9q5c
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_restore_version_non_existent_version[FwPointersCfg.HYBRID] ________

library = <VersionStore at 0x7fafc918ed68>
    <ArcticLibrary at 0x7fafc918e898, arctic_test.TEST>
        <Arctic at 0x7fafc81fa748, connected to MongoClient(host=['127.168.91.69:22044'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_non_existent_version(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
    
                with pytest.raises(NoDataFoundException):
                    library.restore_version(symbol, as_of=3)
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1382: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:13:53.616-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:13:53.621-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:13:53.621-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:13:53.623-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6416,"port":22044,"dbPath":"/tmp/tmprcgw_ntj","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:13:53.623-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:13:53.623-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:13:53.623-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":22044,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmprcgw_ntj","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:13:53.626-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:13:53.626-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:13:56.029-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752436:29627][6416:0x7fec5dcd5a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:13:56.029-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752436:29773][6416:0x7fec5dcd5a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:13:56.081-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2455}}
{"t":{"$date":"2021-01-15T16:13:56.081-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:56.143-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:13:56.143-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:13:56.164-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:13:56.165-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"b21796e3-a84f-4837-a4e9-77b9915b79e9"}},"options":{"uuid":{"$uuid":"b21796e3-a84f-4837-a4e9-77b9915b79e9"}}}}
{"t":{"$date":"2021-01-15T16:13:56.232-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:56.232-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:13:56.233-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:13:56.235-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e90e8ce9-d683-42a8-b81f-be5b4b58da7a"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:13:56.301-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:56.302-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmprcgw_ntj/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:13:56.306-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:13:56.306-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:13:56.307-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":22044,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:13:56.307-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bf048892-150c-421d-8055-87aecea0cb2a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:13:56.407-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:56.407-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:56.407-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:13:56.601-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:33678","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:13:56.605-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:33680","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:13:56.810-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:33682","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:13:56.814-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:33684","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:13:56.815-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:33686","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:13:56.825-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:33688","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:13:56.831-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:33692","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:13:56.832-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:33690","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:13:56.844-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4b675d28-f13a-40b5-b228-d03f67010919"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:13:56.911-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:56.914-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bcaac406-50b3-4409-8832-d0e2e4f645ea"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"4b675d28-f13a-40b5-b228-d03f67010919"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:13:56.945-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:56.945-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bcaac406-50b3-4409-8832-d0e2e4f645ea"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:13:56.945-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bcaac406-50b3-4409-8832-d0e2e4f645ea"}}}}
{"t":{"$date":"2021-01-15T16:13:56.953-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d74ed27c-781a-43a8-99f8-d0eee09ba230"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:13:57.031-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.034-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"01b62972-0953-4950-a588-c612dc716073"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:13:57.105-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:13:57.172-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.172-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.173-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"3f9ad0cb-53fc-4c1f-bf80-92a734f41817"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":138}}
{"t":{"$date":"2021-01-15T16:13:57.175-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6f4902be-a3fc-4673-af64-2a0e0e4698af"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:13:57.274-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.274-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.277-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ceebb13a-ff5f-4c5f-bba4-22e5f9f992f8"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"6f4902be-a3fc-4673-af64-2a0e0e4698af"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:13:57.313-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.313-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ceebb13a-ff5f-4c5f-bba4-22e5f9f992f8"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:13:57.313-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ceebb13a-ff5f-4c5f-bba4-22e5f9f992f8"}}}}
{"t":{"$date":"2021-01-15T16:13:57.315-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:13:57.315-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fcf7adf9-9c88-45ec-8639-f2011a2a45f9"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:13:57.410-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.410-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.412-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f127d7eb-894a-4917-a447-de08a6099e0f"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:13:57.509-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.510-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.511-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"87eb49ce-cb61-47bf-8137-77d71a3172b2"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"f127d7eb-894a-4917-a447-de08a6099e0f"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:13:57.548-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.548-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"87eb49ce-cb61-47bf-8137-77d71a3172b2"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:13:57.548-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"87eb49ce-cb61-47bf-8137-77d71a3172b2"}}}}
{"t":{"$date":"2021-01-15T16:13:57.551-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"46c43c34-8162-4483-8f1f-60233af28ec8"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"f127d7eb-894a-4917-a447-de08a6099e0f"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:13:57.581-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.581-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"46c43c34-8162-4483-8f1f-60233af28ec8"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:13:57.581-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"46c43c34-8162-4483-8f1f-60233af28ec8"}}}}
{"t":{"$date":"2021-01-15T16:13:57.583-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5d99ef9f-9c4e-4580-9697-e64599666c88"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"f127d7eb-894a-4917-a447-de08a6099e0f"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:13:57.617-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:13:57.617-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5d99ef9f-9c4e-4580-9697-e64599666c88"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:13:57.617-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5d99ef9f-9c4e-4580-9697-e64599666c88"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:13:53,504 DEBUG pytest_shutil.workspace 
2021-01-15 16:13:53,504 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:13:53,505 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmprcgw_ntj
2021-01-15 16:13:53,506 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:13:53,506 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:13:53,507 DEBUG pytest_shutil.workspace 
2021-01-15 16:13:53,508 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:13:53,540 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=22044 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmprcgw_ntj
2021-01-15 16:13:53,542 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:13:53,543 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:13:53,544 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:22044
2021-01-15 16:13:54,158 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:13:54,159 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:22044
2021-01-15 16:13:54,768 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:13:54,769 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:22044
2021-01-15 16:13:55,379 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:13:55,380 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:22044
2021-01-15 16:13:56,090 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:13:56,091 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:22044
2021-01-15 16:13:56,800 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:13:56,801 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:22044
2021-01-15 16:13:56,824 DEBUG pytest_server_fixtures.base2 waited 0:00:03.280375 for server to start successfully
2021-01-15 16:13:56,824 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:13:56,827 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:13:57,637 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:13:57,642 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmprcgw_ntj
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=22044 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmprcgw_ntj
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:22044
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:22044
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:22044
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:22044
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:22044
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:22044
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.280375 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:13:57,718 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:13:58,007 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6416 (total_procs_to_kill=1)
2021-01-15 16:13:58,008 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:13:58,009 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:13:58,023 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:13:58,024 DEBUG pytest_shutil.workspace 
2021-01-15 16:13:58,024 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:13:58,024 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmprcgw_ntj
2021-01-15 16:13:58,025 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:13:58,025 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6416 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmprcgw_ntj
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_restore_version_non_existent_version[FwPointersCfg.ENABLED] _______

library = <VersionStore at 0x7fafc8156cf8>
    <ArcticLibrary at 0x7fafc8156898, arctic_test.TEST>
        <Arctic at 0x7fafc83be438, connected to MongoClient(host=['127.168.91.69:12532'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_non_existent_version(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
    
                with pytest.raises(NoDataFoundException):
                    library.restore_version(symbol, as_of=3)
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1382: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:13:58.125-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:13:58.128-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:13:58.128-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:13:58.129-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6474,"port":12532,"dbPath":"/tmp/tmpe5n3kx2q","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:13:58.129-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:13:58.129-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:13:58.129-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":12532,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpe5n3kx2q","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:13:58.131-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:13:58.131-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:00.237-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752440:237343][6474:0x7f197d273a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:00.237-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752440:237470][6474:0x7f197d273a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:00.286-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2155}}
{"t":{"$date":"2021-01-15T16:14:00.286-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:00.349-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:00.349-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:00.369-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:00.370-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"c19ff421-e981-4f41-abc4-be4bd71c5b2d"}},"options":{"uuid":{"$uuid":"c19ff421-e981-4f41-abc4-be4bd71c5b2d"}}}}
{"t":{"$date":"2021-01-15T16:14:00.435-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:00.436-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:00.437-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:00.438-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"49cf760d-ef1f-4124-aaa5-e6a79ce34472"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:00.507-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:00.508-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpe5n3kx2q/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:00.511-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:00.512-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:00.512-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":12532,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:00.512-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a274a798-f0ac-43ad-97e2-3d1e49721760"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:00.613-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:55658","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:00.617-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:55660","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:00.618-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:55662","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:00.621-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:00.621-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:00.621-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":109}}
{"t":{"$date":"2021-01-15T16:14:00.629-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:55664","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:00.635-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:55666","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:00.637-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:55668","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:00.645-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4cef1dc2-4237-4957-8d78-10465f160519"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:00.715-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:00.717-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c8f6dae9-945e-402b-87c8-3792611e9d30"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"4cef1dc2-4237-4957-8d78-10465f160519"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:00.746-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:00.747-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c8f6dae9-945e-402b-87c8-3792611e9d30"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:00.747-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c8f6dae9-945e-402b-87c8-3792611e9d30"}}}}
{"t":{"$date":"2021-01-15T16:14:00.752-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"350c6086-bf86-42a0-a054-7559147b70b1"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:00.822-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:00.825-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"aa8cc800-4464-437c-983d-69a5e79787ed"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:00.925-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:00.925-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:00.927-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"43bbd344-9f06-4713-85fe-5125579d146d"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:01.068-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:01.068-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:01.068-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.versions","command":{"createIndexes":"TEST.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"f2612d71-130a-46aa-95cc-c00ac08b78a0"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":141}}
{"t":{"$date":"2021-01-15T16:14:01.070-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e1635a06-9a2b-44bf-bb9c-0a275f7a63c8"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"43bbd344-9f06-4713-85fe-5125579d146d"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:01.106-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:01.106-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e1635a06-9a2b-44bf-bb9c-0a275f7a63c8"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:01.106-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e1635a06-9a2b-44bf-bb9c-0a275f7a63c8"}}}}
{"t":{"$date":"2021-01-15T16:14:01.108-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4094ea5f-b6a6-41f5-a118-30d86ecca2c6"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:01.117-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:14:01.204-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:01.204-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:01.206-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c98a51c5-b73b-4b91-bb4f-fa7f39b67d62"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:01.303-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:01.304-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:01.306-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"29f170b8-011f-48b7-85ea-30650feb40a6"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c98a51c5-b73b-4b91-bb4f-fa7f39b67d62"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:01.342-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:01.342-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"29f170b8-011f-48b7-85ea-30650feb40a6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:01.342-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"29f170b8-011f-48b7-85ea-30650feb40a6"}}}}
{"t":{"$date":"2021-01-15T16:14:01.344-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"68ac2c1d-3b36-4883-8b3f-9a4d5e238e7d"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c98a51c5-b73b-4b91-bb4f-fa7f39b67d62"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:01.371-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:01.371-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"68ac2c1d-3b36-4883-8b3f-9a4d5e238e7d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:01.371-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"68ac2c1d-3b36-4883-8b3f-9a4d5e238e7d"}}}}
{"t":{"$date":"2021-01-15T16:14:01.373-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0e36e352-e70b-42b6-bc03-c64eebd1428a"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c98a51c5-b73b-4b91-bb4f-fa7f39b67d62"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:01.408-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:01.408-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0e36e352-e70b-42b6-bc03-c64eebd1428a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:01.408-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0e36e352-e70b-42b6-bc03-c64eebd1428a"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:13:58,033 DEBUG pytest_shutil.workspace 
2021-01-15 16:13:58,033 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:13:58,034 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpe5n3kx2q
2021-01-15 16:13:58,034 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:13:58,034 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:13:58,035 DEBUG pytest_shutil.workspace 
2021-01-15 16:13:58,035 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:13:58,061 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=12532 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpe5n3kx2q
2021-01-15 16:13:58,062 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:13:58,063 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:13:58,064 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12532
2021-01-15 16:13:58,675 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:13:58,676 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12532
2021-01-15 16:13:59,285 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:13:59,286 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12532
2021-01-15 16:13:59,894 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:13:59,895 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12532
2021-01-15 16:14:00,604 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:00,605 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12532
2021-01-15 16:14:00,629 DEBUG pytest_server_fixtures.base2 waited 0:00:02.565714 for server to start successfully
2021-01-15 16:14:00,630 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:00,631 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:01,428 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:01,433 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpe5n3kx2q
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=12532 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpe5n3kx2q
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12532
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12532
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12532
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12532
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12532
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:02.565714 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:01,516 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:01,910 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6474 (total_procs_to_kill=1)
2021-01-15 16:14:01,911 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:01,912 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:01,927 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:01,928 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:01,928 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:01,928 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpe5n3kx2q
2021-01-15 16:14:01,929 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:01,929 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6474 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpe5n3kx2q
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
___ test_restore_version_which_updated_only_metadata[FwPointersCfg.DISABLED] ___

library = <VersionStore at 0x7faf807c9f60>
    <ArcticLibrary at 0x7faf807c9710, arctic_test.TEST>
        <Arctic at 0x7fafc8333908, connected to MongoClient(host=['127.168.91.69:23270'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_which_updated_only_metadata(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            mydf_b = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
                library.write(symbol, data=mydf_b)  # creates version 3
    
                restore_item = library.restore_version(symbol, as_of=2)  # creates version 4
                assert restore_item.version == 4
                assert restore_item.metadata == {'field_b': 1}
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1403: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:02.055-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:02.068-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:02.069-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:02.069-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6525,"port":23270,"dbPath":"/tmp/tmpt66xp38c","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:02.070-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:02.070-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:02.070-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":23270,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpt66xp38c","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:02.072-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:02.072-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:04.466-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752444:466661][6525:0x7f325cc9ca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:04.466-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752444:466783][6525:0x7f325cc9ca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:04.513-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2441}}
{"t":{"$date":"2021-01-15T16:14:04.513-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:04.580-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:04.581-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:04.598-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:04.600-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"f14f09f8-8da1-4fb5-9a43-abd3141884be"}},"options":{"uuid":{"$uuid":"f14f09f8-8da1-4fb5-9a43-abd3141884be"}}}}
{"t":{"$date":"2021-01-15T16:14:04.668-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:04.669-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:04.669-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:04.671-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ba4d1241-01e1-426a-9dc1-f11ed00edcd9"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:04.735-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:04.735-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpt66xp38c/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:04.740-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:04.740-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:04.740-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":23270,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:04.741-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a76ca877-2978-4b3a-abcf-80c21558f4b2"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:04.843-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:04.843-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:04.843-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":102}}
{"t":{"$date":"2021-01-15T16:14:05.044-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:53496","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:05.048-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:53498","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:05.251-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:53500","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:05.258-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:53502","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:05.259-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:53504","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:05.270-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:53506","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:05.277-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:53508","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:05.278-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:53510","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:05.288-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9bebfdae-f2ae-461f-b2cd-5af513608350"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:05.359-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.362-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8427e229-6bdd-4f71-be86-6d90e6e89585"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"9bebfdae-f2ae-461f-b2cd-5af513608350"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:05.390-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.390-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8427e229-6bdd-4f71-be86-6d90e6e89585"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:05.390-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8427e229-6bdd-4f71-be86-6d90e6e89585"}}}}
{"t":{"$date":"2021-01-15T16:14:05.396-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"23861cbf-a579-4c9b-9ba3-5a178adf66f1"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:05.465-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.469-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1b1fdbe6-1c5b-413e-bb9c-52f46ac6ba02"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:05.547-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T16:14:05.604-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.604-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.605-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"cc0bf1e4-dacc-4f79-a447-1d3ea1fc7368"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":135}}
{"t":{"$date":"2021-01-15T16:14:05.607-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6dee769f-f05a-4aad-979d-2ab4cacccd4b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:05.704-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.705-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.707-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8f738121-411e-4cfd-8e2a-13f9e541e516"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"6dee769f-f05a-4aad-979d-2ab4cacccd4b"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:05.744-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.744-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8f738121-411e-4cfd-8e2a-13f9e541e516"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:05.744-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8f738121-411e-4cfd-8e2a-13f9e541e516"}}}}
{"t":{"$date":"2021-01-15T16:14:05.746-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4cc47dd1-472e-40c0-8df2-461a3bc97e86"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:05.758-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T16:14:05.842-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.842-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.844-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e04a4425-df87-41a4-8edc-9cf2d3f17495"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:05.941-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.941-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.943-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a6449814-fe2f-4e15-b706-a0bf56adbd5d"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"e04a4425-df87-41a4-8edc-9cf2d3f17495"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:05.979-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:05.979-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a6449814-fe2f-4e15-b706-a0bf56adbd5d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:05.979-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a6449814-fe2f-4e15-b706-a0bf56adbd5d"}}}}
{"t":{"$date":"2021-01-15T16:14:05.981-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4e0c11ba-79cb-4f5c-be17-33ee3dc9c903"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"e04a4425-df87-41a4-8edc-9cf2d3f17495"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:06.008-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:06.008-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4e0c11ba-79cb-4f5c-be17-33ee3dc9c903"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:06.008-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4e0c11ba-79cb-4f5c-be17-33ee3dc9c903"}}}}
{"t":{"$date":"2021-01-15T16:14:06.010-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8710dd7e-c7ca-4dec-87f3-d67043a8e83e"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"e04a4425-df87-41a4-8edc-9cf2d3f17495"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:06.046-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:06.046-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8710dd7e-c7ca-4dec-87f3-d67043a8e83e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:06.046-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8710dd7e-c7ca-4dec-87f3-d67043a8e83e"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:01,939 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:01,940 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:01,941 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpt66xp38c
2021-01-15 16:14:01,941 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:01,941 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:01,942 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:01,943 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:01,979 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=23270 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpt66xp38c
2021-01-15 16:14:01,980 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:01,982 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:01,983 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23270
2021-01-15 16:14:02,599 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:02,600 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23270
2021-01-15 16:14:03,210 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:03,210 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23270
2021-01-15 16:14:03,821 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:03,822 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23270
2021-01-15 16:14:04,531 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:04,532 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23270
2021-01-15 16:14:05,242 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:05,243 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23270
2021-01-15 16:14:05,270 DEBUG pytest_server_fixtures.base2 waited 0:00:03.287310 for server to start successfully
2021-01-15 16:14:05,270 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:05,272 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:06,065 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:06,071 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpt66xp38c
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=23270 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpt66xp38c
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23270
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23270
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23270
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23270
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23270
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23270
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.287310 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:06,149 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:06,162 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
2021-01-15 16:14:06,183 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:06,224 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:06,533 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6525 (total_procs_to_kill=1)
2021-01-15 16:14:06,534 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:06,536 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:06,551 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:06,552 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:06,552 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:06,553 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpt66xp38c
2021-01-15 16:14:06,553 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:06,554 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6525 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpt66xp38c
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
____ test_restore_version_which_updated_only_metadata[FwPointersCfg.HYBRID] ____

library = <VersionStore at 0x7fafc8e7b470>
    <ArcticLibrary at 0x7fafc8e7b080, arctic_test.TEST>
        <Arctic at 0x7fafc81e60b8, connected to MongoClient(host=['127.168.91.69:2377'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_which_updated_only_metadata(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            mydf_b = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
                library.write(symbol, data=mydf_b)  # creates version 3
    
                restore_item = library.restore_version(symbol, as_of=2)  # creates version 4
                assert restore_item.version == 4
                assert restore_item.metadata == {'field_b': 1}
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1403: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:06.683-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:06.689-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:06.690-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:06.691-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6582,"port":2377,"dbPath":"/tmp/tmpodsfsrle","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:06.691-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:06.691-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:06.691-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":2377,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpodsfsrle","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:06.693-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:06.693-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:09.087-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752449:87823][6582:0x7f8f8f2aaa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:09.087-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752449:87954][6582:0x7f8f8f2aaa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:09.132-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2438}}
{"t":{"$date":"2021-01-15T16:14:09.132-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:09.197-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:09.198-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:09.216-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:09.217-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"42e05223-7d79-4537-9490-07d708b3bcc3"}},"options":{"uuid":{"$uuid":"42e05223-7d79-4537-9490-07d708b3bcc3"}}}}
{"t":{"$date":"2021-01-15T16:14:09.287-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:09.288-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:09.288-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:09.290-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4e639286-862a-407b-8357-56124de71279"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:09.350-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:09.351-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpodsfsrle/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:09.355-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:09.355-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:09.356-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":2377,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:09.356-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2718a17a-e39e-41e2-8a53-a25c61d60381"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:09.453-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:09.454-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:09.670-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:53508","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:09.674-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:53510","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:09.877-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:53512","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:09.882-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:53516","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:09.883-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:53514","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:09.896-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:53518","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:09.903-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:53520","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:09.905-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:53522","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:09.913-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a186702c-edb5-47c2-b2e1-d60850b61ab9"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:09.988-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:09.990-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a0e845a3-57a0-4729-bb66-809f15cfd8d4"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"a186702c-edb5-47c2-b2e1-d60850b61ab9"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:10.018-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.018-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a0e845a3-57a0-4729-bb66-809f15cfd8d4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:10.018-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a0e845a3-57a0-4729-bb66-809f15cfd8d4"}}}}
{"t":{"$date":"2021-01-15T16:14:10.024-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c95139b7-3323-46a6-b468-82779c408f42"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:10.097-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.101-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"eb86f2ef-f1c9-4df9-b120-e8f56d5bcfb2"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:10.174-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:14:10.248-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.248-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.248-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"0ca4d8a9-14a3-481b-8b64-9ce98aff9b87"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":147}}
{"t":{"$date":"2021-01-15T16:14:10.251-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"21ec727f-2d23-4582-a9e0-35caf209a02e"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:10.347-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.347-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.350-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2d7b12ca-6605-4c62-b347-7e15ea26444a"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"21ec727f-2d23-4582-a9e0-35caf209a02e"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:10.382-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:14:10.387-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.387-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2d7b12ca-6605-4c62-b347-7e15ea26444a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:10.387-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2d7b12ca-6605-4c62-b347-7e15ea26444a"}}}}
{"t":{"$date":"2021-01-15T16:14:10.390-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b1cdb1f5-e941-4ae6-ab27-68aab4473bde"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:10.489-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.489-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.491-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0be36be3-c706-4c78-8cd6-4e6e971d201b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:10.588-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.588-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.591-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2d7d85a6-34b2-4944-92d7-56b5766957d3"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"0be36be3-c706-4c78-8cd6-4e6e971d201b"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:10.625-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.625-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2d7d85a6-34b2-4944-92d7-56b5766957d3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:10.625-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2d7d85a6-34b2-4944-92d7-56b5766957d3"}}}}
{"t":{"$date":"2021-01-15T16:14:10.628-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9f9ef330-79ae-4cb2-bccd-8ca48b1db71d"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"0be36be3-c706-4c78-8cd6-4e6e971d201b"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:10.655-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.655-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9f9ef330-79ae-4cb2-bccd-8ca48b1db71d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:10.655-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9f9ef330-79ae-4cb2-bccd-8ca48b1db71d"}}}}
{"t":{"$date":"2021-01-15T16:14:10.658-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"11a21e4b-ec29-4f5f-9a8a-9e30fe60e177"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"0be36be3-c706-4c78-8cd6-4e6e971d201b"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:10.695-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:10.695-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"11a21e4b-ec29-4f5f-9a8a-9e30fe60e177"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:10.695-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"11a21e4b-ec29-4f5f-9a8a-9e30fe60e177"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:06,565 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:06,565 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:06,566 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpodsfsrle
2021-01-15 16:14:06,566 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:06,567 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:06,567 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:06,568 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:06,607 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=2377 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpodsfsrle
2021-01-15 16:14:06,608 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:06,610 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:06,611 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2377
2021-01-15 16:14:07,226 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:07,227 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2377
2021-01-15 16:14:07,837 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:07,837 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2377
2021-01-15 16:14:08,446 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:08,447 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2377
2021-01-15 16:14:09,158 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:09,159 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2377
2021-01-15 16:14:09,868 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:09,868 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2377
2021-01-15 16:14:09,896 DEBUG pytest_server_fixtures.base2 waited 0:00:03.286400 for server to start successfully
2021-01-15 16:14:09,897 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:09,899 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:10,719 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:10,725 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpodsfsrle
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=2377 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpodsfsrle
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2377
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2377
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2377
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2377
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2377
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2377
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.286400 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:10,826 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:10,842 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
2021-01-15 16:14:10,870 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:10,922 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:11,556 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6582 (total_procs_to_kill=1)
2021-01-15 16:14:11,557 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:11,558 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:11,573 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:11,574 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:11,574 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:11,574 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpodsfsrle
2021-01-15 16:14:11,575 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:11,575 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6582 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpodsfsrle
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
___ test_restore_version_which_updated_only_metadata[FwPointersCfg.ENABLED] ____

library = <VersionStore at 0x7fafc83eeda0>
    <ArcticLibrary at 0x7fafc83eeeb8, arctic_test.TEST>
        <Arctic at 0x7fafc818f748, connected to MongoClient(host=['127.168.91.69:24599'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_which_updated_only_metadata(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            mydf_b = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
                library.write(symbol, data=mydf_b)  # creates version 3
    
                restore_item = library.restore_version(symbol, as_of=2)  # creates version 4
                assert restore_item.version == 4
                assert restore_item.metadata == {'field_b': 1}
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1403: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:11.701-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:11.707-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:11.708-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:11.709-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6638,"port":24599,"dbPath":"/tmp/tmpljd25qk9","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:11.709-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:11.709-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:11.709-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":24599,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpljd25qk9","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:11.711-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:11.711-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:14.094-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752454:94862][6638:0x7f51dd698a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:14.094-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752454:94988][6638:0x7f51dd698a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:14.141-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2430}}
{"t":{"$date":"2021-01-15T16:14:14.142-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:14.204-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:14.205-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:14.222-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:14.224-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"2594bd4c-b334-4a4d-a8b5-c61d693206ad"}},"options":{"uuid":{"$uuid":"2594bd4c-b334-4a4d-a8b5-c61d693206ad"}}}}
{"t":{"$date":"2021-01-15T16:14:14.295-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:14.295-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:14.296-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:14.298-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fdbd8ff0-bc54-4b5a-b313-89fee0fc4104"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:14.359-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:14.360-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpljd25qk9/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:14.365-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:14.365-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":24599,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:14.365-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:14.365-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c2e06c79-2b60-4d5a-b49d-d74bc260e90c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:14.463-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:14.464-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:14.690-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:58782","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:14.693-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:58784","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:14.898-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:58790","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:14.901-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:58792","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:14.903-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:58794","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:14.913-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:58796","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:14.921-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:58798","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:14.922-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:58800","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:14.931-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ea3013ee-1f88-4ccc-b053-5b7d8e5b73be"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:15.005-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.009-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d539dfbe-7726-40a9-a0d5-2e4367b79921"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"ea3013ee-1f88-4ccc-b053-5b7d8e5b73be"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:15.035-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.035-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d539dfbe-7726-40a9-a0d5-2e4367b79921"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:15.035-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d539dfbe-7726-40a9-a0d5-2e4367b79921"}}}}
{"t":{"$date":"2021-01-15T16:14:15.041-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6b8a7109-3069-46a6-af50-19b7c98f7392"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:15.114-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.119-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1ca58c11-0c12-40db-8ab7-1e74d1bb445c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:15.193-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:14:15.235-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.235-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.235-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"5cfdf27a-af05-43d7-b11d-7b3ce27c7f69"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":116}}
{"t":{"$date":"2021-01-15T16:14:15.238-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2ca26a54-e068-4e8c-a913-f77d38cf9ede"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:15.334-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.334-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.337-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d8daa087-ec27-401e-af6d-405f28a50f87"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"2ca26a54-e068-4e8c-a913-f77d38cf9ede"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:15.371-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.371-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d8daa087-ec27-401e-af6d-405f28a50f87"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:15.371-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d8daa087-ec27-401e-af6d-405f28a50f87"}}}}
{"t":{"$date":"2021-01-15T16:14:15.373-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f8ef936e-33c4-4888-be51-9e16b65bdac9"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:15.402-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:14:15.473-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.473-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.473-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.version_nums","command":{"createIndexes":"TEST.version_nums","indexes":[{"unique":true,"background":true,"name":"symbol_1","key":{"symbol":1}}],"lsid":{"id":{"$uuid":"5cfdf27a-af05-43d7-b11d-7b3ce27c7f69"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:14:15.475-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c0c32192-d579-4c10-bead-5f3daf711986"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:15.576-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.576-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.576-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST","command":{"createIndexes":"TEST","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"5cfdf27a-af05-43d7-b11d-7b3ce27c7f69"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:14:15.578-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"efd44978-e909-4acf-984b-216789d7fcfd"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c0c32192-d579-4c10-bead-5f3daf711986"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:15.612-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.613-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"efd44978-e909-4acf-984b-216789d7fcfd"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:15.613-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"efd44978-e909-4acf-984b-216789d7fcfd"}}}}
{"t":{"$date":"2021-01-15T16:14:15.615-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4e37ebb7-08e2-43ad-bc8d-981e0fb7ade0"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c0c32192-d579-4c10-bead-5f3daf711986"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:15.644-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.644-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4e37ebb7-08e2-43ad-bc8d-981e0fb7ade0"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:15.644-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4e37ebb7-08e2-43ad-bc8d-981e0fb7ade0"}}}}
{"t":{"$date":"2021-01-15T16:14:15.646-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d8f1937c-a0a7-464f-a0b5-a02fbbda3971"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c0c32192-d579-4c10-bead-5f3daf711986"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:15.684-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:15.684-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d8f1937c-a0a7-464f-a0b5-a02fbbda3971"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:15.685-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d8f1937c-a0a7-464f-a0b5-a02fbbda3971"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:11,587 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:11,587 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:11,588 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpljd25qk9
2021-01-15 16:14:11,589 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:11,589 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:11,589 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:11,590 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:11,620 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=24599 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpljd25qk9
2021-01-15 16:14:11,622 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:11,623 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:11,624 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:24599
2021-01-15 16:14:12,237 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:12,238 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:24599
2021-01-15 16:14:12,852 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:12,853 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:24599
2021-01-15 16:14:13,466 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:13,467 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:24599
2021-01-15 16:14:14,178 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:14,179 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:24599
2021-01-15 16:14:14,888 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:14,889 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:24599
2021-01-15 16:14:14,913 DEBUG pytest_server_fixtures.base2 waited 0:00:03.289416 for server to start successfully
2021-01-15 16:14:14,914 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:14,916 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:15,710 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:15,716 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpljd25qk9
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=24599 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpljd25qk9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:24599
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:24599
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:24599
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:24599
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:24599
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:24599
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.289416 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:15,806 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:15,822 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
2021-01-15 16:14:15,847 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:15,891 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:16,224 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6638 (total_procs_to_kill=1)
2021-01-15 16:14:16,225 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:16,226 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:16,241 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:16,242 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:16,243 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:16,244 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpljd25qk9
2021-01-15 16:14:16,244 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:16,245 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6638 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpljd25qk9
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
__________ test_restore_version_then_snapshot[FwPointersCfg.DISABLED] __________

library = <VersionStore at 0x7fafc8338cf8>
    <ArcticLibrary at 0x7fafc8338f28, arctic_test.TEST>
        <Arctic at 0x7fafc81540b8, connected to MongoClient(host=['127.168.91.69:6426'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_then_snapshot(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            mydf_b = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
    
                restore_item = library.restore_version(symbol, as_of=1)  # creates version 3
                assert restore_item.metadata == {'field_a': 1}
                assert restore_item.version == 3
    
                library.snapshot('SNAP_1')
                library.write(symbol, data=mydf_b)  # creates version 3
    
                item = library.read(symbol, as_of='SNAP_1')
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1426: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:16.372-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:16.375-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:16.375-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:16.376-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6694,"port":6426,"dbPath":"/tmp/tmp76zyg7mt","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:16.376-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:16.376-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:16.376-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":6426,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp76zyg7mt","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:16.378-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:16.378-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:18.439-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752458:439339][6694:0x7f8d0117ca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:18.439-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752458:439468][6694:0x7f8d0117ca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:18.487-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2109}}
{"t":{"$date":"2021-01-15T16:14:18.487-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:18.549-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:18.550-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:18.567-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:18.568-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"fc544a2d-ae2e-4da0-a494-697dc4199e70"}},"options":{"uuid":{"$uuid":"fc544a2d-ae2e-4da0-a494-697dc4199e70"}}}}
{"t":{"$date":"2021-01-15T16:14:18.636-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:18.636-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:18.637-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:18.638-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"144dbc9f-3db5-44bb-8df8-4492a71c461c"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:18.701-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:18.701-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp76zyg7mt/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:18.705-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:18.705-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:18.705-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":6426,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:18.705-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4999f9b3-8f8d-4a86-bfe4-4f1b3f0d0738"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:18.803-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:18.803-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:18.849-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:50810","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:18.853-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:50814","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:18.854-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:50812","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:18.864-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:50816","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:18.870-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:50818","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:18.870-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:50820","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:18.879-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"675f01cc-d346-487f-bac3-641b3eb7ed13"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:18.948-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:18.951-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"cb35fb21-1632-48ca-87f6-002693857668"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"675f01cc-d346-487f-bac3-641b3eb7ed13"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:18.977-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:18.977-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"cb35fb21-1632-48ca-87f6-002693857668"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:18.977-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"cb35fb21-1632-48ca-87f6-002693857668"}}}}
{"t":{"$date":"2021-01-15T16:14:18.983-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fb49b5d8-a09f-4a8b-86e8-a5f9b1d14b45"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:19.053-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.056-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b4b38ba6-1cb3-4d62-93e7-216b21dc539a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:19.154-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.154-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.156-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"676f6fee-d5fd-45f5-a20a-8630f3fba204"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:19.298-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.298-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.298-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.versions","command":{"createIndexes":"TEST.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"eed58363-7522-411a-a4dd-7db12a3e84a7"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":3},"storage":{},"protocol":"op_msg","durationMillis":142}}
{"t":{"$date":"2021-01-15T16:14:19.300-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1141b0ad-4888-40af-b5c2-2899f986e0c6"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"676f6fee-d5fd-45f5-a20a-8630f3fba204"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:19.334-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.334-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1141b0ad-4888-40af-b5c2-2899f986e0c6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:19.334-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1141b0ad-4888-40af-b5c2-2899f986e0c6"}}}}
{"t":{"$date":"2021-01-15T16:14:19.336-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5c8a32ca-d9aa-4665-85e2-9143ef1dcf19"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:19.353-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:14:19.434-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.434-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.436-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c99256a4-b081-49f7-90d4-4fa3a190773b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:19.533-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.533-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.535-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"73b5789c-0fdc-4061-ac1a-31f09b135754"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c99256a4-b081-49f7-90d4-4fa3a190773b"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:19.568-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.568-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"73b5789c-0fdc-4061-ac1a-31f09b135754"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:19.568-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"73b5789c-0fdc-4061-ac1a-31f09b135754"}}}}
{"t":{"$date":"2021-01-15T16:14:19.570-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b762b2b1-64ff-461d-97ef-0401abcafe76"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c99256a4-b081-49f7-90d4-4fa3a190773b"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:19.601-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.601-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b762b2b1-64ff-461d-97ef-0401abcafe76"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:19.601-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b762b2b1-64ff-461d-97ef-0401abcafe76"}}}}
{"t":{"$date":"2021-01-15T16:14:19.603-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ee2d3bd3-9a33-472a-bfcb-ef0225a6a8d2"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c99256a4-b081-49f7-90d4-4fa3a190773b"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:19.640-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:19.640-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ee2d3bd3-9a33-472a-bfcb-ef0225a6a8d2"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:19.640-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ee2d3bd3-9a33-472a-bfcb-ef0225a6a8d2"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:16,258 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:16,259 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:16,260 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp76zyg7mt
2021-01-15 16:14:16,261 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:16,261 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:16,262 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:16,263 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:16,294 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=6426 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp76zyg7mt
2021-01-15 16:14:16,296 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:16,297 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:16,298 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6426
2021-01-15 16:14:16,913 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:16,914 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6426
2021-01-15 16:14:17,522 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:17,523 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6426
2021-01-15 16:14:18,131 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:18,131 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6426
2021-01-15 16:14:18,840 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:18,841 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6426
2021-01-15 16:14:18,864 DEBUG pytest_server_fixtures.base2 waited 0:00:02.566656 for server to start successfully
2021-01-15 16:14:18,865 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:18,866 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:19,660 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:19,665 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp76zyg7mt
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=6426 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp76zyg7mt
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6426
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6426
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6426
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6426
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6426
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:02.566656 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:19,754 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:19,768 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
2021-01-15 16:14:19,815 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:19,851 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:20,173 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6694 (total_procs_to_kill=1)
2021-01-15 16:14:20,174 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:20,175 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:20,190 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:20,190 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:20,191 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:20,191 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp76zyg7mt
2021-01-15 16:14:20,192 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:20,192 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6694 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp76zyg7mt
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
___________ test_restore_version_then_snapshot[FwPointersCfg.HYBRID] ___________

library = <VersionStore at 0x7fafc818fa58>
    <ArcticLibrary at 0x7fafc818feb8, arctic_test.TEST>
        <Arctic at 0x7fafc81546a0, connected to MongoClient(host=['127.168.91.69:2672'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_then_snapshot(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            mydf_b = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
    
                restore_item = library.restore_version(symbol, as_of=1)  # creates version 3
                assert restore_item.metadata == {'field_a': 1}
                assert restore_item.version == 3
    
                library.snapshot('SNAP_1')
                library.write(symbol, data=mydf_b)  # creates version 3
    
                item = library.read(symbol, as_of='SNAP_1')
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1426: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:20.322-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:20.326-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:20.326-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:20.327-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6746,"port":2672,"dbPath":"/tmp/tmp4xc5pzz7","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:20.327-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:20.327-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:20.327-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":2672,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp4xc5pzz7","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:20.330-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:20.330-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:22.725-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752462:725921][6746:0x7fe9992b4a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:22.726-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752462:726073][6746:0x7fe9992b4a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:22.773-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2443}}
{"t":{"$date":"2021-01-15T16:14:22.773-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:22.833-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:22.834-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:22.852-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:22.854-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"efe9b84c-4123-4eaf-840b-bc098faf1b12"}},"options":{"uuid":{"$uuid":"efe9b84c-4123-4eaf-840b-bc098faf1b12"}}}}
{"t":{"$date":"2021-01-15T16:14:22.922-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:22.922-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:22.922-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:22.924-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b1cbd0e8-45b8-4845-8a05-10bf5a275d33"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:22.989-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:22.989-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp4xc5pzz7/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:22.994-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:22.994-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:22.994-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":2672,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:22.994-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7ac4f9e9-a985-4922-82b2-0f8c5b125295"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:23.092-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:23.092-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:23.306-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:39566","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:23.309-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:39568","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:23.515-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:39570","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:23.519-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:39572","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:23.520-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:39574","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:23.528-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:39576","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:23.534-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:39578","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:23.535-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:39580","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:23.543-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"25195fb6-3bde-4dcb-9aac-ed2567bf6b71"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:23.609-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:23.611-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a80bbe52-9ccb-412f-ba2b-74956c521b26"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"25195fb6-3bde-4dcb-9aac-ed2567bf6b71"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:23.643-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:23.643-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a80bbe52-9ccb-412f-ba2b-74956c521b26"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:23.643-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a80bbe52-9ccb-412f-ba2b-74956c521b26"}}}}
{"t":{"$date":"2021-01-15T16:14:23.649-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d050e6ec-c62a-4635-ba2c-60b3e0a80334"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:23.718-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:23.721-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5dac3ccf-a718-484f-8c8e-71f7fe21534a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:23.809-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T16:14:23.843-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:23.843-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:23.843-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"26da9723-517a-4346-b79f-68310c42305e"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":122}}
{"t":{"$date":"2021-01-15T16:14:23.846-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"685803ef-57d9-4cab-99cf-f69545f96212"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:23.943-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:23.943-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:23.946-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"67411eb3-2dac-43d3-a776-86af790b2d8d"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"685803ef-57d9-4cab-99cf-f69545f96212"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:23.979-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:23.979-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"67411eb3-2dac-43d3-a776-86af790b2d8d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:23.979-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"67411eb3-2dac-43d3-a776-86af790b2d8d"}}}}
{"t":{"$date":"2021-01-15T16:14:23.981-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e370c1c9-e6b7-4866-87f9-b8ee54a0c236"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:24.020-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T16:14:24.080-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:24.080-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:24.083-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0012a4e9-af93-4d1f-9dd7-489bfae5c2bd"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:24.183-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:24.183-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:24.184-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST","command":{"createIndexes":"TEST","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"26da9723-517a-4346-b79f-68310c42305e"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:14:24.186-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a3779644-694d-42b8-8dde-fecf0bbf8753"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"0012a4e9-af93-4d1f-9dd7-489bfae5c2bd"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:24.222-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:24.223-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a3779644-694d-42b8-8dde-fecf0bbf8753"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:24.223-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a3779644-694d-42b8-8dde-fecf0bbf8753"}}}}
{"t":{"$date":"2021-01-15T16:14:24.225-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"acfca345-b499-46b0-8cb4-b6984a8688a2"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"0012a4e9-af93-4d1f-9dd7-489bfae5c2bd"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:24.256-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:24.256-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"acfca345-b499-46b0-8cb4-b6984a8688a2"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:24.256-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"acfca345-b499-46b0-8cb4-b6984a8688a2"}}}}
{"t":{"$date":"2021-01-15T16:14:24.258-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c0d53021-76e3-4159-9656-fcee9bba13ee"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"0012a4e9-af93-4d1f-9dd7-489bfae5c2bd"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:24.292-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:24.292-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c0d53021-76e3-4159-9656-fcee9bba13ee"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:24.292-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c0d53021-76e3-4159-9656-fcee9bba13ee"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:20,202 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:20,203 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:20,204 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp4xc5pzz7
2021-01-15 16:14:20,204 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:20,205 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:20,205 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:20,206 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:20,236 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=2672 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp4xc5pzz7
2021-01-15 16:14:20,238 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:20,240 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:20,241 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2672
2021-01-15 16:14:20,860 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:20,861 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2672
2021-01-15 16:14:21,471 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:21,471 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2672
2021-01-15 16:14:22,082 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:22,083 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2672
2021-01-15 16:14:22,796 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:22,797 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2672
2021-01-15 16:14:23,505 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:23,506 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:2672
2021-01-15 16:14:23,528 DEBUG pytest_server_fixtures.base2 waited 0:00:03.287569 for server to start successfully
2021-01-15 16:14:23,529 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:23,530 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:24,311 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:24,320 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp4xc5pzz7
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=2672 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp4xc5pzz7
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2672
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2672
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2672
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2672
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2672
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:2672
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.287569 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:24,407 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:24,422 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
2021-01-15 16:14:24,464 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:24,503 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:24,839 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6746 (total_procs_to_kill=1)
2021-01-15 16:14:24,839 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:24,841 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:24,855 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:24,856 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:24,857 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:24,858 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp4xc5pzz7
2021-01-15 16:14:24,858 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:24,859 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6746 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp4xc5pzz7
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
__________ test_restore_version_then_snapshot[FwPointersCfg.ENABLED] ___________

library = <VersionStore at 0x7faf808110b8>
    <ArcticLibrary at 0x7faf80811518, arctic_test.TEST>
        <Arctic at 0x7fafc87e5e80, connected to MongoClient(host=['127.168.91.69:23454'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_then_snapshot(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            mydf_b = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
    
                restore_item = library.restore_version(symbol, as_of=1)  # creates version 3
                assert restore_item.metadata == {'field_a': 1}
                assert restore_item.version == 3
    
                library.snapshot('SNAP_1')
                library.write(symbol, data=mydf_b)  # creates version 3
    
                item = library.read(symbol, as_of='SNAP_1')
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1426: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:24.994-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:24.998-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:24.998-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:24.999-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6802,"port":23454,"dbPath":"/tmp/tmpjknscze2","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:24.999-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:24.999-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:24.999-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":23454,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpjknscze2","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:25.001-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:25.001-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:27.395-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752467:395798][6802:0x7fbe201e2a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:27.395-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752467:395918][6802:0x7fbe201e2a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:27.446-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2445}}
{"t":{"$date":"2021-01-15T16:14:27.446-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:27.507-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:27.507-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:27.527-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:27.528-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"b1c57f1c-f473-44d8-afd7-c04766755165"}},"options":{"uuid":{"$uuid":"b1c57f1c-f473-44d8-afd7-c04766755165"}}}}
{"t":{"$date":"2021-01-15T16:14:27.595-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:27.595-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:27.596-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:27.598-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"286af79e-2c43-4fb5-9707-f8950ffa820a"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:27.665-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:27.666-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpjknscze2/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:27.670-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:27.671-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":23454,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:27.671-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:27.671-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"24b997e8-3231-44fd-84c5-5e57b3eb4c51"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:27.771-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:27.771-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:27.771-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:14:27.977-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:34982","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:27.981-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:34984","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:28.190-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:34986","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:28.195-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:34990","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:28.196-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:34988","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:28.206-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:34992","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:28.214-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:34994","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:28.215-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:34996","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:28.228-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5ae7a2f4-54d8-4106-84ab-0fb050575190"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:28.296-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.298-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1df00f37-8ed0-4fcd-9a49-a0a8b7e8ef4b"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"5ae7a2f4-54d8-4106-84ab-0fb050575190"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:28.329-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.329-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1df00f37-8ed0-4fcd-9a49-a0a8b7e8ef4b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:28.329-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1df00f37-8ed0-4fcd-9a49-a0a8b7e8ef4b"}}}}
{"t":{"$date":"2021-01-15T16:14:28.336-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ed74ecfd-f589-4e75-8910-c98680d87c7d"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:28.403-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.406-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fd5e6439-cfd8-486d-861b-33b094db55f5"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:28.481-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:14:28.526-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.526-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.526-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"65f91832-28e1-4a16-8758-cf7b8d7c93de"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":120}}
{"t":{"$date":"2021-01-15T16:14:28.529-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b80730cb-8e94-4446-a897-f0031e973c14"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:28.630-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.631-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.631-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.versions","command":{"createIndexes":"TEST.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"65f91832-28e1-4a16-8758-cf7b8d7c93de"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":102}}
{"t":{"$date":"2021-01-15T16:14:28.633-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ae4b3d43-66f6-4fb8-8d58-29b4278220b6"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"b80730cb-8e94-4446-a897-f0031e973c14"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:28.669-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.669-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ae4b3d43-66f6-4fb8-8d58-29b4278220b6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:28.669-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ae4b3d43-66f6-4fb8-8d58-29b4278220b6"}}}}
{"t":{"$date":"2021-01-15T16:14:28.672-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5a80be0e-35f9-4774-adf9-b1d2cc1fcaf7"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:28.695-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T16:14:28.768-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.768-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.771-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fadb1030-baa0-449c-8081-088b982f5165"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:28.869-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.869-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.871-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"885b8cda-cd6b-46a1-a264-f8a7c5579de0"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"fadb1030-baa0-449c-8081-088b982f5165"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:28.908-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.909-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"885b8cda-cd6b-46a1-a264-f8a7c5579de0"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:28.909-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"885b8cda-cd6b-46a1-a264-f8a7c5579de0"}}}}
{"t":{"$date":"2021-01-15T16:14:28.911-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3e0e60f0-a98b-42ce-9fb9-55a0da90893f"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"fadb1030-baa0-449c-8081-088b982f5165"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:28.943-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.943-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3e0e60f0-a98b-42ce-9fb9-55a0da90893f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:28.943-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3e0e60f0-a98b-42ce-9fb9-55a0da90893f"}}}}
{"t":{"$date":"2021-01-15T16:14:28.945-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"83d45374-16ad-4b37-9378-eb6de6d8b9c6"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"fadb1030-baa0-449c-8081-088b982f5165"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:28.981-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:28.981-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"83d45374-16ad-4b37-9378-eb6de6d8b9c6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:28.981-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"83d45374-16ad-4b37-9378-eb6de6d8b9c6"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:24,872 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:24,873 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:24,873 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpjknscze2
2021-01-15 16:14:24,874 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:24,874 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:24,875 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:24,876 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:24,915 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=23454 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpjknscze2
2021-01-15 16:14:24,917 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:24,919 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:24,920 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23454
2021-01-15 16:14:25,533 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:25,534 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23454
2021-01-15 16:14:26,143 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:26,144 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23454
2021-01-15 16:14:26,754 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:26,755 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23454
2021-01-15 16:14:27,466 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:27,467 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23454
2021-01-15 16:14:28,176 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:28,177 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:23454
2021-01-15 16:14:28,206 DEBUG pytest_server_fixtures.base2 waited 0:00:03.287188 for server to start successfully
2021-01-15 16:14:28,207 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:28,210 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:29,004 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:29,010 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpjknscze2
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=23454 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpjknscze2
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23454
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23454
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23454
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23454
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23454
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:23454
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.287188 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:29,101 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:29,117 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
2021-01-15 16:14:29,163 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:29,200 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:29,541 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6802 (total_procs_to_kill=1)
2021-01-15 16:14:29,542 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:29,544 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:29,559 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:29,560 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:29,560 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:29,561 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpjknscze2
2021-01-15 16:14:29,561 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:29,562 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6802 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpjknscze2
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
______ test_restore_version_latest_snapshot_noop[FwPointersCfg.DISABLED] _______

library = <VersionStore at 0x7faf80811c50>
    <ArcticLibrary at 0x7fafc88b7c50, arctic_test.TEST>
        <Arctic at 0x7fafc8306710, connected to MongoClient(host=['127.168.91.69:21839'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_latest_snapshot_noop(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
                library.snapshot('SNAP_1')
    
                restore_item = library.restore_version(symbol, as_of='SNAP_1')  # does not create a new version
                assert restore_item.metadata == {'field_b': 1}
                assert restore_item.version == 2
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1446: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:29.690-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:29.694-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:29.694-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:29.695-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6861,"port":21839,"dbPath":"/tmp/tmpzjhu125f","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:29.695-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:29.695-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:29.695-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":21839,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpzjhu125f","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:29.697-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:29.698-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:32.116-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752472:116610][6861:0x7f4d085dea80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:32.116-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752472:116799][6861:0x7f4d085dea80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:32.164-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2466}}
{"t":{"$date":"2021-01-15T16:14:32.164-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:32.228-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:32.228-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:32.248-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:32.249-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"6c7d80ef-095c-4684-ad17-c96bca09227d"}},"options":{"uuid":{"$uuid":"6c7d80ef-095c-4684-ad17-c96bca09227d"}}}}
{"t":{"$date":"2021-01-15T16:14:32.314-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:32.315-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:32.315-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:32.317-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6c99ea7e-6f4f-4b56-acfe-37fc2d5d1c84"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:32.384-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:32.385-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpzjhu125f/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:32.389-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:32.389-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:32.389-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":21839,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:32.390-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"88557e82-65a3-43c9-b0d2-dd66ff0f1913"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:32.489-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:32.489-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:32.489-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:14:32.683-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:60922","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:32.687-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:60924","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:32.893-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:60926","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:32.897-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:60928","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:32.898-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:60930","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:32.913-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:60932","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:32.917-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:60934","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:32.918-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:60936","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:32.927-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"07676f55-4208-42c6-891c-129f82911f08"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:32.997-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.001-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"eca58356-0677-4d95-849e-3ed639f36b4d"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"07676f55-4208-42c6-891c-129f82911f08"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:33.032-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.032-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"eca58356-0677-4d95-849e-3ed639f36b4d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:33.033-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"eca58356-0677-4d95-849e-3ed639f36b4d"}}}}
{"t":{"$date":"2021-01-15T16:14:33.039-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6bf82c1f-3a84-4caf-864a-884daa8a44c3"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:33.105-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.110-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b11f1de4-6f63-4e7b-a1dc-b31717aae87d"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:33.188-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:14:33.258-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.258-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.258-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"b5b3348d-438c-48e3-9f13-51db39aa403d"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":148}}
{"t":{"$date":"2021-01-15T16:14:33.261-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7d6ad09a-73fb-4e2a-96e3-5bcba079539f"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:33.360-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.360-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.363-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b57bac26-c1dd-448f-9073-7f1b567ad902"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"7d6ad09a-73fb-4e2a-96e3-5bcba079539f"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:33.397-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:14:33.400-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.400-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b57bac26-c1dd-448f-9073-7f1b567ad902"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:33.400-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b57bac26-c1dd-448f-9073-7f1b567ad902"}}}}
{"t":{"$date":"2021-01-15T16:14:33.402-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0b6639a1-9d3d-45e6-a6b2-e67b6e7dd50b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:33.507-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.508-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.508-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.version_nums","command":{"createIndexes":"TEST.version_nums","indexes":[{"unique":true,"background":true,"name":"symbol_1","key":{"symbol":1}}],"lsid":{"id":{"$uuid":"b5b3348d-438c-48e3-9f13-51db39aa403d"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":105}}
{"t":{"$date":"2021-01-15T16:14:33.510-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b47aa623-abdb-46f3-920d-52775b61dc43"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:33.634-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.634-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.634-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST","command":{"createIndexes":"TEST","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"b5b3348d-438c-48e3-9f13-51db39aa403d"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":124}}
{"t":{"$date":"2021-01-15T16:14:33.637-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5a97cd0a-44a7-47ec-9bb3-0310c384aedb"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"b47aa623-abdb-46f3-920d-52775b61dc43"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:33.683-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.683-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5a97cd0a-44a7-47ec-9bb3-0310c384aedb"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:33.683-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5a97cd0a-44a7-47ec-9bb3-0310c384aedb"}}}}
{"t":{"$date":"2021-01-15T16:14:33.685-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"70d234b5-c166-4de7-93af-d29ec4562437"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"b47aa623-abdb-46f3-920d-52775b61dc43"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:33.723-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.724-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"70d234b5-c166-4de7-93af-d29ec4562437"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:33.724-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"70d234b5-c166-4de7-93af-d29ec4562437"}}}}
{"t":{"$date":"2021-01-15T16:14:33.726-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"008d12f2-7910-4a41-af3e-f9966946f1a4"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"b47aa623-abdb-46f3-920d-52775b61dc43"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:33.771-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:33.771-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"008d12f2-7910-4a41-af3e-f9966946f1a4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:33.771-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"008d12f2-7910-4a41-af3e-f9966946f1a4"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:29,575 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:29,576 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:29,576 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpzjhu125f
2021-01-15 16:14:29,577 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:29,577 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:29,578 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:29,579 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:29,611 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=21839 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpzjhu125f
2021-01-15 16:14:29,612 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:29,614 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:29,615 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:21839
2021-01-15 16:14:30,233 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:30,233 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:21839
2021-01-15 16:14:30,843 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:30,844 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:21839
2021-01-15 16:14:31,459 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:31,459 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:21839
2021-01-15 16:14:32,171 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:32,172 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:21839
2021-01-15 16:14:32,882 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:32,883 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:21839
2021-01-15 16:14:32,908 DEBUG pytest_server_fixtures.base2 waited 0:00:03.294677 for server to start successfully
2021-01-15 16:14:32,909 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:32,911 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:33,788 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:33,793 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpzjhu125f
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=21839 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpzjhu125f
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:21839
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:21839
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:21839
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:21839
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:21839
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:21839
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.294677 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:33,864 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:33,876 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:34,394 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6861 (total_procs_to_kill=1)
2021-01-15 16:14:34,395 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:34,396 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:34,411 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:34,411 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:34,412 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:34,412 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpzjhu125f
2021-01-15 16:14:34,412 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:34,413 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6861 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpzjhu125f
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_restore_version_latest_snapshot_noop[FwPointersCfg.HYBRID] ________

library = <VersionStore at 0x7fafc8607e10>
    <ArcticLibrary at 0x7fafc86079e8, arctic_test.TEST>
        <Arctic at 0x7fafc87e54a8, connected to MongoClient(host=['127.168.91.69:18531'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_latest_snapshot_noop(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
                library.snapshot('SNAP_1')
    
                restore_item = library.restore_version(symbol, as_of='SNAP_1')  # does not create a new version
                assert restore_item.metadata == {'field_b': 1}
                assert restore_item.version == 2
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1446: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:34.524-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:34.527-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:34.528-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:34.528-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6918,"port":18531,"dbPath":"/tmp/tmpffm6_k0u","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:34.528-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:34.528-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:34.529-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":18531,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpffm6_k0u","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:34.531-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:34.531-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:36.830-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752476:830649][6918:0x7f7e8def4a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:36.830-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752476:830781][6918:0x7f7e8def4a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:36.876-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2345}}
{"t":{"$date":"2021-01-15T16:14:36.877-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:36.941-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:36.941-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:36.960-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:36.961-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"a8e8e905-e3bb-40d6-89e2-a81f37c3b0c2"}},"options":{"uuid":{"$uuid":"a8e8e905-e3bb-40d6-89e2-a81f37c3b0c2"}}}}
{"t":{"$date":"2021-01-15T16:14:37.028-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:37.028-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:37.029-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:37.030-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"25cc5b8f-17d6-435b-b92b-b9cbe727c449"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:37.094-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:37.095-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpffm6_k0u/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:37.099-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c2f74723-7fc3-40e9-ac34-08b91a93a724"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:37.099-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:37.099-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:37.099-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":18531,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:37.197-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:37.197-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:37.520-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:33830","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:37.523-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:33832","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:37.727-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:33834","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:37.730-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:33836","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:37.731-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:33838","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:37.743-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:33840","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:37.747-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:33842","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:37.748-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:33844","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:37.758-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d5ec519a-8133-485c-864f-9a16db9332e5"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:37.827-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:37.829-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9a4915bc-0033-42b2-b21a-0d83af574462"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"d5ec519a-8133-485c-864f-9a16db9332e5"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:37.860-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:37.860-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9a4915bc-0033-42b2-b21a-0d83af574462"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:37.860-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9a4915bc-0033-42b2-b21a-0d83af574462"}}}}
{"t":{"$date":"2021-01-15T16:14:37.865-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"18e1c28c-7ac6-4705-abff-a8d01416436c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:37.934-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:37.937-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"067496c8-f7fc-45bd-b4a5-f12485f35a30"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:38.023-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:14:38.055-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.055-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.055-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"9c09d382-90c9-417d-afdd-4d0a617e3c29"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":117}}
{"t":{"$date":"2021-01-15T16:14:38.057-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b027cd35-5589-4748-8678-5d45423824a5"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:38.154-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.154-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.156-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"cc13adfb-5567-48ab-a791-ea8e98c5ee94"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"b027cd35-5589-4748-8678-5d45423824a5"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:38.193-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.193-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"cc13adfb-5567-48ab-a791-ea8e98c5ee94"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:38.193-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"cc13adfb-5567-48ab-a791-ea8e98c5ee94"}}}}
{"t":{"$date":"2021-01-15T16:14:38.196-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fe7baf49-aeeb-4568-b931-de0ec1a27e57"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:38.230-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:14:38.288-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.288-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.290-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b441baa1-2e12-4f8e-8693-8583d4df4690"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:38.385-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.385-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.387-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"180cdaa2-6619-4c90-ad13-27d7d2c480f7"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"b441baa1-2e12-4f8e-8693-8583d4df4690"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:38.424-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.424-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"180cdaa2-6619-4c90-ad13-27d7d2c480f7"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:38.424-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"180cdaa2-6619-4c90-ad13-27d7d2c480f7"}}}}
{"t":{"$date":"2021-01-15T16:14:38.426-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1c63a760-3c4d-42e7-abca-75cfc8b9fb22"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"b441baa1-2e12-4f8e-8693-8583d4df4690"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:38.453-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.453-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1c63a760-3c4d-42e7-abca-75cfc8b9fb22"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:38.453-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1c63a760-3c4d-42e7-abca-75cfc8b9fb22"}}}}
{"t":{"$date":"2021-01-15T16:14:38.455-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7f4b5747-f8fc-489f-b6d2-07506332927c"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"b441baa1-2e12-4f8e-8693-8583d4df4690"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:38.488-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:38.489-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7f4b5747-f8fc-489f-b6d2-07506332927c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:38.489-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7f4b5747-f8fc-489f-b6d2-07506332927c"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:34,421 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:34,421 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:34,422 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpffm6_k0u
2021-01-15 16:14:34,422 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:34,422 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:34,422 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:34,423 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:34,452 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=18531 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpffm6_k0u
2021-01-15 16:14:34,454 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:34,455 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:34,456 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:18531
2021-01-15 16:14:35,070 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:35,071 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:18531
2021-01-15 16:14:35,685 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:35,686 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:18531
2021-01-15 16:14:36,299 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:36,300 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:18531
2021-01-15 16:14:37,009 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:37,009 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:18531
2021-01-15 16:14:37,719 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:37,719 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:18531
2021-01-15 16:14:37,740 DEBUG pytest_server_fixtures.base2 waited 0:00:03.284753 for server to start successfully
2021-01-15 16:14:37,741 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:37,742 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:38,507 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:38,512 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpffm6_k0u
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=18531 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpffm6_k0u
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:18531
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:18531
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:18531
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:18531
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:18531
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:18531
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.284753 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:38,591 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:38,606 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:38,964 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6918 (total_procs_to_kill=1)
2021-01-15 16:14:38,965 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:38,966 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:38,981 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:38,982 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:38,983 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:38,983 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpffm6_k0u
2021-01-15 16:14:38,984 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:38,984 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6918 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpffm6_k0u
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_restore_version_latest_snapshot_noop[FwPointersCfg.ENABLED] _______

library = <VersionStore at 0x7fafc83f0c18>
    <ArcticLibrary at 0x7fafc83f0160, arctic_test.TEST>
        <Arctic at 0x7fafc81541d0, connected to MongoClient(host=['127.168.91.69:29586'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_latest_snapshot_noop(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
                library.snapshot('SNAP_1')
    
                restore_item = library.restore_version(symbol, as_of='SNAP_1')  # does not create a new version
                assert restore_item.metadata == {'field_b': 1}
                assert restore_item.version == 2
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1446: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:39.107-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:39.120-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:39.120-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:39.121-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":6974,"port":29586,"dbPath":"/tmp/tmp_7kaa58d","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:39.121-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:39.121-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:39.121-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":29586,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp_7kaa58d","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:39.124-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:39.124-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:41.525-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752481:525114][6974:0x7fceac0c2a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:41.525-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752481:525235][6974:0x7fceac0c2a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:41.571-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2447}}
{"t":{"$date":"2021-01-15T16:14:41.571-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:41.635-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:41.635-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:41.655-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:41.656-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"789835f7-28ce-447a-b076-57afa1cce4af"}},"options":{"uuid":{"$uuid":"789835f7-28ce-447a-b076-57afa1cce4af"}}}}
{"t":{"$date":"2021-01-15T16:14:41.723-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:41.723-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:41.724-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:41.726-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a2645c5b-52e5-48fa-8d99-4ba53e85bb50"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:41.790-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:41.790-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp_7kaa58d/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:41.795-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:41.795-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cc506268-ff46-49a5-ad6f-68a6f7fb0276"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:41.795-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:41.795-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":29586,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:41.893-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:41.893-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.098-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:51828","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:42.102-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:51830","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:42.305-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:51832","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:42.310-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:51834","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:42.311-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:51836","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:42.321-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:51838","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:42.326-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:51840","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:42.326-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:51842","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:42.335-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"96811a1f-fb96-4b0b-aea5-47cdc8ee980b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:42.404-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.406-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"787660da-8758-4566-bacc-0187b90d68c2"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"96811a1f-fb96-4b0b-aea5-47cdc8ee980b"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:42.437-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.437-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"787660da-8758-4566-bacc-0187b90d68c2"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:42.437-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"787660da-8758-4566-bacc-0187b90d68c2"}}}}
{"t":{"$date":"2021-01-15T16:14:42.442-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9ac139db-68d2-4840-b6c9-f77f412d6912"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:42.511-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.514-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"90fa8aa9-573d-48e3-97fc-5c05eb4e4fa5"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:42.602-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T16:14:42.641-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.641-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.642-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"89c507ee-7570-4c8b-be28-48083e1878c5"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":127}}
{"t":{"$date":"2021-01-15T16:14:42.644-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"30313e84-0195-4fbd-a6e0-ddd384bbc624"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:42.741-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.741-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.743-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d0fbe92b-480a-4fc8-a531-158afd24b43b"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"30313e84-0195-4fbd-a6e0-ddd384bbc624"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:42.780-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.780-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d0fbe92b-480a-4fc8-a531-158afd24b43b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:42.780-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d0fbe92b-480a-4fc8-a531-158afd24b43b"}}}}
{"t":{"$date":"2021-01-15T16:14:42.783-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ed9cbb79-9a91-4fa4-bed3-585ff7f0927a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:42.811-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T16:14:42.883-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.883-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.883-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.version_nums","command":{"createIndexes":"TEST.version_nums","indexes":[{"unique":true,"background":true,"name":"symbol_1","key":{"symbol":1}}],"lsid":{"id":{"$uuid":"89c507ee-7570-4c8b-be28-48083e1878c5"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:14:42.886-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d733cb80-a22a-41e4-aaee-541bf4bae7cc"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:42.984-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.985-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:42.987-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"07603df5-8c12-4585-ab8f-3051c002c66a"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"d733cb80-a22a-41e4-aaee-541bf4bae7cc"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:43.024-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:43.024-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"07603df5-8c12-4585-ab8f-3051c002c66a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:43.024-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"07603df5-8c12-4585-ab8f-3051c002c66a"}}}}
{"t":{"$date":"2021-01-15T16:14:43.026-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"77b97828-741f-4898-9ec0-ea79d4496143"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"d733cb80-a22a-41e4-aaee-541bf4bae7cc"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:43.055-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:43.055-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"77b97828-741f-4898-9ec0-ea79d4496143"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:43.055-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"77b97828-741f-4898-9ec0-ea79d4496143"}}}}
{"t":{"$date":"2021-01-15T16:14:43.058-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b70d3438-7372-47e2-abf0-4334e330a783"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"d733cb80-a22a-41e4-aaee-541bf4bae7cc"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:43.091-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:43.092-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b70d3438-7372-47e2-abf0-4334e330a783"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:43.092-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b70d3438-7372-47e2-abf0-4334e330a783"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:38,994 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:38,994 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:38,995 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp_7kaa58d
2021-01-15 16:14:38,995 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:38,996 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:38,996 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:38,997 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:39,031 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=29586 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp_7kaa58d
2021-01-15 16:14:39,033 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:39,034 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:39,035 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29586
2021-01-15 16:14:39,652 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:39,653 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29586
2021-01-15 16:14:40,263 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:40,264 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29586
2021-01-15 16:14:40,877 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:40,878 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29586
2021-01-15 16:14:41,587 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:41,588 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29586
2021-01-15 16:14:42,297 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:42,298 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29586
2021-01-15 16:14:42,319 DEBUG pytest_server_fixtures.base2 waited 0:00:03.284992 for server to start successfully
2021-01-15 16:14:42,320 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:42,322 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:43,118 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:43,125 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp_7kaa58d
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=29586 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp_7kaa58d
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29586
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29586
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29586
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29586
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29586
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29586
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.284992 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:43,221 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:43,237 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:43,614 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 6974 (total_procs_to_kill=1)
2021-01-15 16:14:43,614 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:43,616 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:43,631 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:43,632 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:43,632 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:43,633 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp_7kaa58d
2021-01-15 16:14:43,633 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:43,634 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 6974 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp_7kaa58d
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_restore_version_latest_version_noop[FwPointersCfg.DISABLED] _______

library = <VersionStore at 0x7fafc83b4080>
    <ArcticLibrary at 0x7fafc83b46a0, arctic_test.TEST>
        <Arctic at 0x7fafc88c4e48, connected to MongoClient(host=['127.168.91.69:15110'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_latest_version_noop(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
    
                restore_item = library.restore_version(symbol, as_of=2)  # does not create a new version
                assert restore_item.metadata == {'field_b': 1}
                assert restore_item.version == 2
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1465: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:43.769-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:43.773-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:43.773-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:43.774-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":7035,"port":15110,"dbPath":"/tmp/tmpvg0ed3ci","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:43.774-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:43.774-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:43.774-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":15110,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpvg0ed3ci","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:43.777-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:43.777-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:46.186-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752486:186736][7035:0x7fe3dbbb0a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:46.186-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752486:186890][7035:0x7fe3dbbb0a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:46.233-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2456}}
{"t":{"$date":"2021-01-15T16:14:46.233-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:46.299-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:46.300-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:46.318-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:46.319-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"20d9ef88-c0c3-427f-a806-970b52d89636"}},"options":{"uuid":{"$uuid":"20d9ef88-c0c3-427f-a806-970b52d89636"}}}}
{"t":{"$date":"2021-01-15T16:14:46.387-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:46.387-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:46.388-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:46.390-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4cef891b-fa22-4358-a597-c85ed1490b7b"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:46.455-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:46.455-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpvg0ed3ci/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:46.459-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:46.460-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:46.460-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2549c3fe-ebb1-4019-a12f-b070fefd747f"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:46.460-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":15110,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:46.560-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:46.560-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:46.560-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:14:46.747-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:36432","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:46.750-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:36434","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:46.954-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:36436","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:46.959-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:36438","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:46.960-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:36440","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:46.970-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:36442","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:46.977-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:36444","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:46.978-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:36446","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:46.990-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e93b3623-0888-4dcb-a0dd-1470f8ea1f45"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:47.069-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.071-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a98188c2-c5a0-4458-aeea-79f5998b04b1"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"e93b3623-0888-4dcb-a0dd-1470f8ea1f45"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:47.100-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.100-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a98188c2-c5a0-4458-aeea-79f5998b04b1"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:47.100-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a98188c2-c5a0-4458-aeea-79f5998b04b1"}}}}
{"t":{"$date":"2021-01-15T16:14:47.105-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"78f1e2a1-b6b8-4f0c-a522-db711c590826"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:47.176-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.180-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"06fb0dbe-dc19-433a-a9d5-fd14c45b3713"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:47.250-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:14:47.296-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.296-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.297-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"1e9c6fe1-8ca0-4de6-bdfc-2408c787a728"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":117}}
{"t":{"$date":"2021-01-15T16:14:47.300-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2886da95-cebf-4c2d-a5f8-41743dbab98f"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:47.397-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.397-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.399-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1c60fc9d-136d-45a1-8d0c-542a47aee1c6"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"2886da95-cebf-4c2d-a5f8-41743dbab98f"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:47.436-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.436-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1c60fc9d-136d-45a1-8d0c-542a47aee1c6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:47.436-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1c60fc9d-136d-45a1-8d0c-542a47aee1c6"}}}}
{"t":{"$date":"2021-01-15T16:14:47.438-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3850e987-e926-4459-b923-9ae4bedbd10f"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:47.459-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:14:47.534-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.535-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.537-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"af383535-6942-4b7e-b316-d252fc3806e7"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:47.635-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.636-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.638-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ddeac6e6-a351-4742-8a6c-e33f64f8fb93"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"af383535-6942-4b7e-b316-d252fc3806e7"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:47.674-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.675-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ddeac6e6-a351-4742-8a6c-e33f64f8fb93"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:47.675-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ddeac6e6-a351-4742-8a6c-e33f64f8fb93"}}}}
{"t":{"$date":"2021-01-15T16:14:47.677-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fd1507f4-9f53-4dc2-924f-13cf3ad4e970"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"af383535-6942-4b7e-b316-d252fc3806e7"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:47.705-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.705-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fd1507f4-9f53-4dc2-924f-13cf3ad4e970"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:47.705-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fd1507f4-9f53-4dc2-924f-13cf3ad4e970"}}}}
{"t":{"$date":"2021-01-15T16:14:47.708-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e3b3dd8a-9b75-4280-820d-b7ce45c4e601"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"af383535-6942-4b7e-b316-d252fc3806e7"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:47.744-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:47.744-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e3b3dd8a-9b75-4280-820d-b7ce45c4e601"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:47.744-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e3b3dd8a-9b75-4280-820d-b7ce45c4e601"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:43,644 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:43,645 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:43,646 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpvg0ed3ci
2021-01-15 16:14:43,646 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:43,647 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:43,647 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:43,648 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:43,681 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=15110 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpvg0ed3ci
2021-01-15 16:14:43,683 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:43,685 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:43,686 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15110
2021-01-15 16:14:44,300 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:44,301 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15110
2021-01-15 16:14:44,913 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:44,914 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15110
2021-01-15 16:14:45,526 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:45,527 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15110
2021-01-15 16:14:46,236 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:46,236 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15110
2021-01-15 16:14:46,946 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:46,946 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15110
2021-01-15 16:14:46,970 DEBUG pytest_server_fixtures.base2 waited 0:00:03.284422 for server to start successfully
2021-01-15 16:14:46,970 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:46,972 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:47,770 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:47,775 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpvg0ed3ci
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=15110 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpvg0ed3ci
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15110
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15110
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15110
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15110
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15110
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15110
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.284422 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:47,864 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:47,881 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:48,234 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 7035 (total_procs_to_kill=1)
2021-01-15 16:14:48,235 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:48,237 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:48,251 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:48,252 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:48,252 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:48,253 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpvg0ed3ci
2021-01-15 16:14:48,253 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:48,253 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 7035 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpvg0ed3ci
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
________ test_restore_version_latest_version_noop[FwPointersCfg.HYBRID] ________

library = <VersionStore at 0x7fafc87ad4e0>
    <ArcticLibrary at 0x7fafc83b4c88, arctic_test.TEST>
        <Arctic at 0x7fafc87ad828, connected to MongoClient(host=['127.168.91.69:3360'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_latest_version_noop(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
    
                restore_item = library.restore_version(symbol, as_of=2)  # does not create a new version
                assert restore_item.metadata == {'field_b': 1}
                assert restore_item.version == 2
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1465: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:48.376-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:48.380-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:48.380-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:48.381-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":7092,"port":3360,"dbPath":"/tmp/tmpyny2mnar","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:48.381-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:48.381-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:48.381-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":3360,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpyny2mnar","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:48.384-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:48.384-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:50.785-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752490:785904][7092:0x7effc33e2a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:50.786-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752490:786041][7092:0x7effc33e2a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:50.829-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2445}}
{"t":{"$date":"2021-01-15T16:14:50.829-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:50.895-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:50.896-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:50.913-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:50.915-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"4cf4f406-7444-4146-94e5-05c25488ca6e"}},"options":{"uuid":{"$uuid":"4cf4f406-7444-4146-94e5-05c25488ca6e"}}}}
{"t":{"$date":"2021-01-15T16:14:50.984-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:50.984-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:50.985-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:50.986-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d0fb12fe-fc5a-44c5-8b13-46b6a562573d"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:51.048-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:51.048-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpyny2mnar/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:51.053-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:51.053-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:51.053-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":3360,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:51.053-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"06af083b-cdbc-460b-a42e-4242b5be548f"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:51.151-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:51.151-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:51.382-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:36070","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:51.385-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:36072","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:51.589-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:36074","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:51.595-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:36076","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:51.595-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:36078","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:51.605-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:36080","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:51.612-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:36082","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:51.613-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:36084","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:51.624-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ef35231f-5b5e-44d0-82fd-8d2c423ac91a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:51.697-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:51.700-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"98f6858c-d013-4b0a-932d-731e2da41cd9"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"ef35231f-5b5e-44d0-82fd-8d2c423ac91a"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:51.728-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:51.728-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"98f6858c-d013-4b0a-932d-731e2da41cd9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:51.728-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"98f6858c-d013-4b0a-932d-731e2da41cd9"}}}}
{"t":{"$date":"2021-01-15T16:14:51.733-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"da76e8c7-9ca0-4a5b-8b83-fc69f88e58f0"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:51.805-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:51.809-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"73152c39-7c03-4104-868e-f46c59da74ee"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:51.886-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:14:51.923-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:51.923-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:51.923-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"3d659852-075d-4757-b90c-6922a386bd60"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":3},"storage":{},"protocol":"op_msg","durationMillis":114}}
{"t":{"$date":"2021-01-15T16:14:51.925-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"eddd15ae-3c6f-43b7-965c-a2c798a5d323"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:52.023-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:52.023-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:52.025-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"35bc1e39-cca9-49c8-b1b4-3623468d171e"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"eddd15ae-3c6f-43b7-965c-a2c798a5d323"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:52.062-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:52.062-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"35bc1e39-cca9-49c8-b1b4-3623468d171e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:52.062-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"35bc1e39-cca9-49c8-b1b4-3623468d171e"}}}}
{"t":{"$date":"2021-01-15T16:14:52.064-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c10b4c93-bc2e-4fd8-8a28-2274b643c8ca"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:52.093-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:14:52.163-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:52.163-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:52.166-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a36a3180-05d3-4b84-8467-436d3ff9fd22"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:52.263-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:52.263-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:52.265-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7f314d0d-b30c-4a6b-8906-51e565955ab0"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"a36a3180-05d3-4b84-8467-436d3ff9fd22"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:52.299-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:52.300-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7f314d0d-b30c-4a6b-8906-51e565955ab0"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:52.300-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7f314d0d-b30c-4a6b-8906-51e565955ab0"}}}}
{"t":{"$date":"2021-01-15T16:14:52.302-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0d56007b-f315-440e-98f8-20b29edca3a5"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"a36a3180-05d3-4b84-8467-436d3ff9fd22"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:52.328-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:52.329-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0d56007b-f315-440e-98f8-20b29edca3a5"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:52.329-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0d56007b-f315-440e-98f8-20b29edca3a5"}}}}
{"t":{"$date":"2021-01-15T16:14:52.331-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"dfb611a2-6084-4a6e-8413-b2481991966d"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"a36a3180-05d3-4b84-8467-436d3ff9fd22"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:52.368-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:52.368-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"dfb611a2-6084-4a6e-8413-b2481991966d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:52.368-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"dfb611a2-6084-4a6e-8413-b2481991966d"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:48,266 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:48,267 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:48,268 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpyny2mnar
2021-01-15 16:14:48,268 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:48,268 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:48,269 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:48,270 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:48,300 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=3360 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpyny2mnar
2021-01-15 16:14:48,302 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:48,304 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:48,305 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:3360
2021-01-15 16:14:48,924 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:48,925 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:3360
2021-01-15 16:14:49,539 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:49,540 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:3360
2021-01-15 16:14:50,154 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:50,155 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:3360
2021-01-15 16:14:50,868 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:50,869 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:3360
2021-01-15 16:14:51,581 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:51,581 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:3360
2021-01-15 16:14:51,605 DEBUG pytest_server_fixtures.base2 waited 0:00:03.300889 for server to start successfully
2021-01-15 16:14:51,605 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:51,607 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:52,391 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:52,397 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpyny2mnar
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=3360 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpyny2mnar
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:3360
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:3360
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:3360
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:3360
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:3360
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:3360
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.300889 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:52,495 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:52,512 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:53,145 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 7092 (total_procs_to_kill=1)
2021-01-15 16:14:53,146 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:53,147 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:53,162 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:53,162 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:53,163 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:53,163 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpyny2mnar
2021-01-15 16:14:53,164 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:53,164 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 7092 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpyny2mnar
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______ test_restore_version_latest_version_noop[FwPointersCfg.ENABLED] ________

library = <VersionStore at 0x7fafc8338518>
    <ArcticLibrary at 0x7fafc8338780, arctic_test.TEST>
        <Arctic at 0x7fafc83a9898, connected to MongoClient(host=['127.168.91.69:16024'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_latest_version_noop(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf_a = _rnd_df(10, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf_a, metadata={'field_a': 1})  # creates version 1
                library.write_metadata(symbol, metadata={'field_b': 1})  # creates version 2
    
                restore_item = library.restore_version(symbol, as_of=2)  # does not create a new version
                assert restore_item.metadata == {'field_b': 1}
                assert restore_item.version == 2
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf_a)
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1465: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:53.272-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:53.278-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:53.279-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:53.280-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":7148,"port":16024,"dbPath":"/tmp/tmp0y8tarsb","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:53.280-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:53.280-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:53.280-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":16024,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp0y8tarsb","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:53.282-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:53.282-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:14:55.507-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752495:507453][7148:0x7f9de2780a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:55.507-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752495:507567][7148:0x7f9de2780a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:14:55.553-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2271}}
{"t":{"$date":"2021-01-15T16:14:55.554-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:55.616-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:14:55.616-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:14:55.634-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:55.635-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"4c09325a-6a47-40e7-aa85-4ce5e85e3553"}},"options":{"uuid":{"$uuid":"4c09325a-6a47-40e7-aa85-4ce5e85e3553"}}}}
{"t":{"$date":"2021-01-15T16:14:55.706-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:55.706-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:14:55.707-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:14:55.709-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"898e2c7b-adf0-4c5d-bd9a-489b4fe67e53"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:14:55.771-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:55.772-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp0y8tarsb/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:14:55.776-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:14:55.776-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:14:55.776-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e881a370-4740-4113-99a1-0b6e7dc2930d"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:55.776-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":16024,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:14:55.873-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:55.873-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:56.263-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:58908","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:56.265-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:58910","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:56.469-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:58912","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:56.472-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:58914","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:56.473-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:58916","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:56.483-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:58918","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:56.489-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:58920","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:56.489-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:58922","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:14:56.497-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bf853845-1618-4357-b395-06dd6ad3d2c6"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:56.565-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:56.567-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"705a6219-0178-4209-99f4-5555fd0f31e9"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"bf853845-1618-4357-b395-06dd6ad3d2c6"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:14:56.593-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:56.593-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"705a6219-0178-4209-99f4-5555fd0f31e9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:56.593-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"705a6219-0178-4209-99f4-5555fd0f31e9"}}}}
{"t":{"$date":"2021-01-15T16:14:56.598-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d3f5c2b5-9c85-4916-a15f-50fb8a5f0b08"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:56.670-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:56.673-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f20ec0d1-b046-46a4-be4e-f7e31bb21184"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:56.766-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T16:14:56.806-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:56.806-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:56.806-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"168e202e-d7af-452f-a8a9-805aee7a5b65"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":133}}
{"t":{"$date":"2021-01-15T16:14:56.808-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ddbeb0d5-1d63-4cbe-8735-a873d640640c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:56.904-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:56.904-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:56.906-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"616fa346-8e23-4d7e-8e3e-3dd5c1ed04b5"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"ddbeb0d5-1d63-4cbe-8735-a873d640640c"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:14:56.938-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:56.939-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"616fa346-8e23-4d7e-8e3e-3dd5c1ed04b5"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:56.939-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"616fa346-8e23-4d7e-8e3e-3dd5c1ed04b5"}}}}
{"t":{"$date":"2021-01-15T16:14:56.940-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f8e98d93-78ce-4b42-a3bb-5383f0c7f69e"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:56.973-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":19}}
{"t":{"$date":"2021-01-15T16:14:57.038-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:57.038-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:57.040-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6e04819d-94fe-4467-8422-f9b2fa31d724"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:14:57.138-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:57.138-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:57.140-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7e8dfc95-d9ae-4c38-b688-d9a7ef0c8ffe"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"6e04819d-94fe-4467-8422-f9b2fa31d724"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:14:57.172-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:57.173-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7e8dfc95-d9ae-4c38-b688-d9a7ef0c8ffe"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:57.173-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7e8dfc95-d9ae-4c38-b688-d9a7ef0c8ffe"}}}}
{"t":{"$date":"2021-01-15T16:14:57.175-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bc5e492d-c561-4577-933e-18ced5f8f27e"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"6e04819d-94fe-4467-8422-f9b2fa31d724"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:57.202-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:57.203-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bc5e492d-c561-4577-933e-18ced5f8f27e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:57.203-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bc5e492d-c561-4577-933e-18ced5f8f27e"}}}}
{"t":{"$date":"2021-01-15T16:14:57.204-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1504bc02-5e02-4b82-9cdb-4545258b88f9"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"6e04819d-94fe-4467-8422-f9b2fa31d724"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:14:57.240-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:14:57.240-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1504bc02-5e02-4b82-9cdb-4545258b88f9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:14:57.240-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1504bc02-5e02-4b82-9cdb-4545258b88f9"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:53,172 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:53,173 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:53,173 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp0y8tarsb
2021-01-15 16:14:53,174 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:53,174 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:53,174 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:53,175 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:53,205 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=16024 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp0y8tarsb
2021-01-15 16:14:53,206 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:53,207 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:53,208 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:16024
2021-01-15 16:14:53,820 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:53,821 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:16024
2021-01-15 16:14:54,430 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:54,431 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:16024
2021-01-15 16:14:55,039 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:55,040 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:16024
2021-01-15 16:14:55,753 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:14:55,753 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:16024
2021-01-15 16:14:56,462 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:14:56,462 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:16024
2021-01-15 16:14:56,483 DEBUG pytest_server_fixtures.base2 waited 0:00:03.275906 for server to start successfully
2021-01-15 16:14:56,484 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:14:56,486 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:14:57,258 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:14:57,263 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp0y8tarsb
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=16024 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp0y8tarsb
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:16024
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:16024
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:16024
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:16024
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:16024
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:16024
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.275906 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:14:57,341 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:14:57,357 DEBUG arctic.store.version_store Finished updating versions with new metadata for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:717 Finished updating versions with new metadata for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:14:57,703 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 7148 (total_procs_to_kill=1)
2021-01-15 16:14:57,704 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:14:57,705 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:14:57,720 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:14:57,720 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:57,721 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:57,721 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp0y8tarsb
2021-01-15 16:14:57,721 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:57,722 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 7148 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp0y8tarsb
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
___ test_restore_version_snap_delete_symbol_restore[FwPointersCfg.DISABLED] ____

library = <VersionStore at 0x7fafc82ab160>
    <ArcticLibrary at 0x7fafc82ab400, arctic_test.TEST>
        <Arctic at 0x7fafc82ab860, connected to MongoClient(host=['127.168.91.69:1842'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_snap_delete_symbol_restore(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf = _rnd_df(20, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf[:10], metadata={'field_a': 1})  # creates version 1
                library.append(symbol, data=mydf[10:15])  # version 2
                library.snapshot('snapA')
    
                library.append(symbol, data=mydf[15:20])  # version 3
                library.delete(symbol)  # version 4
    
                restored_item = library.restore_version(symbol, as_of='snapA')  # version 5
                assert restored_item.metadata == {'field_a': 1}
                assert restored_item.version == 5
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf[:15])
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1488: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:14:57.853-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:14:57.865-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:14:57.866-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:14:57.866-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":7205,"port":1842,"dbPath":"/tmp/tmphlxhicl3","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:14:57.867-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:14:57.867-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:14:57.867-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":1842,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmphlxhicl3","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:14:57.869-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:14:57.869-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:15:00.271-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752500:271388][7205:0x7f3f69536a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:15:00.271-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752500:271512][7205:0x7f3f69536a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:15:00.319-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2450}}
{"t":{"$date":"2021-01-15T16:15:00.320-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:00.383-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:15:00.383-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:15:00.401-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:15:00.402-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"9b866010-21f4-4782-a8ed-7ba06bcab6c9"}},"options":{"uuid":{"$uuid":"9b866010-21f4-4782-a8ed-7ba06bcab6c9"}}}}
{"t":{"$date":"2021-01-15T16:15:00.471-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:00.472-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:15:00.472-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:15:00.474-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a9aaf5f5-5a6b-4c7a-8d42-294707de7cd2"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:15:00.537-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:00.538-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmphlxhicl3/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:15:00.542-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:15:00.542-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e027d1db-e4b5-44f6-b6e8-d8261e3a3a44"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:00.543-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:15:00.543-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":1842,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:15:00.648-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:00.648-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:00.648-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":106}}
{"t":{"$date":"2021-01-15T16:15:00.836-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:33052","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:00.840-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:33054","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:01.044-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:33056","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:01.051-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:33058","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:01.052-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:33060","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:01.065-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:33062","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:01.069-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:33066","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:01.070-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:33064","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:01.081-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ceb9b051-9c70-4486-94a4-96161ed198c0"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:01.147-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.150-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8d065e93-bc15-4f03-bfe9-dbfbd6b383a8"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"ceb9b051-9c70-4486-94a4-96161ed198c0"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:15:01.181-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.182-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8d065e93-bc15-4f03-bfe9-dbfbd6b383a8"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:01.182-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8d065e93-bc15-4f03-bfe9-dbfbd6b383a8"}}}}
{"t":{"$date":"2021-01-15T16:15:01.189-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a467a35a-16f3-4796-a144-2949ca1689f1"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:01.256-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.260-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b2babe40-7403-41df-9cfd-392041316c63"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:01.340-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:15:01.408-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.408-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.408-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"f05ef2c0-93c3-408c-a63f-1e2939580dd5"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":148}}
{"t":{"$date":"2021-01-15T16:15:01.411-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ba7e8bca-3975-4800-8805-876bd4bc04d8"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:01.513-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.513-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.513-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.versions","command":{"createIndexes":"TEST.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"f05ef2c0-93c3-408c-a63f-1e2939580dd5"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T16:15:01.516-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"99fba31e-78c5-4d3d-8922-fe07410cedb2"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"ba7e8bca-3975-4800-8805-876bd4bc04d8"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:15:01.550-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.551-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"99fba31e-78c5-4d3d-8922-fe07410cedb2"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:01.551-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"99fba31e-78c5-4d3d-8922-fe07410cedb2"}}}}
{"t":{"$date":"2021-01-15T16:15:01.551-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T16:15:01.553-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2fe46a4c-6090-4ad5-9742-4e13a6952b93"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:01.651-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.651-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.653-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0331df78-817e-4de2-8950-4c63daece6f3"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:01.752-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.752-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.755-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"61c37f51-a3e8-47de-9ab7-0342ba4d9e64"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"0331df78-817e-4de2-8950-4c63daece6f3"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:15:01.792-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.792-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"61c37f51-a3e8-47de-9ab7-0342ba4d9e64"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:01.792-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"61c37f51-a3e8-47de-9ab7-0342ba4d9e64"}}}}
{"t":{"$date":"2021-01-15T16:15:01.795-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c93e59f9-1a6b-4f6e-af4f-487e5a8e6b89"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"0331df78-817e-4de2-8950-4c63daece6f3"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:15:01.825-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.826-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c93e59f9-1a6b-4f6e-af4f-487e5a8e6b89"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:01.826-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c93e59f9-1a6b-4f6e-af4f-487e5a8e6b89"}}}}
{"t":{"$date":"2021-01-15T16:15:01.829-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"cfc77479-220a-42e3-b123-077a5a18278a"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"0331df78-817e-4de2-8950-4c63daece6f3"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:15:01.863-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:01.864-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"cfc77479-220a-42e3-b123-077a5a18278a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:01.864-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"cfc77479-220a-42e3-b123-077a5a18278a"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:14:57,731 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:57,732 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:57,732 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmphlxhicl3
2021-01-15 16:14:57,733 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:14:57,733 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:14:57,733 DEBUG pytest_shutil.workspace 
2021-01-15 16:14:57,734 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:14:57,771 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=1842 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmphlxhicl3
2021-01-15 16:14:57,772 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:14:57,774 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:14:57,775 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:1842
2021-01-15 16:14:58,389 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:14:58,390 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:1842
2021-01-15 16:14:59,000 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:14:59,001 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:1842
2021-01-15 16:14:59,611 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:14:59,612 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:1842
2021-01-15 16:15:00,324 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:15:00,325 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:1842
2021-01-15 16:15:01,034 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:15:01,035 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:1842
2021-01-15 16:15:01,061 DEBUG pytest_server_fixtures.base2 waited 0:00:03.286829 for server to start successfully
2021-01-15 16:15:01,062 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:15:01,063 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:15:01,886 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:15:01,893 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmphlxhicl3
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=1842 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmphlxhicl3
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:1842
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:1842
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:1842
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:1842
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:1842
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:1842
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.286829 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:15:01,981 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:15:01,996 DEBUG arctic.store._ndarray_store Appended segment 14 for parent 600221f5c1581ffb3b10526a
2021-01-15 16:15:02,030 DEBUG arctic.store._ndarray_store Appended segment 19 for parent 600221f6c1581ffb3b10526c
2021-01-15 16:15:02,037 INFO arctic.store.version_store Deleting data item: 'FTL' from 'arctic_test.TEST'
2021-01-15 16:15:02,050 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:15:02,124 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store._ndarray_store:_ndarray_store.py:509 Appended segment 14 for parent 600221f5c1581ffb3b10526a
DEBUG    arctic.store._ndarray_store:_ndarray_store.py:509 Appended segment 19 for parent 600221f6c1581ffb3b10526c
INFO     arctic.store.version_store:version_store.py:938 Deleting data item: 'FTL' from 'arctic_test.TEST'
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:15:02,474 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 7205 (total_procs_to_kill=1)
2021-01-15 16:15:02,475 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:15:02,476 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:15:02,491 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:15:02,492 DEBUG pytest_shutil.workspace 
2021-01-15 16:15:02,492 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:15:02,493 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmphlxhicl3
2021-01-15 16:15:02,493 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:15:02,494 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 7205 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmphlxhicl3
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
____ test_restore_version_snap_delete_symbol_restore[FwPointersCfg.HYBRID] _____

library = <VersionStore at 0x7faf80c88a20>
    <ArcticLibrary at 0x7faf80c88c88, arctic_test.TEST>
        <Arctic at 0x7fafc83336d8, connected to MongoClient(host=['127.168.91.69:29608'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_snap_delete_symbol_restore(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf = _rnd_df(20, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf[:10], metadata={'field_a': 1})  # creates version 1
                library.append(symbol, data=mydf[10:15])  # version 2
                library.snapshot('snapA')
    
                library.append(symbol, data=mydf[15:20])  # version 3
                library.delete(symbol)  # version 4
    
                restored_item = library.restore_version(symbol, as_of='snapA')  # version 5
                assert restored_item.metadata == {'field_a': 1}
                assert restored_item.version == 5
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf[:15])
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1488: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:15:02.624-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:15:02.634-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:15:02.635-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:15:02.636-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":7261,"port":29608,"dbPath":"/tmp/tmp7kpeif3f","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:15:02.636-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:15:02.636-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:15:02.636-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":29608,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp7kpeif3f","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:15:02.638-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:15:02.638-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:15:05.032-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752505:32474][7261:0x7fc477c2ba80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:15:05.032-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752505:32598][7261:0x7fc477c2ba80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:15:05.080-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2442}}
{"t":{"$date":"2021-01-15T16:15:05.080-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:05.145-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:15:05.145-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:15:05.164-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:15:05.165-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"531f2af5-53a6-45fc-aeb2-852e2cf74441"}},"options":{"uuid":{"$uuid":"531f2af5-53a6-45fc-aeb2-852e2cf74441"}}}}
{"t":{"$date":"2021-01-15T16:15:05.230-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:05.230-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:15:05.231-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:15:05.233-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"839351e8-814e-4ba0-87e1-010144efba1c"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:15:05.299-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:05.299-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp7kpeif3f/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:15:05.303-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:15:05.304-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7a115154-1b25-4e9c-ae71-cd689360c385"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:05.304-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:15:05.304-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":29608,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:15:05.406-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:05.406-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:05.406-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":102}}
{"t":{"$date":"2021-01-15T16:15:05.603-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:34944","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:05.608-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:34946","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:05.811-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:34948","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:05.817-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:34950","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:05.818-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:34952","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:05.831-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:34954","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:05.836-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:34958","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:05.836-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:34956","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:05.849-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"36350037-7de3-415e-8ad8-a98a6a6fbcfe"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:05.920-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:05.923-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"93ac9577-1762-4a46-9a06-52c833868746"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"36350037-7de3-415e-8ad8-a98a6a6fbcfe"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:15:05.954-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:05.954-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"93ac9577-1762-4a46-9a06-52c833868746"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:05.954-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"93ac9577-1762-4a46-9a06-52c833868746"}}}}
{"t":{"$date":"2021-01-15T16:15:05.961-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4eced4c0-dcd1-432f-9086-11683fd4e4fd"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:06.031-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.035-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ef1434b0-e6aa-4225-867f-5a86a9d21599"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:06.108-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:15:06.153-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.153-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.153-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"07410dcc-4fc9-400e-b230-0817bb849050"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":118}}
{"t":{"$date":"2021-01-15T16:15:06.155-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fb6c31b8-8a64-4d5d-b7c7-fed2e33e2999"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:06.254-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.254-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.257-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d6a1669d-3ce8-4542-9a0b-f6a023bb12e4"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"fb6c31b8-8a64-4d5d-b7c7-fed2e33e2999"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:15:06.294-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.294-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d6a1669d-3ce8-4542-9a0b-f6a023bb12e4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:06.294-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d6a1669d-3ce8-4542-9a0b-f6a023bb12e4"}}}}
{"t":{"$date":"2021-01-15T16:15:06.297-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b68d48bf-031a-497f-8e68-1be220f6c453"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:06.318-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:15:06.398-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.398-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.398-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.version_nums","command":{"createIndexes":"TEST.version_nums","indexes":[{"unique":true,"background":true,"name":"symbol_1","key":{"symbol":1}}],"lsid":{"id":{"$uuid":"07410dcc-4fc9-400e-b230-0817bb849050"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T16:15:06.401-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"61f6f6c6-e125-458f-946e-5f7bd38c79a5"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:06.498-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.498-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.500-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0405c102-0d03-4d38-8f10-b71d77d707a4"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"61f6f6c6-e125-458f-946e-5f7bd38c79a5"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:15:06.536-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.537-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0405c102-0d03-4d38-8f10-b71d77d707a4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:06.537-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0405c102-0d03-4d38-8f10-b71d77d707a4"}}}}
{"t":{"$date":"2021-01-15T16:15:06.539-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3f38b72e-eded-4486-87dd-59d5686bdc27"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"61f6f6c6-e125-458f-946e-5f7bd38c79a5"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:15:06.567-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.567-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3f38b72e-eded-4486-87dd-59d5686bdc27"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:06.567-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3f38b72e-eded-4486-87dd-59d5686bdc27"}}}}
{"t":{"$date":"2021-01-15T16:15:06.569-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"950e0f06-f3b9-4c83-bf9c-ddc51280139b"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"61f6f6c6-e125-458f-946e-5f7bd38c79a5"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:15:06.603-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:06.603-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"950e0f06-f3b9-4c83-bf9c-ddc51280139b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:06.603-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"950e0f06-f3b9-4c83-bf9c-ddc51280139b"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:15:02,506 DEBUG pytest_shutil.workspace 
2021-01-15 16:15:02,507 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:15:02,508 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp7kpeif3f
2021-01-15 16:15:02,509 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:15:02,509 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:15:02,510 DEBUG pytest_shutil.workspace 
2021-01-15 16:15:02,511 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:15:02,542 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=29608 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp7kpeif3f
2021-01-15 16:15:02,544 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:15:02,546 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:15:02,546 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29608
2021-01-15 16:15:03,160 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:15:03,161 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29608
2021-01-15 16:15:03,771 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:15:03,772 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29608
2021-01-15 16:15:04,382 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:15:04,382 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29608
2021-01-15 16:15:05,092 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:15:05,092 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29608
2021-01-15 16:15:05,802 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:15:05,802 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29608
2021-01-15 16:15:05,827 DEBUG pytest_server_fixtures.base2 waited 0:00:03.281137 for server to start successfully
2021-01-15 16:15:05,827 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:15:05,829 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:15:06,626 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:15:06,632 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp7kpeif3f
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=29608 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp7kpeif3f
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29608
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29608
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29608
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29608
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29608
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29608
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.281137 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:15:06,726 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:15:06,740 DEBUG arctic.store._ndarray_store Appended segment 14 for parent 600221fac1581ffb3b105277
2021-01-15 16:15:06,771 DEBUG arctic.store._ndarray_store Appended segment 19 for parent 600221fac1581ffb3b105279
2021-01-15 16:15:06,778 INFO arctic.store.version_store Deleting data item: 'FTL' from 'arctic_test.TEST'
2021-01-15 16:15:06,788 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:15:06,861 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store._ndarray_store:_ndarray_store.py:509 Appended segment 14 for parent 600221fac1581ffb3b105277
DEBUG    arctic.store._ndarray_store:_ndarray_store.py:509 Appended segment 19 for parent 600221fac1581ffb3b105279
INFO     arctic.store.version_store:version_store.py:938 Deleting data item: 'FTL' from 'arctic_test.TEST'
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:15:07,211 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 7261 (total_procs_to_kill=1)
2021-01-15 16:15:07,212 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:15:07,213 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:15:07,241 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:15:07,242 DEBUG pytest_shutil.workspace 
2021-01-15 16:15:07,242 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:15:07,243 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp7kpeif3f
2021-01-15 16:15:07,243 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:15:07,244 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 7261 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp7kpeif3f
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
____ test_restore_version_snap_delete_symbol_restore[FwPointersCfg.ENABLED] ____

library = <VersionStore at 0x7fafc83b4da0>
    <ArcticLibrary at 0x7fafc83b4cc0, arctic_test.TEST>
        <Arctic at 0x7fafc8405668, connected to MongoClient(host=['127.168.91.69:15083'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_restore_version_snap_delete_symbol_restore(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            symbol = 'FTL'
            mydf = _rnd_df(20, 5)
            with patch('arctic.arctic.logger.info') as info:
                library.write(symbol, data=mydf[:10], metadata={'field_a': 1})  # creates version 1
                library.append(symbol, data=mydf[10:15])  # version 2
                library.snapshot('snapA')
    
                library.append(symbol, data=mydf[15:20])  # version 3
                library.delete(symbol)  # version 4
    
                restored_item = library.restore_version(symbol, as_of='snapA')  # version 5
                assert restored_item.metadata == {'field_a': 1}
                assert restored_item.version == 5
    
                item = library.read(symbol)
>               assert_frame_equal(item.data, mydf[:15])
E               AssertionError: (None, <Second>)

tests/integration/store/test_version_store.py:1488: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:15:07.369-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:15:07.378-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:15:07.378-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:15:07.380-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":7350,"port":15083,"dbPath":"/tmp/tmpvms32dfp","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:15:07.380-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:15:07.380-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:15:07.380-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":15083,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpvms32dfp","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:15:07.383-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:15:07.383-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:15:09.799-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752509:799524][7350:0x7f6da4b2ea80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:15:09.799-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752509:799654][7350:0x7f6da4b2ea80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:15:09.847-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2464}}
{"t":{"$date":"2021-01-15T16:15:09.847-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:09.914-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:15:09.915-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:15:09.933-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:15:09.934-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"46be13e0-591c-451a-a37b-f910d07f5790"}},"options":{"uuid":{"$uuid":"46be13e0-591c-451a-a37b-f910d07f5790"}}}}
{"t":{"$date":"2021-01-15T16:15:10.002-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:10.002-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:15:10.003-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:15:10.005-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d403a6a1-0286-4e96-995c-7fc18fe8b54f"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:15:10.069-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:10.069-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpvms32dfp/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:15:10.074-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:15:10.074-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5d51e1d6-5637-44c2-94b5-ef9bdce8e19a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:10.075-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:15:10.075-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":15083,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:15:10.176-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:10.176-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:10.176-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":102}}
{"t":{"$date":"2021-01-15T16:15:10.357-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:52374","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:10.360-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:52376","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:10.564-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:52382","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:10.569-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:52386","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:10.570-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:52384","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:10.583-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:52388","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:10.591-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:52390","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:10.592-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:52392","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:15:10.602-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e18044e3-e2d8-490f-b22c-91247fa94712"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:10.672-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:10.675-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8cedd271-1410-43e2-a4f5-f0b763283b37"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"e18044e3-e2d8-490f-b22c-91247fa94712"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:15:10.704-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:10.705-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8cedd271-1410-43e2-a4f5-f0b763283b37"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:10.705-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8cedd271-1410-43e2-a4f5-f0b763283b37"}}}}
{"t":{"$date":"2021-01-15T16:15:10.711-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c70ae292-914a-4d14-8e9d-84492a4902d3"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:10.781-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:10.784-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"37fca398-edc2-4d04-a9bf-1b13a236084a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:10.860-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:15:10.907-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:10.907-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:10.907-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"55c14230-d8d5-437a-b805-86fc54e0819e"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":123}}
{"t":{"$date":"2021-01-15T16:15:10.910-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7c8c48b5-022c-481f-8566-ca0540b9028d"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:11.009-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:11.009-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:11.011-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5f487302-d983-4428-a68e-a2ee73a2b386"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"7c8c48b5-022c-481f-8566-ca0540b9028d"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:15:11.049-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:11.049-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5f487302-d983-4428-a68e-a2ee73a2b386"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:11.049-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5f487302-d983-4428-a68e-a2ee73a2b386"}}}}
{"t":{"$date":"2021-01-15T16:15:11.051-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6fa5279d-3767-4c83-8354-1ae372242dcf"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:11.069-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:15:11.149-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:11.149-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:11.152-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f2f77912-616e-460c-8adf-ac72aedef14b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:15:11.250-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:11.250-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:11.253-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ae623bcc-8fae-4c26-82a5-641bc08a8e69"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"f2f77912-616e-460c-8adf-ac72aedef14b"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:15:11.290-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:11.290-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ae623bcc-8fae-4c26-82a5-641bc08a8e69"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:11.290-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ae623bcc-8fae-4c26-82a5-641bc08a8e69"}}}}
{"t":{"$date":"2021-01-15T16:15:11.293-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5b72128b-f395-4a99-a777-1e6ab3572ab0"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"f2f77912-616e-460c-8adf-ac72aedef14b"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:15:11.320-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:11.320-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5b72128b-f395-4a99-a777-1e6ab3572ab0"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:11.320-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5b72128b-f395-4a99-a777-1e6ab3572ab0"}}}}
{"t":{"$date":"2021-01-15T16:15:11.322-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"09bf9cf7-2ed1-44f0-98dc-fee018327f65"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"f2f77912-616e-460c-8adf-ac72aedef14b"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:15:11.357-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:15:11.357-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"09bf9cf7-2ed1-44f0-98dc-fee018327f65"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:15:11.357-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"09bf9cf7-2ed1-44f0-98dc-fee018327f65"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:15:07,254 DEBUG pytest_shutil.workspace 
2021-01-15 16:15:07,255 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:15:07,256 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpvms32dfp
2021-01-15 16:15:07,256 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:15:07,257 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:15:07,257 DEBUG pytest_shutil.workspace 
2021-01-15 16:15:07,258 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:15:07,289 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=15083 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpvms32dfp
2021-01-15 16:15:07,291 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:15:07,292 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:15:07,293 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15083
2021-01-15 16:15:07,909 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:15:07,909 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15083
2021-01-15 16:15:08,522 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:15:08,523 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15083
2021-01-15 16:15:09,132 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:15:09,133 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15083
2021-01-15 16:15:09,843 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:15:09,844 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15083
2021-01-15 16:15:10,555 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:15:10,556 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:15083
2021-01-15 16:15:10,582 DEBUG pytest_server_fixtures.base2 waited 0:00:03.289077 for server to start successfully
2021-01-15 16:15:10,583 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:15:10,586 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:15:11,379 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:15:11,384 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpvms32dfp
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=15083 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpvms32dfp
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15083
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15083
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15083
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15083
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15083
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:15083
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.289077 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:15:11,475 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:15:11,492 DEBUG arctic.store._ndarray_store Appended segment 14 for parent 600221ffc1581ffb3b105284
2021-01-15 16:15:11,522 DEBUG arctic.store._ndarray_store Appended segment 19 for parent 600221ffc1581ffb3b105286
2021-01-15 16:15:11,529 INFO arctic.store.version_store Deleting data item: 'FTL' from 'arctic_test.TEST'
2021-01-15 16:15:11,538 DEBUG arctic.store.version_store Finished writing versions for FTL
2021-01-15 16:15:11,605 DEBUG arctic.store.version_store Finished writing versions for FTL
------------------------------ Captured log call -------------------------------
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store._ndarray_store:_ndarray_store.py:509 Appended segment 14 for parent 600221ffc1581ffb3b105284
DEBUG    arctic.store._ndarray_store:_ndarray_store.py:509 Appended segment 19 for parent 600221ffc1581ffb3b105286
INFO     arctic.store.version_store:version_store.py:938 Deleting data item: 'FTL' from 'arctic_test.TEST'
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for FTL
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:15:12,275 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 7350 (total_procs_to_kill=1)
2021-01-15 16:15:12,276 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:15:12,277 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:15:12,291 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:15:12,292 DEBUG pytest_shutil.workspace 
2021-01-15 16:15:12,293 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:15:12,293 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpvms32dfp
2021-01-15 16:15:12,294 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:15:12,294 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 7350 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpvms32dfp
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
___________ test_can_write_tz_aware_data_df[FwPointersCfg.DISABLED] ____________

library = <VersionStore at 0x7fafc81e61d0>
    <ArcticLibrary at 0x7fafc81e6278, arctic_test.TEST>
        <Arctic at 0x7faf806f5198, connected to MongoClient(host=['127.168.91.69:17338'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_can_write_tz_aware_data_df(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            mydf = _mixed_test_data()['index_tz_aware'][0]
            library.write(symbol='symTz', data=mydf)
            read_data = library.read(symbol='symTz').data
            # Arctic converts by default the data to UTC, convert back
            read_data.colB = read_data.colB.dt.tz_localize('UTC').dt.tz_convert(read_data.index.tzinfo)
            assert library._versions.find_one({'symbol': 'symTz'})['type'] == PandasDataFrameStore.TYPE
>           assert_frame_equal(mydf, read_data)
E           AssertionError: (<Day>, None)

tests/integration/store/test_version_store.py:1720: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:17:47.272-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:17:47.278-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:17:47.279-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:17:47.280-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":9501,"port":17338,"dbPath":"/tmp/tmpvmryf3zu","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:17:47.280-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:17:47.280-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:17:47.280-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":17338,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpvmryf3zu","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:17:47.282-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:17:47.282-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:17:49.647-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752669:647507][9501:0x7f88a3c54a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:17:49.647-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752669:647635][9501:0x7f88a3c54a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:17:49.695-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2413}}
{"t":{"$date":"2021-01-15T16:17:49.695-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:49.754-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:17:49.754-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:17:49.775-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:17:49.776-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"d744aad4-59f4-4529-af4a-9a0088c94407"}},"options":{"uuid":{"$uuid":"d744aad4-59f4-4529-af4a-9a0088c94407"}}}}
{"t":{"$date":"2021-01-15T16:17:49.844-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:49.844-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:17:49.845-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:17:49.846-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2824d87c-9cc2-4af9-83b4-e9de7938f54c"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:17:49.910-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:49.911-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpvmryf3zu/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:17:49.915-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:17:49.915-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e18d21ee-b63c-4281-8ed7-ec0953ccd5f1"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:49.915-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:17:49.915-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":17338,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:17:50.013-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:50.013-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:50.258-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:54776","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:50.261-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:54778","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:50.465-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:54780","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:50.469-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:54782","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:50.469-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:54784","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:50.479-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:54786","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:50.485-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:54788","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:50.486-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:54790","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:50.496-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9b807853-0dc4-42b5-a991-fa3eca5edd38"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:50.564-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:50.567-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"54a00b91-03b6-45b3-9b38-72eece58a0e2"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"9b807853-0dc4-42b5-a991-fa3eca5edd38"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:17:50.597-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:50.597-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"54a00b91-03b6-45b3-9b38-72eece58a0e2"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:50.597-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"54a00b91-03b6-45b3-9b38-72eece58a0e2"}}}}
{"t":{"$date":"2021-01-15T16:17:50.603-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4d0aab6d-a304-41c2-a8c0-1e48384aa3c1"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:50.673-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:50.676-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e4bfcee6-219d-47c1-96e5-bd5f90745724"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:50.761-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T16:17:50.796-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:50.796-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:50.796-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"7917026f-dcf4-4ce6-b6f3-f33161d1e741"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":120}}
{"t":{"$date":"2021-01-15T16:17:50.799-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"14bfa18d-60bf-4e65-b11c-773b4e591ee2"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:50.896-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:50.896-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:50.899-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8abb2762-28d5-4dee-8a28-e0362396af0f"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"14bfa18d-60bf-4e65-b11c-773b4e591ee2"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:17:50.932-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:50.932-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8abb2762-28d5-4dee-8a28-e0362396af0f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:50.932-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8abb2762-28d5-4dee-8a28-e0362396af0f"}}}}
{"t":{"$date":"2021-01-15T16:17:50.935-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5cabbab6-0221-4dcf-a3d4-51d5b28a6fd0"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:50.969-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T16:17:51.035-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:51.035-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:51.035-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.version_nums","command":{"createIndexes":"TEST.version_nums","indexes":[{"unique":true,"background":true,"name":"symbol_1","key":{"symbol":1}}],"lsid":{"id":{"$uuid":"7917026f-dcf4-4ce6-b6f3-f33161d1e741"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:17:51.037-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a31f0b67-2674-4a7a-9d63-8a0d3fa495ad"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:51.137-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:51.137-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:51.138-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST","command":{"createIndexes":"TEST","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"7917026f-dcf4-4ce6-b6f3-f33161d1e741"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:17:51.140-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d59017fa-33de-4008-ac23-a18e62876de9"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"a31f0b67-2674-4a7a-9d63-8a0d3fa495ad"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:17:51.173-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:51.174-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d59017fa-33de-4008-ac23-a18e62876de9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:51.174-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d59017fa-33de-4008-ac23-a18e62876de9"}}}}
{"t":{"$date":"2021-01-15T16:17:51.176-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"952021c6-cdb2-4276-930e-a9805bd402c9"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"a31f0b67-2674-4a7a-9d63-8a0d3fa495ad"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:17:51.207-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:51.207-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"952021c6-cdb2-4276-930e-a9805bd402c9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:51.207-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"952021c6-cdb2-4276-930e-a9805bd402c9"}}}}
{"t":{"$date":"2021-01-15T16:17:51.209-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"dfdd2a91-4929-4ad3-81c5-5fcbe80e6a42"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"a31f0b67-2674-4a7a-9d63-8a0d3fa495ad"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:17:51.243-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:51.243-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"dfdd2a91-4929-4ad3-81c5-5fcbe80e6a42"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:51.243-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"dfdd2a91-4929-4ad3-81c5-5fcbe80e6a42"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:17:47,155 DEBUG pytest_shutil.workspace 
2021-01-15 16:17:47,155 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:17:47,156 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpvmryf3zu
2021-01-15 16:17:47,157 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:17:47,158 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:17:47,158 DEBUG pytest_shutil.workspace 
2021-01-15 16:17:47,160 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:17:47,195 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=17338 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpvmryf3zu
2021-01-15 16:17:47,197 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:17:47,199 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:17:47,199 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17338
2021-01-15 16:17:47,814 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:17:47,815 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17338
2021-01-15 16:17:48,426 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:17:48,427 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17338
2021-01-15 16:17:49,035 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:17:49,036 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17338
2021-01-15 16:17:49,747 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:17:49,747 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17338
2021-01-15 16:17:50,456 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:17:50,457 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17338
2021-01-15 16:17:50,479 DEBUG pytest_server_fixtures.base2 waited 0:00:03.280063 for server to start successfully
2021-01-15 16:17:50,479 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:17:50,481 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:17:51,263 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:17:51,269 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpvmryf3zu
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=17338 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpvmryf3zu
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17338
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17338
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17338
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17338
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17338
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17338
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.280063 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:17:51,333 INFO arctic.arctic Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
2021-01-15 16:17:51,355 DEBUG arctic.store.version_store Finished writing versions for symTz
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symTz
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:17:51,699 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 9501 (total_procs_to_kill=1)
2021-01-15 16:17:51,700 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:17:51,701 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:17:51,716 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:17:51,717 DEBUG pytest_shutil.workspace 
2021-01-15 16:17:51,717 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:17:51,718 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpvmryf3zu
2021-01-15 16:17:51,718 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:17:51,718 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 9501 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpvmryf3zu
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
____________ test_can_write_tz_aware_data_df[FwPointersCfg.HYBRID] _____________

library = <VersionStore at 0x7fafc8347cc0>
    <ArcticLibrary at 0x7fafc8347b70, arctic_test.TEST>
        <Arctic at 0x7fafc88dcc18, connected to MongoClient(host=['127.168.91.69:10624'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_can_write_tz_aware_data_df(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            mydf = _mixed_test_data()['index_tz_aware'][0]
            library.write(symbol='symTz', data=mydf)
            read_data = library.read(symbol='symTz').data
            # Arctic converts by default the data to UTC, convert back
            read_data.colB = read_data.colB.dt.tz_localize('UTC').dt.tz_convert(read_data.index.tzinfo)
            assert library._versions.find_one({'symbol': 'symTz'})['type'] == PandasDataFrameStore.TYPE
>           assert_frame_equal(mydf, read_data)
E           AssertionError: (<Day>, None)

tests/integration/store/test_version_store.py:1720: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:17:51.838-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:17:51.851-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:17:51.852-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:17:51.853-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":9557,"port":10624,"dbPath":"/tmp/tmp7sie7sjw","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:17:51.853-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:17:51.853-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:17:51.853-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":10624,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp7sie7sjw","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:17:51.855-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:17:51.855-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:17:54.245-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752674:245364][9557:0x7f56e722ba80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:17:54.245-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752674:245496][9557:0x7f56e722ba80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:17:54.297-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2442}}
{"t":{"$date":"2021-01-15T16:17:54.297-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:54.358-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:17:54.358-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:17:54.379-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:17:54.380-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"197ca37d-be32-4977-b9ce-55cd8c663998"}},"options":{"uuid":{"$uuid":"197ca37d-be32-4977-b9ce-55cd8c663998"}}}}
{"t":{"$date":"2021-01-15T16:17:54.447-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:54.448-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:17:54.448-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:17:54.450-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4261b8cf-6d87-4a74-bb94-428776774598"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:17:54.517-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:54.517-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp7sie7sjw/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:17:54.522-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:17:54.522-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:17:54.522-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":10624,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:17:54.522-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"db2ccb20-fab9-4770-a3ad-0840c91da47a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:54.623-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:54.623-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:54.623-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T16:17:54.844-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:50810","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:54.849-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:50812","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:55.052-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:50814","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:55.057-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:50816","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:55.058-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:50818","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:55.071-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:50820","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:55.078-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:50822","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:55.079-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:50824","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:55.089-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8dc0f5e4-2c52-4610-a5ad-daaccd7eeb9b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:55.156-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.159-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"240c65b4-a019-4164-9918-49d504a00caa"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"8dc0f5e4-2c52-4610-a5ad-daaccd7eeb9b"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:17:55.190-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.190-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"240c65b4-a019-4164-9918-49d504a00caa"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:55.191-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"240c65b4-a019-4164-9918-49d504a00caa"}}}}
{"t":{"$date":"2021-01-15T16:17:55.196-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2b378dc9-61c8-4128-817d-383232c4ccfc"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:55.264-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.267-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"85fd79ff-4bd8-4af5-9d26-bdd57165f40b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:55.349-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:17:55.396-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.396-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.396-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"3e1cc845-10e1-4548-a219-df598e730e1c"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":128}}
{"t":{"$date":"2021-01-15T16:17:55.398-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"99be584e-071e-424e-9d0c-8b8039399167"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:55.499-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.499-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.499-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.versions","command":{"createIndexes":"TEST.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"3e1cc845-10e1-4548-a219-df598e730e1c"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:17:55.501-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"880828db-2577-4ba4-a21f-b255a6e2f0a8"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"99be584e-071e-424e-9d0c-8b8039399167"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:17:55.535-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.535-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"880828db-2577-4ba4-a21f-b255a6e2f0a8"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:55.535-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"880828db-2577-4ba4-a21f-b255a6e2f0a8"}}}}
{"t":{"$date":"2021-01-15T16:17:55.537-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a95430b0-cba6-40eb-88f2-84c319adef90"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:55.557-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T16:17:55.635-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.635-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.637-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"220d7a44-dbac-4e49-b85b-ab3ac9ba051c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:55.739-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.740-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.740-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST","command":{"createIndexes":"TEST","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"3e1cc845-10e1-4548-a219-df598e730e1c"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":102}}
{"t":{"$date":"2021-01-15T16:17:55.742-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"862ee177-c325-47dd-aa42-3f2a278d79db"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"220d7a44-dbac-4e49-b85b-ab3ac9ba051c"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:17:55.780-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.780-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"862ee177-c325-47dd-aa42-3f2a278d79db"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:55.780-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"862ee177-c325-47dd-aa42-3f2a278d79db"}}}}
{"t":{"$date":"2021-01-15T16:17:55.783-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0b012bff-0388-42cf-951f-8749e659cc12"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"220d7a44-dbac-4e49-b85b-ab3ac9ba051c"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:17:55.814-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.814-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0b012bff-0388-42cf-951f-8749e659cc12"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:55.814-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0b012bff-0388-42cf-951f-8749e659cc12"}}}}
{"t":{"$date":"2021-01-15T16:17:55.816-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"74899f47-136c-4576-93f2-007843074f2c"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"220d7a44-dbac-4e49-b85b-ab3ac9ba051c"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:17:55.849-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:55.850-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"74899f47-136c-4576-93f2-007843074f2c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:55.850-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"74899f47-136c-4576-93f2-007843074f2c"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:17:51,731 DEBUG pytest_shutil.workspace 
2021-01-15 16:17:51,732 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:17:51,733 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp7sie7sjw
2021-01-15 16:17:51,733 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:17:51,734 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:17:51,734 DEBUG pytest_shutil.workspace 
2021-01-15 16:17:51,735 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:17:51,767 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=10624 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp7sie7sjw
2021-01-15 16:17:51,769 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:17:51,770 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:17:51,771 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10624
2021-01-15 16:17:52,389 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:17:52,390 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10624
2021-01-15 16:17:53,004 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:17:53,005 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10624
2021-01-15 16:17:53,618 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:17:53,619 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10624
2021-01-15 16:17:54,333 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:17:54,333 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10624
2021-01-15 16:17:55,043 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:17:55,044 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10624
2021-01-15 16:17:55,071 DEBUG pytest_server_fixtures.base2 waited 0:00:03.301059 for server to start successfully
2021-01-15 16:17:55,072 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:17:55,076 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:17:55,871 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:17:55,878 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp7sie7sjw
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=10624 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp7sie7sjw
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10624
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10624
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10624
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10624
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10624
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10624
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.301059 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:17:55,938 INFO arctic.arctic Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
2021-01-15 16:17:55,965 DEBUG arctic.store.version_store Finished writing versions for symTz
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symTz
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:17:56,311 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 9557 (total_procs_to_kill=1)
2021-01-15 16:17:56,312 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:17:56,313 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:17:56,328 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:17:56,329 DEBUG pytest_shutil.workspace 
2021-01-15 16:17:56,329 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:17:56,330 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp7sie7sjw
2021-01-15 16:17:56,330 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:17:56,330 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 9557 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp7sie7sjw
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
____________ test_can_write_tz_aware_data_df[FwPointersCfg.ENABLED] ____________

library = <VersionStore at 0x7fafc83b47b8>
    <ArcticLibrary at 0x7fafc83b4c88, arctic_test.TEST>
        <Arctic at 0x7fafc818fdd8, connected to MongoClient(host=['127.168.91.69:6855'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_can_write_tz_aware_data_df(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            mydf = _mixed_test_data()['index_tz_aware'][0]
            library.write(symbol='symTz', data=mydf)
            read_data = library.read(symbol='symTz').data
            # Arctic converts by default the data to UTC, convert back
            read_data.colB = read_data.colB.dt.tz_localize('UTC').dt.tz_convert(read_data.index.tzinfo)
            assert library._versions.find_one({'symbol': 'symTz'})['type'] == PandasDataFrameStore.TYPE
>           assert_frame_equal(mydf, read_data)
E           AssertionError: (<Day>, None)

tests/integration/store/test_version_store.py:1720: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:17:56.449-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:17:56.457-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:17:56.457-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:17:56.458-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":9613,"port":6855,"dbPath":"/tmp/tmpamo1idyf","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:17:56.458-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:17:56.458-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:17:56.458-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":6855,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpamo1idyf","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:17:56.460-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:17:56.461-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:17:58.836-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752678:836952][9613:0x7f0cd2999a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:17:58.837-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752678:837083][9613:0x7f0cd2999a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:17:58.885-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2424}}
{"t":{"$date":"2021-01-15T16:17:58.885-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:58.949-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:17:58.949-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:17:58.968-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:17:58.970-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"b5ad978e-0a74-4465-9b50-7c378e1b5f4e"}},"options":{"uuid":{"$uuid":"b5ad978e-0a74-4465-9b50-7c378e1b5f4e"}}}}
{"t":{"$date":"2021-01-15T16:17:59.036-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:59.036-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:17:59.037-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:17:59.039-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ba6751e3-ea8a-4793-9f19-6a98d16eba9e"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:17:59.104-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:59.105-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpamo1idyf/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:17:59.109-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:17:59.109-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:17:59.109-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":6855,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:17:59.110-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cfa2db38-cd84-4417-916a-c1c670831b57"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:59.214-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:59.214-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:59.214-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":104}}
{"t":{"$date":"2021-01-15T16:17:59.450-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:50114","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:59.455-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:50116","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:59.659-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:50118","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:59.665-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:50120","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:59.665-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:50122","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:59.676-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:50124","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:59.684-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:50126","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:59.684-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:50128","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:17:59.696-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"69c669b6-0cc2-43da-853b-c0c9f7b551b7"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:59.766-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:59.769-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"db67bcd2-5288-4e14-8350-ca5a61d9fc65"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"69c669b6-0cc2-43da-853b-c0c9f7b551b7"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:17:59.800-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:59.800-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"db67bcd2-5288-4e14-8350-ca5a61d9fc65"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:17:59.800-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"db67bcd2-5288-4e14-8350-ca5a61d9fc65"}}}}
{"t":{"$date":"2021-01-15T16:17:59.806-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2f162990-0152-4c3e-ac4b-834af8dcab8c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:59.874-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:17:59.877-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"71bbc8f8-0d04-4ea2-92de-d70ce9664cde"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:17:59.956-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:17:59.999-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.000-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.000-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"5c1c450f-e907-442c-86c7-ca20619860c4"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":122}}
{"t":{"$date":"2021-01-15T16:18:00.003-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f39567d1-2b36-41b4-aa59-3e397c135633"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:00.103-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.103-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.104-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.versions","command":{"createIndexes":"TEST.versions","indexes":[{"background":true,"name":"symbol_1__id_-1","key":{"symbol":1,"_id":-1}}],"lsid":{"id":{"$uuid":"5c1c450f-e907-442c-86c7-ca20619860c4"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T16:18:00.106-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5e874882-d3bf-4c47-b72f-6b139d10cd53"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"f39567d1-2b36-41b4-aa59-3e397c135633"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:18:00.143-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.144-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5e874882-d3bf-4c47-b72f-6b139d10cd53"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:00.144-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5e874882-d3bf-4c47-b72f-6b139d10cd53"}}}}
{"t":{"$date":"2021-01-15T16:18:00.146-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b0f2341e-f8ad-49ae-a971-b4ca173dcf7c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:00.164-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:18:00.244-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.244-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.246-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d5afff80-4aca-4081-9898-6630cd99abf3"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:00.342-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.343-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.345-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e1d7fc18-03ba-441f-b6b5-80cead841f11"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"d5afff80-4aca-4081-9898-6630cd99abf3"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:18:00.382-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.382-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e1d7fc18-03ba-441f-b6b5-80cead841f11"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:00.382-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e1d7fc18-03ba-441f-b6b5-80cead841f11"}}}}
{"t":{"$date":"2021-01-15T16:18:00.385-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bdef1658-04f8-4be7-8cbf-287d089d1543"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"d5afff80-4aca-4081-9898-6630cd99abf3"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:18:00.414-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.414-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bdef1658-04f8-4be7-8cbf-287d089d1543"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:00.414-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bdef1658-04f8-4be7-8cbf-287d089d1543"}}}}
{"t":{"$date":"2021-01-15T16:18:00.416-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"67d2bcfe-bdc1-422e-bca8-febdae09cf42"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"d5afff80-4aca-4081-9898-6630cd99abf3"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:18:00.450-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:00.450-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"67d2bcfe-bdc1-422e-bca8-febdae09cf42"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:00.450-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"67d2bcfe-bdc1-422e-bca8-febdae09cf42"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:17:56,340 DEBUG pytest_shutil.workspace 
2021-01-15 16:17:56,340 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:17:56,341 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpamo1idyf
2021-01-15 16:17:56,342 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:17:56,342 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:17:56,342 DEBUG pytest_shutil.workspace 
2021-01-15 16:17:56,343 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:17:56,377 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=6855 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpamo1idyf
2021-01-15 16:17:56,379 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:17:56,381 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:17:56,381 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6855
2021-01-15 16:17:56,999 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:17:57,000 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6855
2021-01-15 16:17:57,611 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:17:57,612 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6855
2021-01-15 16:17:58,223 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:17:58,224 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6855
2021-01-15 16:17:58,937 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:17:58,938 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6855
2021-01-15 16:17:59,649 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:17:59,650 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:6855
2021-01-15 16:17:59,676 DEBUG pytest_server_fixtures.base2 waited 0:00:03.295714 for server to start successfully
2021-01-15 16:17:59,677 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:17:59,679 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:18:00,476 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:18:00,481 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpamo1idyf
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=6855 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpamo1idyf
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6855
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6855
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6855
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6855
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6855
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:6855
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.295714 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:18:00,544 INFO arctic.arctic Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
2021-01-15 16:18:00,566 DEBUG arctic.store.version_store Finished writing versions for symTz
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symTz
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:18:00,905 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 9613 (total_procs_to_kill=1)
2021-01-15 16:18:00,905 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:18:00,907 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:18:00,921 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:18:00,922 DEBUG pytest_shutil.workspace 
2021-01-15 16:18:00,923 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:00,923 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpamo1idyf
2021-01-15 16:18:00,924 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:00,924 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 9613 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpamo1idyf
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_________ test_can_write_tz_aware_data_series[FwPointersCfg.DISABLED] __________

library = <VersionStore at 0x7fafc83b6b00>
    <ArcticLibrary at 0x7fafc83b6748, arctic_test.TEST>
        <Arctic at 0x7fafc8e7b470, connected to MongoClient(host=['127.168.91.69:27218'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.DISABLED: 1>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_can_write_tz_aware_data_series(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            myseries = _mixed_test_data()['index_tz_aware'][0]['colB']
            library.write(symbol='symTzSer', data=myseries)
            read_data = library.read(symbol='symTzSer').data
            # Arctic converts by default the data to UTC, convert back
            read_data = read_data.dt.tz_localize('UTC').dt.tz_convert(read_data.index.tzinfo)
            assert library._versions.find_one({'symbol': 'symTzSer'})['type'] == PandasSeriesStore.TYPE
>           assert_series_equal(myseries, read_data)
E           AssertionError: (<Day>, None)

tests/integration/store/test_version_store.py:1732: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:18:01.035-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:18:01.040-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:18:01.040-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:18:01.041-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":9670,"port":27218,"dbPath":"/tmp/tmp3_qh482q","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:18:01.041-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:18:01.041-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:18:01.041-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":27218,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp3_qh482q","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:18:01.043-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:18:01.043-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:18:03.139-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752683:139473][9670:0x7f5daaf8ca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:18:03.139-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752683:139607][9670:0x7f5daaf8ca80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:18:03.184-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2141}}
{"t":{"$date":"2021-01-15T16:18:03.184-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.248-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:18:03.249-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:18:03.266-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:18:03.268-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"6c82b0a1-f514-4e66-aa51-6a9999460432"}},"options":{"uuid":{"$uuid":"6c82b0a1-f514-4e66-aa51-6a9999460432"}}}}
{"t":{"$date":"2021-01-15T16:18:03.338-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.338-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:18:03.339-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:18:03.341-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0a19263c-ae36-4d2b-8f42-1786c44be732"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:18:03.400-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.400-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp3_qh482q/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:18:03.404-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"efcf524c-9112-45f2-9adf-3d9c89329b26"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:03.404-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:18:03.405-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:18:03.405-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":27218,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:18:03.501-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.501-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.523-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:50114","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:03.527-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:50116","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:03.528-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:50118","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:03.538-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:50120","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:03.545-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:50122","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:03.546-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:50124","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:03.555-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1224676e-c068-47f1-bddd-a59c18863457"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:03.626-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.629-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d5e13b05-542b-4182-9bc0-641cac41f57f"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"1224676e-c068-47f1-bddd-a59c18863457"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:18:03.655-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.656-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d5e13b05-542b-4182-9bc0-641cac41f57f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:03.656-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d5e13b05-542b-4182-9bc0-641cac41f57f"}}}}
{"t":{"$date":"2021-01-15T16:18:03.661-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"940da23c-b159-40c9-9489-4e4f6225e0e7"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:03.733-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.736-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"37895e2e-ccec-469e-9c73-8de4d1a01e85"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:03.833-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.833-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.835-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b909d380-7644-4b3e-b2b4-0251f58658db"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:03.930-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.930-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.933-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0d7dd96a-4396-4fb7-9641-289b179d86aa"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"b909d380-7644-4b3e-b2b4-0251f58658db"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:18:03.988-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:03.988-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0d7dd96a-4396-4fb7-9641-289b179d86aa"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:03.988-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0d7dd96a-4396-4fb7-9641-289b179d86aa"}}}}
{"t":{"$date":"2021-01-15T16:18:03.991-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ce73aab1-2bde-4cc1-9035-e2867765e117"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:04.028-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:18:04.092-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:04.092-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:04.093-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.version_nums","command":{"createIndexes":"TEST.version_nums","indexes":[{"unique":true,"background":true,"name":"symbol_1","key":{"symbol":1}}],"lsid":{"id":{"$uuid":"8c57d92f-f007-42a1-aebe-553da070c2b6"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T16:18:04.095-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2b86c0b0-f218-431a-9602-7fc4b9d2b54a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:04.192-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:04.192-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:04.194-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"716d1260-cc2e-4256-b251-aa949e8d4800"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"2b86c0b0-f218-431a-9602-7fc4b9d2b54a"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:18:04.228-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:04.228-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"716d1260-cc2e-4256-b251-aa949e8d4800"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:04.228-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"716d1260-cc2e-4256-b251-aa949e8d4800"}}}}
{"t":{"$date":"2021-01-15T16:18:04.230-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6d685f76-8b38-49e6-8266-9c5120c3b2c9"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"2b86c0b0-f218-431a-9602-7fc4b9d2b54a"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:18:04.256-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:04.256-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6d685f76-8b38-49e6-8266-9c5120c3b2c9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:04.256-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6d685f76-8b38-49e6-8266-9c5120c3b2c9"}}}}
{"t":{"$date":"2021-01-15T16:18:04.258-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"11bb41ca-60ae-4d54-9f49-d0fe836b7730"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"2b86c0b0-f218-431a-9602-7fc4b9d2b54a"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:18:04.295-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:04.295-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"11bb41ca-60ae-4d54-9f49-d0fe836b7730"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:04.295-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"11bb41ca-60ae-4d54-9f49-d0fe836b7730"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:18:00,933 DEBUG pytest_shutil.workspace 
2021-01-15 16:18:00,934 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:00,934 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp3_qh482q
2021-01-15 16:18:00,935 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:18:00,935 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:00,935 DEBUG pytest_shutil.workspace 
2021-01-15 16:18:00,936 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:18:00,964 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=27218 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp3_qh482q
2021-01-15 16:18:00,965 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:18:00,966 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:18:00,967 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:27218
2021-01-15 16:18:01,581 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:18:01,582 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:27218
2021-01-15 16:18:02,193 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:18:02,194 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:27218
2021-01-15 16:18:02,804 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:18:02,805 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:27218
2021-01-15 16:18:03,515 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:18:03,515 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:27218
2021-01-15 16:18:03,537 DEBUG pytest_server_fixtures.base2 waited 0:00:02.570809 for server to start successfully
2021-01-15 16:18:03,538 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:18:03,540 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:18:04,314 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:18:04,320 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp3_qh482q
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=27218 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp3_qh482q
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:27218
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:27218
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:27218
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:27218
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:27218
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:02.570809 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:18:04,372 INFO arctic.arctic Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
2021-01-15 16:18:04,391 DEBUG arctic.store.version_store Finished writing versions for symTzSer
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symTzSer
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:18:05,009 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 9670 (total_procs_to_kill=1)
2021-01-15 16:18:05,010 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:18:05,011 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:18:05,026 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:18:05,027 DEBUG pytest_shutil.workspace 
2021-01-15 16:18:05,028 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:05,028 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp3_qh482q
2021-01-15 16:18:05,029 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:05,029 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 9670 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp3_qh482q
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
__________ test_can_write_tz_aware_data_series[FwPointersCfg.HYBRID] ___________

library = <VersionStore at 0x7fafc8e7c358>
    <ArcticLibrary at 0x7fafc8e7c198, arctic_test.TEST>
        <Arctic at 0x7faf806476a0, connected to MongoClient(host=['127.168.91.69:8344'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.HYBRID: 2>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_can_write_tz_aware_data_series(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            myseries = _mixed_test_data()['index_tz_aware'][0]['colB']
            library.write(symbol='symTzSer', data=myseries)
            read_data = library.read(symbol='symTzSer').data
            # Arctic converts by default the data to UTC, convert back
            read_data = read_data.dt.tz_localize('UTC').dt.tz_convert(read_data.index.tzinfo)
            assert library._versions.find_one({'symbol': 'symTzSer'})['type'] == PandasSeriesStore.TYPE
>           assert_series_equal(myseries, read_data)
E           AssertionError: (<Day>, None)

tests/integration/store/test_version_store.py:1732: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:18:05.152-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:18:05.161-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:18:05.162-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:18:05.163-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":9722,"port":8344,"dbPath":"/tmp/tmpfqj4w49r","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:18:05.163-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:18:05.163-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:18:05.163-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":8344,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpfqj4w49r","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:18:05.166-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:18:05.166-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:18:07.557-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752687:557803][9722:0x7fbc40dbea80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:18:07.557-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752687:557932][9722:0x7fbc40dbea80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:18:07.604-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2438}}
{"t":{"$date":"2021-01-15T16:18:07.605-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:07.667-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:18:07.668-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:18:07.685-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:18:07.687-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"c5db1be7-9838-4f64-906e-cb596d0f82cf"}},"options":{"uuid":{"$uuid":"c5db1be7-9838-4f64-906e-cb596d0f82cf"}}}}
{"t":{"$date":"2021-01-15T16:18:07.758-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:07.758-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:18:07.759-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:18:07.761-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6b1d90d6-7e95-42c6-a2fb-555325e1237f"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:18:07.825-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:07.826-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpfqj4w49r/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:18:07.831-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:18:07.831-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:18:07.831-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":8344,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:18:07.831-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f918c2d8-adc9-4a60-b6a7-1f95357422a6"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:07.928-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:07.928-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.140-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:60806","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:08.144-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:60808","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:08.348-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:60810","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:08.354-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:60812","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:08.354-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:60814","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:08.364-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:60816","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:08.372-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:60818","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:08.372-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:60820","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:08.384-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8da4ef5d-a43b-4251-a9d5-ac04eb7ee2b0"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:08.454-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.457-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"43f5b2fd-9a43-460e-a71f-2684908479f3"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"8da4ef5d-a43b-4251-a9d5-ac04eb7ee2b0"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:18:08.483-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.484-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"43f5b2fd-9a43-460e-a71f-2684908479f3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:08.484-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"43f5b2fd-9a43-460e-a71f-2684908479f3"}}}}
{"t":{"$date":"2021-01-15T16:18:08.490-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"76514f43-4fc4-4240-9042-730e3559083c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:08.562-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.566-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ee886fe0-4d4d-406a-888b-6f587794b6b9"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:08.644-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T16:18:08.696-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.696-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.697-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"03077b02-f537-423b-aeed-d1d3da9b8845"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":130}}
{"t":{"$date":"2021-01-15T16:18:08.699-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"36ab758d-a8ae-4568-999c-6166d67c9dd7"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:08.796-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.796-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.800-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"91c3dddb-1200-44a8-be61-a2831a406d39"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"36ab758d-a8ae-4568-999c-6166d67c9dd7"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:18:08.834-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.834-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"91c3dddb-1200-44a8-be61-a2831a406d39"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:08.834-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"91c3dddb-1200-44a8-be61-a2831a406d39"}}}}
{"t":{"$date":"2021-01-15T16:18:08.836-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cbcddfcd-365b-4d67-9b0f-5de1ec316ac8"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:08.854-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T16:18:08.938-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.938-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:08.938-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.version_nums","command":{"createIndexes":"TEST.version_nums","indexes":[{"unique":true,"background":true,"name":"symbol_1","key":{"symbol":1}}],"lsid":{"id":{"$uuid":"03077b02-f537-423b-aeed-d1d3da9b8845"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":3},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T16:18:08.940-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d7ea8365-8e3d-4760-afdf-81ed5dc5bfd0"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:09.040-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:09.041-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:09.041-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST","command":{"createIndexes":"TEST","indexes":[{"background":true,"name":"symbol_hashed","key":{"symbol":"hashed"}}],"lsid":{"id":{"$uuid":"03077b02-f537-423b-aeed-d1d3da9b8845"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:18:09.043-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9e5aafd2-48a5-4156-a3a1-7355a0671975"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"d7ea8365-8e3d-4760-afdf-81ed5dc5bfd0"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:18:09.077-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:09.077-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9e5aafd2-48a5-4156-a3a1-7355a0671975"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:09.077-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9e5aafd2-48a5-4156-a3a1-7355a0671975"}}}}
{"t":{"$date":"2021-01-15T16:18:09.080-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"46d66b88-ec59-49e3-a148-dc9031b0bf36"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"d7ea8365-8e3d-4760-afdf-81ed5dc5bfd0"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:18:09.109-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:09.109-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"46d66b88-ec59-49e3-a148-dc9031b0bf36"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:09.109-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"46d66b88-ec59-49e3-a148-dc9031b0bf36"}}}}
{"t":{"$date":"2021-01-15T16:18:09.111-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7f984e40-4a4d-46b9-83ea-0f0c127c0165"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"d7ea8365-8e3d-4760-afdf-81ed5dc5bfd0"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:18:09.148-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:09.149-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7f984e40-4a4d-46b9-83ea-0f0c127c0165"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:09.149-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7f984e40-4a4d-46b9-83ea-0f0c127c0165"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:18:05,038 DEBUG pytest_shutil.workspace 
2021-01-15 16:18:05,039 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:05,040 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpfqj4w49r
2021-01-15 16:18:05,040 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:18:05,041 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:05,041 DEBUG pytest_shutil.workspace 
2021-01-15 16:18:05,042 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:18:05,074 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=8344 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpfqj4w49r
2021-01-15 16:18:05,075 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:18:05,077 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:18:05,078 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8344
2021-01-15 16:18:05,694 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:18:05,695 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8344
2021-01-15 16:18:06,305 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:18:06,306 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8344
2021-01-15 16:18:06,917 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:18:06,918 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8344
2021-01-15 16:18:07,627 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:18:07,628 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8344
2021-01-15 16:18:08,339 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:18:08,340 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8344
2021-01-15 16:18:08,364 DEBUG pytest_server_fixtures.base2 waited 0:00:03.287110 for server to start successfully
2021-01-15 16:18:08,365 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:18:08,367 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:18:09,171 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:18:09,177 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpfqj4w49r
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=8344 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpfqj4w49r
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8344
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8344
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8344
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8344
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8344
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8344
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.287110 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:18:09,238 INFO arctic.arctic Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
2021-01-15 16:18:09,262 DEBUG arctic.store.version_store Finished writing versions for symTzSer
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symTzSer
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:18:09,598 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 9722 (total_procs_to_kill=1)
2021-01-15 16:18:09,599 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:18:09,600 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:18:09,615 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:18:09,615 DEBUG pytest_shutil.workspace 
2021-01-15 16:18:09,616 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:09,616 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpfqj4w49r
2021-01-15 16:18:09,616 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:09,617 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 9722 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpfqj4w49r
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
__________ test_can_write_tz_aware_data_series[FwPointersCfg.ENABLED] __________

library = <VersionStore at 0x7fafc81547f0>
    <ArcticLibrary at 0x7fafc8154fd0, arctic_test.TEST>
        <Arctic at 0x7fafc828eb70, connected to MongoClient(host=['127.168.91.69:29860'], document_class=dict, tz_aware=False, connect=True)>
fw_pointers_cfg = <FwPointersCfg.ENABLED: 0>

    @pytest.mark.parametrize('fw_pointers_cfg', [FwPointersCfg.DISABLED, FwPointersCfg.HYBRID, FwPointersCfg.ENABLED])
    def test_can_write_tz_aware_data_series(library, fw_pointers_cfg):
        with FwPointersCtx(fw_pointers_cfg):
            myseries = _mixed_test_data()['index_tz_aware'][0]['colB']
            library.write(symbol='symTzSer', data=myseries)
            read_data = library.read(symbol='symTzSer').data
            # Arctic converts by default the data to UTC, convert back
            read_data = read_data.dt.tz_localize('UTC').dt.tz_convert(read_data.index.tzinfo)
            assert library._versions.find_one({'symbol': 'symTzSer'})['type'] == PandasSeriesStore.TYPE
>           assert_series_equal(myseries, read_data)
E           AssertionError: (<Day>, None)

tests/integration/store/test_version_store.py:1732: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:18:09.737-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:18:09.748-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:18:09.749-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:18:09.750-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":9780,"port":29860,"dbPath":"/tmp/tmp0fxnaf2n","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:18:09.750-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:18:09.750-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:18:09.750-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":29860,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp0fxnaf2n","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:18:09.752-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:18:09.753-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:18:12.152-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752692:152932][9780:0x7eff4e119a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:18:12.153-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610752692:153063][9780:0x7eff4e119a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:18:12.201-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2448}}
{"t":{"$date":"2021-01-15T16:18:12.202-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:12.267-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:18:12.268-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:18:12.285-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:18:12.286-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"51c6b1e5-0adb-4023-bcff-5dd5efa42340"}},"options":{"uuid":{"$uuid":"51c6b1e5-0adb-4023-bcff-5dd5efa42340"}}}}
{"t":{"$date":"2021-01-15T16:18:12.357-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:12.358-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:18:12.358-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:18:12.360-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"38b40a0a-fbeb-43ab-beea-2fb7df5f723a"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:18:12.423-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:12.424-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp0fxnaf2n/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:18:12.428-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:18:12.428-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"495946a4-74d2-49a7-9ad2-947ec775e597"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:12.429-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:18:12.429-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":29860,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:18:12.526-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:12.526-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:12.740-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:37776","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:12.744-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:37778","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:12.947-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:37780","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:12.953-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:37782","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:12.954-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:37784","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:12.963-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:37786","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:12.971-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:37788","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:12.971-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:37790","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:18:12.981-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9d58649c-a09c-4bcb-a5fc-9bec96b36d7c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:13.052-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.055-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8ba5c186-2649-4ff6-8076-69ab84cd375b"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"9d58649c-a09c-4bcb-a5fc-9bec96b36d7c"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:18:13.081-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.081-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8ba5c186-2649-4ff6-8076-69ab84cd375b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:13.081-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8ba5c186-2649-4ff6-8076-69ab84cd375b"}}}}
{"t":{"$date":"2021-01-15T16:18:13.088-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"22e38940-261f-4996-93ea-f951cdf16a1e"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:13.160-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.163-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1847de7e-a122-40e8-a860-b43a44f18fb8"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:13.243-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:18:13.284-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.284-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.284-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.snapshots","command":{"createIndexes":"TEST.snapshots","indexes":[{"unique":true,"background":true,"name":"name_1","key":{"name":1}}],"lsid":{"id":{"$uuid":"f9ed55ce-3aa9-44fb-9a0f-b331a3a528a8"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":121}}
{"t":{"$date":"2021-01-15T16:18:13.287-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1ee010b0-9a24-4d73-874f-7ea796050b1b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:13.385-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.385-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.388-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6880e7aa-aa39-4800-99f8-c3ee53a4166c"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"1ee010b0-9a24-4d73-874f-7ea796050b1b"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-15T16:18:13.422-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.422-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6880e7aa-aa39-4800-99f8-c3ee53a4166c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:13.422-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6880e7aa-aa39-4800-99f8-c3ee53a4166c"}}}}
{"t":{"$date":"2021-01-15T16:18:13.425-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"726cdc2b-aaea-4e7e-8335-112f5568c755"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:13.450-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:18:13.525-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.525-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.525-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.TEST.version_nums","command":{"createIndexes":"TEST.version_nums","indexes":[{"unique":true,"background":true,"name":"symbol_1","key":{"symbol":1}}],"lsid":{"id":{"$uuid":"f9ed55ce-3aa9-44fb-9a0f-b331a3a528a8"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:18:13.527-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c7550970-b935-4d23-beac-ddc2291cdc85"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:18:13.625-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.625-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.627-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"32177b90-d538-40a6-bfc0-049baa031538"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c7550970-b935-4d23-beac-ddc2291cdc85"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-15T16:18:13.661-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.661-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"32177b90-d538-40a6-bfc0-049baa031538"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:13.661-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"32177b90-d538-40a6-bfc0-049baa031538"}}}}
{"t":{"$date":"2021-01-15T16:18:13.663-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"97fcbcae-d580-420a-9cf3-844d07b9fd12"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c7550970-b935-4d23-beac-ddc2291cdc85"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:18:13.695-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.695-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"97fcbcae-d580-420a-9cf3-844d07b9fd12"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:13.695-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"97fcbcae-d580-420a-9cf3-844d07b9fd12"}}}}
{"t":{"$date":"2021-01-15T16:18:13.698-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5a9437dc-7803-4b18-9a93-5060fff017f4"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"c7550970-b935-4d23-beac-ddc2291cdc85"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-15T16:18:13.734-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:18:13.734-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5a9437dc-7803-4b18-9a93-5060fff017f4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:18:13.734-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5a9437dc-7803-4b18-9a93-5060fff017f4"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:18:09,626 DEBUG pytest_shutil.workspace 
2021-01-15 16:18:09,627 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:09,628 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp0fxnaf2n
2021-01-15 16:18:09,628 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:18:09,628 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:09,629 DEBUG pytest_shutil.workspace 
2021-01-15 16:18:09,630 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:18:09,661 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=29860 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp0fxnaf2n
2021-01-15 16:18:09,663 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:18:09,665 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:18:09,666 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29860
2021-01-15 16:18:10,285 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:18:10,286 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29860
2021-01-15 16:18:10,899 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:18:10,900 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29860
2021-01-15 16:18:11,514 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:18:11,515 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29860
2021-01-15 16:18:12,228 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:18:12,229 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29860
2021-01-15 16:18:12,938 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:18:12,939 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:29860
2021-01-15 16:18:12,964 DEBUG pytest_server_fixtures.base2 waited 0:00:03.298492 for server to start successfully
2021-01-15 16:18:12,964 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:18:12,966 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:18:13,759 INFO arctic.store.version_store Trying to enable sharding...
2021-01-15 16:18:13,765 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp0fxnaf2n
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=29860 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp0fxnaf2n
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29860
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29860
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29860
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29860
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29860
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:29860
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.298492 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {'ok': 0.0, 'errmsg': "no such command: 'enablesharding'", 'code': 59, 'codeName': 'CommandNotFound'}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:18:13,823 INFO arctic.arctic Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
2021-01-15 16:18:13,845 DEBUG arctic.store.version_store Finished writing versions for symTzSer
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
DEBUG    arctic.store.version_store:version_store.py:674 Finished writing versions for symTzSer
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:18:14,195 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 9780 (total_procs_to_kill=1)
2021-01-15 16:18:14,196 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:18:14,197 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:18:14,212 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:18:14,213 DEBUG pytest_shutil.workspace 
2021-01-15 16:18:14,213 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:14,214 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp0fxnaf2n
2021-01-15 16:18:14,214 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:18:14,214 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 9780 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp0fxnaf2n
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_ test_should_return_data_when_date_range_falls_in_a_single_underlying_library _

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7fafc814d080>
arctic = <Arctic at 0x7fafc805aeb8, connected to MongoClient(host=['127.168.91.69:19028'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_return_data_when_date_range_falls_in_a_single_underlying_library(toplevel_tickstore, arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        tstore = arctic['FEED_2010.LEVEL1']
        arctic.initialize_library('test_current.toplevel_tickstore', tickstore.TICK_STORE_TYPE)
        tickstore_current = arctic['test_current.toplevel_tickstore']
        toplevel_tickstore._collection.insert_one({'start': dt(2010, 1, 1),
                                               'end': dt(2010, 12, 31, 23, 59, 59),
                                               'library_name': 'FEED_2010.LEVEL1'})
        dates = pd.date_range('20100101', periods=6, tz=mktz('Europe/London'))
        df = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tstore.write('blah', df)
        tickstore_current.write('blah', df)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 1), end=dt(2010, 1, 6)), list('ABCD'))
    
>       assert_frame_equal(df, res.tz_convert(mktz('Europe/London')))
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (6, 4)
E       [right]: (5, 4)

tests/integration/tickstore/test_toplevel.py:65: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:24:10.104-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:24:10.110-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:24:10.111-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:24:10.112-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":12812,"port":19028,"dbPath":"/tmp/tmpg4ndwkur","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:24:10.112-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:24:10.112-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:24:10.112-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":19028,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpg4ndwkur","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:24:10.114-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:24:10.114-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:24:12.469-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753052:469719][12812:0x7fabefbf2a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:24:12.469-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753052:469840][12812:0x7fabefbf2a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:24:12.517-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2403}}
{"t":{"$date":"2021-01-15T16:24:12.517-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:12.580-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:24:12.581-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:24:12.598-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:24:12.599-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"60df8623-6834-479a-bcf9-276b8338e8fd"}},"options":{"uuid":{"$uuid":"60df8623-6834-479a-bcf9-276b8338e8fd"}}}}
{"t":{"$date":"2021-01-15T16:24:12.670-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:12.671-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:24:12.672-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:24:12.674-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5930ecf2-67cd-4134-8c37-23dca94583ae"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:24:12.736-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:12.737-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpg4ndwkur/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:24:12.741-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:24:12.741-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:24:12.742-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":19028,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:24:12.742-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f2e5f6c2-acf0-4712-aad2-9d4e75fe9c00"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:12.838-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:12.838-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.098-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:46496","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:13.102-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:46498","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:13.307-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:46504","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:13.311-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:46506","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:13.312-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:46508","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:13.321-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:46510","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:13.327-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:46512","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:13.328-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:46514","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:13.338-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"80b72c25-0034-407a-8b63-c80161a65f83"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:13.407-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.409-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4c591d04-16b2-4724-bd3a-a8884d82bffd"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"80b72c25-0034-407a-8b63-c80161a65f83"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:24:13.435-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.436-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4c591d04-16b2-4724-bd3a-a8884d82bffd"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:13.436-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4c591d04-16b2-4724-bd3a-a8884d82bffd"}}}}
{"t":{"$date":"2021-01-15T16:24:13.441-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8309c3ec-c669-43d7-bc56-f8e383dc00d9"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:13.512-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.524-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"24780cb1-6880-4824-90b9-b1abc1913b36"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:13.602-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-15T16:24:13.643-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.643-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.643-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.toplevel_tickstore","command":{"createIndexes":"toplevel_tickstore","indexes":[{"background":true,"name":"start_1","key":{"start":1}}],"lsid":{"id":{"$uuid":"ce824486-47d6-4d15-a26f-8325089506f8"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":119}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:24:10,006 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:10,006 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:10,007 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpg4ndwkur
2021-01-15 16:24:10,007 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:24:10,008 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:10,008 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:10,009 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:24:10,039 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=19028 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpg4ndwkur
2021-01-15 16:24:10,040 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:24:10,042 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:24:10,042 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:19028
2021-01-15 16:24:10,655 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:24:10,656 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:19028
2021-01-15 16:24:11,265 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:24:11,266 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:19028
2021-01-15 16:24:11,876 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:24:11,877 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:19028
2021-01-15 16:24:12,587 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:24:12,588 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:19028
2021-01-15 16:24:13,297 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:24:13,298 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:19028
2021-01-15 16:24:13,304 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-15 16:24:13,320 DEBUG pytest_server_fixtures.base2 waited 0:00:03.278108 for server to start successfully
2021-01-15 16:24:13,321 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:24:13,323 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:24:13,517 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpg4ndwkur
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=19028 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpg4ndwkur
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:19028
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:19028
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:19028
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:19028
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:19028
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:19028
DEBUG    pytest_server_fixtures.base2:base2.py:82 Server is already killed, skipping
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.278108 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T16:24:13.658-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8d2a13fa-a915-4fd6-ab96-cf8d0401a988"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:13.719-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.722-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b32c28a6-4ad8-4eec-9c43-984989c8601a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:13.811-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T16:24:13.823-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.824-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.824-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"ce824486-47d6-4d15-a26f-8325089506f8"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":102}}
{"t":{"$date":"2021-01-15T16:24:13.826-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9b9d8cda-d18a-44bf-a8e0-22c0a45595f9"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"b32c28a6-4ad8-4eec-9c43-984989c8601a"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:24:13.857-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.857-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9b9d8cda-d18a-44bf-a8e0-22c0a45595f9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:13.857-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9b9d8cda-d18a-44bf-a8e0-22c0a45595f9"}}}}
{"t":{"$date":"2021-01-15T16:24:13.859-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f68acb51-be8a-489a-be76-3b5f1ee007bf"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:13.957-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.958-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:13.970-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test_current.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ab0f5cd0-84cf-4f53-890d-772b005b7557"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:14.040-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:14.042-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test_current.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"32132892-7fac-4e56-a2ec-ec56f68ebe23"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:14.135-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:14.135-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:14.137-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"301f7b8f-76ab-426d-a3a3-8f7e39db3d4e"}},"namespace":"arctic_test_current.toplevel_tickstore","collectionUUID":{"uuid":{"$uuid":"32132892-7fac-4e56-a2ec-ec56f68ebe23"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:24:14.164-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:14.164-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"301f7b8f-76ab-426d-a3a3-8f7e39db3d4e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:14.164-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"301f7b8f-76ab-426d-a3a3-8f7e39db3d4e"}}}}
{"t":{"$date":"2021-01-15T16:24:14.167-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test_current.toplevel_tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3b1b6786-fdd9-437f-8baa-a05087e41cc9"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:14.259-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:14.259-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:24:14,282 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 16:24:14,291 DEBUG arctic.tickstore.tickstore 1 buckets in 0.002972: approx 33647375 ticks/sec
2021-01-15 16:24:14,296 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 16:24:14,302 DEBUG arctic.tickstore.tickstore 1 buckets in 0.00233: approx 42918454 ticks/sec
2021-01-15 16:24:14,320 INFO arctic.tickstore.tickstore Got data in 0.013424 secs, creating DataFrame...
2021-01-15 16:24:14,325 INFO arctic.tickstore.tickstore 6 rows in 0.018057 secs: 332 ticks/sec
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.002972: approx 33647375 ticks/sec
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.00233: approx 42918454 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.013424 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.018057 secs: 332 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:24:14,437 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 12812 (total_procs_to_kill=1)
2021-01-15 16:24:14,438 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:24:14,439 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:24:14,454 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:24:14,455 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:14,455 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:14,456 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpg4ndwkur
2021-01-15 16:24:14,456 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:14,456 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 12812 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpg4ndwkur
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
___________ test_should_return_data_when_date_range_spans_libraries ____________

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7fafc805a6d8>
arctic = <Arctic at 0x7faf80709eb8, connected to MongoClient(host=['127.168.91.69:10704'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_return_data_when_date_range_spans_libraries(toplevel_tickstore, arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        tickstore_2010 = arctic['FEED_2010.LEVEL1']
        tickstore_2011 = arctic['FEED_2011.LEVEL1']
        toplevel_tickstore.add(DateRange(start=dt(2010, 1, 1), end=dt(2010, 12, 31, 23, 59, 59, 999000)), 'FEED_2010.LEVEL1')
        toplevel_tickstore.add(DateRange(start=dt(2011, 1, 1), end=dt(2011, 12, 31, 23, 59, 59, 999000)), 'FEED_2011.LEVEL1')
        dates = pd.date_range('20100101', periods=6, tz=mktz('Europe/London'))
        df_10 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2010.write('blah', df_10)
        dates = pd.date_range('20110101', periods=6, tz=mktz('Europe/London'))
        df_11 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2011.write('blah', df_11)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 2), end=dt(2011, 1, 4)), list('ABCD'))
        expected_df = pd.concat([df_10[1:], df_11[:4]])
>       assert_frame_equal(expected_df, res.tz_convert(mktz('Europe/London')))
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (9, 4)
E       [right]: (7, 4)

tests/integration/tickstore/test_toplevel.py:83: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:24:14.582-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:24:14.590-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:24:14.590-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:24:14.591-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":12868,"port":10704,"dbPath":"/tmp/tmpsmkh3noy","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:24:14.591-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:24:14.591-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:24:14.592-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":10704,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpsmkh3noy","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:24:14.594-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:24:14.594-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:24:16.985-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753056:985104][12868:0x7f77bbc10a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:24:16.985-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753056:985232][12868:0x7f77bbc10a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:24:17.032-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2438}}
{"t":{"$date":"2021-01-15T16:24:17.032-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:17.096-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:24:17.097-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:24:17.116-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:24:17.117-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"ea3e9bfb-0f06-4dfd-9f04-8dbf6209d34f"}},"options":{"uuid":{"$uuid":"ea3e9bfb-0f06-4dfd-9f04-8dbf6209d34f"}}}}
{"t":{"$date":"2021-01-15T16:24:17.182-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:17.183-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:24:17.184-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:24:17.186-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ff164c66-a75e-4731-b454-a878577240e9"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:24:17.250-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:17.251-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpsmkh3noy/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:24:17.256-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:24:17.256-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"db2a242c-cc0c-4f64-af47-8c539627263a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:17.256-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:24:17.256-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":10704,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:24:17.356-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:17.356-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:17.356-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:24:17.563-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:53852","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:17.567-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:53854","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:17.770-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:53860","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:17.775-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:53862","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:17.777-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:53864","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:17.787-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:53866","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:17.794-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:53868","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:17.794-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:53870","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:17.804-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"45c627bd-2f40-43e7-84ca-a981df0c2108"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:17.874-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:17.876-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f3d49e93-c5ec-483d-acee-4a688c58653d"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"45c627bd-2f40-43e7-84ca-a981df0c2108"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:24:17.907-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:17.907-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f3d49e93-c5ec-483d-acee-4a688c58653d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:17.907-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f3d49e93-c5ec-483d-acee-4a688c58653d"}}}}
{"t":{"$date":"2021-01-15T16:24:17.913-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6249b979-6e52-4341-910a-18dd1ec3c54a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:17.981-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:17.996-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bc7d3126-35bf-4209-a167-078a50a07680"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:18.067-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:24:18.093-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.094-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:24:14,468 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:14,468 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:14,469 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpsmkh3noy
2021-01-15 16:24:14,469 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:24:14,470 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:14,470 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:14,471 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:24:14,503 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=10704 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpsmkh3noy
2021-01-15 16:24:14,504 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:24:14,506 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:24:14,507 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10704
2021-01-15 16:24:15,121 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:24:15,122 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10704
2021-01-15 16:24:15,731 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:24:15,732 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10704
2021-01-15 16:24:16,341 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:24:16,342 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10704
2021-01-15 16:24:17,051 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:24:17,052 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10704
2021-01-15 16:24:17,761 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:24:17,762 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:10704
2021-01-15 16:24:17,787 DEBUG pytest_server_fixtures.base2 waited 0:00:03.281107 for server to start successfully
2021-01-15 16:24:17,788 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:24:17,789 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:24:17,989 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpsmkh3noy
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=10704 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpsmkh3noy
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10704
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10704
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10704
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10704
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10704
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:10704
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.281107 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T16:24:18.110-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"836b7bad-741c-47be-b407-b7262ba0a22a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:18.176-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.180-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2b34bdae-d4cd-436c-bb9c-3f6b6c58f3d4"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:18.275-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:24:18.287-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.287-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.287-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"54af583a-6f67-43cc-95f9-f535343138c4"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":107}}
{"t":{"$date":"2021-01-15T16:24:18.290-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"405ac079-a9f9-412e-917b-d2ec13568b7b"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"2b34bdae-d4cd-436c-bb9c-3f6b6c58f3d4"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:24:18.317-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.317-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"405ac079-a9f9-412e-917b-d2ec13568b7b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:18.317-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"405ac079-a9f9-412e-917b-d2ec13568b7b"}}}}
{"t":{"$date":"2021-01-15T16:24:18.320-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f3bce258-4545-4eca-93c6-5bd0ee8306ac"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:18.419-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.419-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.430-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"23c5c9a8-fd86-45f5-a85c-6f09f2b03da1"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:18.500-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.503-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7e0b367c-81b3-40ea-b006-7cf87466915a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:18.596-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.596-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.598-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c39d0782-7170-4ca7-926c-82f649560b67"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"7e0b367c-81b3-40ea-b006-7cf87466915a"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:24:18.629-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.630-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c39d0782-7170-4ca7-926c-82f649560b67"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:18.630-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c39d0782-7170-4ca7-926c-82f649560b67"}}}}
{"t":{"$date":"2021-01-15T16:24:18.632-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1a7b9752-3661-4d7d-95d5-1f65da118e15"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:18.725-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:18.725-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:24:18,765 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 16:24:18,774 DEBUG arctic.tickstore.tickstore 1 buckets in 0.002958: approx 33806626 ticks/sec
2021-01-15 16:24:18,784 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 16:24:18,792 DEBUG arctic.tickstore.tickstore 1 buckets in 0.002918: approx 34270047 ticks/sec
2021-01-15 16:24:18,809 INFO arctic.tickstore.tickstore Got data in 0.012998 secs, creating DataFrame...
2021-01-15 16:24:18,813 INFO arctic.tickstore.tickstore 6 rows in 0.016948 secs: 354 ticks/sec
2021-01-15 16:24:18,833 INFO arctic.tickstore.tickstore Got data in 0.015871 secs, creating DataFrame...
2021-01-15 16:24:18,837 INFO arctic.tickstore.tickstore 6 rows in 0.019697 secs: 304 ticks/sec
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.002958: approx 33806626 ticks/sec
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.002918: approx 34270047 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.012998 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.016948 secs: 354 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.015871 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.019697 secs: 304 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:24:18,957 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 12868 (total_procs_to_kill=1)
2021-01-15 16:24:18,957 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:24:18,959 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:24:18,973 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:24:18,975 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:18,975 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:18,976 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpsmkh3noy
2021-01-15 16:24:18,976 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:18,977 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 12868 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpsmkh3noy
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_ test_should_return_data_when_date_range_spans_libraries_even_if_one_returns_nothing _

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7faf807c9390>
arctic = <Arctic at 0x7fafc83790b8, connected to MongoClient(host=['127.168.91.69:8739'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_return_data_when_date_range_spans_libraries_even_if_one_returns_nothing(toplevel_tickstore, arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        tickstore_2010 = arctic['FEED_2010.LEVEL1']
        tickstore_2011 = arctic['FEED_2011.LEVEL1']
        toplevel_tickstore.add(DateRange(start=dt(2010, 1, 1), end=dt(2010, 12, 31, 23, 59, 59, 999000)), 'FEED_2010.LEVEL1')
        toplevel_tickstore.add(DateRange(start=dt(2011, 1, 1), end=dt(2011, 12, 31, 23, 59, 59, 999000)), 'FEED_2011.LEVEL1')
        dates = pd.date_range('20100101', periods=6, tz=mktz('Europe/London'))
        df_10 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2010.write('blah', df_10)
        dates = pd.date_range('20110201', periods=6, tz=mktz('Europe/London'))
        df_11 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2011.write('blah', df_11)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 2), end=dt(2011, 1, 4)), list('ABCD'))
        expected_df = df_10[1:]
>       assert_frame_equal(expected_df, res.tz_convert(mktz('Europe/London')))
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (5, 4)
E       [right]: (4, 4)

tests/integration/tickstore/test_toplevel.py:101: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:24:19.097-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:24:19.106-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:24:19.106-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:24:19.107-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":12925,"port":8739,"dbPath":"/tmp/tmpjuofheox","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:24:19.107-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:24:19.107-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:24:19.107-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":8739,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpjuofheox","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:24:19.109-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:24:19.109-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:24:21.272-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753061:272658][12925:0x7fbd0660fa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:24:21.272-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753061:272779][12925:0x7fbd0660fa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:24:21.320-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2211}}
{"t":{"$date":"2021-01-15T16:24:21.320-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:21.382-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:24:21.383-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:24:21.400-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:24:21.401-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"2e14f379-45fb-414d-b4b8-53a7fec63926"}},"options":{"uuid":{"$uuid":"2e14f379-45fb-414d-b4b8-53a7fec63926"}}}}
{"t":{"$date":"2021-01-15T16:24:21.472-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:21.473-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:24:21.473-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:24:21.475-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"82673994-614f-4c44-8b50-26c6a53559c9"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:24:21.537-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:21.538-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpjuofheox/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:24:21.543-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:24:21.543-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:24:21.543-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":8739,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:24:21.543-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0dc3fc6d-d851-4b24-81a4-b4280c870e65"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:21.577-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:48284","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:21.581-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:48286","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:21.582-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:48288","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:21.591-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:48290","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:21.597-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:48292","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:21.598-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:48294","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:21.607-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"867ad8a9-f169-49ff-b540-90d2df689502"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:21.672-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:21.672-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:21.672-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":129}}
{"t":{"$date":"2021-01-15T16:24:21.703-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:21.705-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b4fe81c2-ce9c-46ef-b4b4-d6dd0f23902d"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"867ad8a9-f169-49ff-b540-90d2df689502"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:24:21.732-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:21.732-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b4fe81c2-ce9c-46ef-b4b4-d6dd0f23902d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:21.732-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b4fe81c2-ce9c-46ef-b4b4-d6dd0f23902d"}}}}
{"t":{"$date":"2021-01-15T16:24:21.736-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f76b6137-3ea3-4841-b02a-2dafc4650c16"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:21.808-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:21.819-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1c2e53b2-0ee0-493f-8158-74f1d7cdd5ea"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:21.917-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:21.917-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:24:18,988 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:18,989 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:18,990 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpjuofheox
2021-01-15 16:24:18,990 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:24:18,991 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:18,991 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:18,992 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:24:19,024 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=8739 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpjuofheox
2021-01-15 16:24:19,025 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:24:19,027 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:24:19,028 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8739
2021-01-15 16:24:19,641 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:24:19,642 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8739
2021-01-15 16:24:20,251 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:24:20,251 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8739
2021-01-15 16:24:20,861 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:24:20,862 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8739
2021-01-15 16:24:21,570 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:24:21,570 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:8739
2021-01-15 16:24:21,591 DEBUG pytest_server_fixtures.base2 waited 0:00:02.563603 for server to start successfully
2021-01-15 16:24:21,592 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:24:21,594 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:24:21,813 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpjuofheox
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=8739 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpjuofheox
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8739
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8739
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8739
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8739
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:8739
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:02.563603 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T16:24:21.934-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cca6b41c-2e82-4867-a54a-9c2f70d6c07a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:21.994-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:21.996-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c862ad00-58fe-463f-9ea8-9c1a223bd96e"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:22.081-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:24:22.106-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:22.107-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:22.107-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"5638b887-aaee-459c-b5dc-b2b967607063"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":110}}
{"t":{"$date":"2021-01-15T16:24:22.109-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4da777a8-897e-468b-a562-b78bdb142b20"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"c862ad00-58fe-463f-9ea8-9c1a223bd96e"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:24:22.139-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:22.139-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4da777a8-897e-468b-a562-b78bdb142b20"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:22.139-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4da777a8-897e-468b-a562-b78bdb142b20"}}}}
{"t":{"$date":"2021-01-15T16:24:22.141-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a4e5a196-7891-431a-afc9-c35dd5eda88b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:22.239-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:22.239-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:22.249-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6c317830-eb39-466f-bf2e-1d2f056373e6"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:22.316-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:22.319-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c18d99fa-84cf-41ba-b871-de8f0b8f5bac"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:22.410-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:22.410-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:22.412-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"91e0946d-50a9-4e96-92b8-b1faaf0ceab4"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"c18d99fa-84cf-41ba-b871-de8f0b8f5bac"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:24:22.438-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:22.438-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"91e0946d-50a9-4e96-92b8-b1faaf0ceab4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:22.438-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"91e0946d-50a9-4e96-92b8-b1faaf0ceab4"}}}}
{"t":{"$date":"2021-01-15T16:24:22.440-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bb107f8d-11f5-4f80-9eed-67962da8f3c7"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:22.529-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:22.529-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:24:22,564 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 16:24:22,573 DEBUG arctic.tickstore.tickstore 1 buckets in 0.003151: approx 31735956 ticks/sec
2021-01-15 16:24:22,581 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-15 16:24:22,588 DEBUG arctic.tickstore.tickstore 1 buckets in 0.002557: approx 39108330 ticks/sec
2021-01-15 16:24:22,607 INFO arctic.tickstore.tickstore Got data in 0.014049 secs, creating DataFrame...
2021-01-15 16:24:22,610 INFO arctic.tickstore.tickstore 6 rows in 0.017508 secs: 342 ticks/sec
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.003151: approx 31735956 ticks/sec
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.002557: approx 39108330 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.014049 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.017508 secs: 342 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:24:22,718 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 12925 (total_procs_to_kill=1)
2021-01-15 16:24:22,719 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:24:22,721 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:24:22,735 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:24:22,736 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:22,736 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:22,737 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpjuofheox
2021-01-15 16:24:22,737 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:22,737 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 12925 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpjuofheox
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_ test_should_add_underlying_library_where_another_library_exists_in_a_non_overlapping_daterange _

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7faf80679358>
arctic = <Arctic at 0x7faf80679a58, connected to MongoClient(host=['127.168.91.69:17810'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_add_underlying_library_where_another_library_exists_in_a_non_overlapping_daterange(toplevel_tickstore, arctic):
        toplevel_tickstore._collection.insert_one({'library_name': 'FEED_2011.LEVEL1', 'start': dt(2011, 1, 1), 'end': dt(2011, 12, 31)})
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
>       toplevel_tickstore.add(DateRange(start=dt(2010, 1, 1), end=dt(2010, 12, 31, 23, 59, 59, 999000)), 'FEED_2010.LEVEL1')

tests/integration/tickstore/test_toplevel.py:113: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7faf80679358>
date_range = DateRange(start=datetime.datetime(2010, 1, 1, 0, 0), end=datetime.datetime(2010, 12, 31, 23, 59, 59, 999000))
library_name = 'FEED_2010.LEVEL1'

        def add(self, date_range, library_name):
            """
            Adds the library with the given date range to the underlying collection of libraries used by this store.
            The underlying libraries should not overlap as the date ranges are assumed to be CLOSED_CLOSED by this function
            and the rest of the class.
    
            Arguments:
    
            date_range: A date range provided on the assumption that it is CLOSED_CLOSED. If for example the underlying
            libraries were split by year, the start of the date range would be datetime.datetime(year, 1, 1) and the end
            would be datetime.datetime(year, 12, 31, 23, 59, 59, 999000). The date range must fall on UTC day boundaries,
            that is the start must be add midnight and the end must be 1 millisecond before midnight.
    
            library_name: The name of the underlying library. This must be the name of a valid Arctic library
            """
            # check that the library is valid
            try:
                self._arctic_lib.arctic[library_name]
            except Exception as e:
                logger.error("Could not load library")
                raise e
            assert date_range.start and date_range.end, "Date range should have start and end properties {}".format(date_range)
            start = date_range.start.astimezone(mktz('UTC')) if date_range.start.tzinfo is not None else date_range.start.replace(tzinfo=mktz('UTC'))
            end = date_range.end.astimezone(mktz('UTC')) if date_range.end.tzinfo is not None else date_range.end.replace(tzinfo=mktz('UTC'))
            assert start.time() == time.min and end.time() == end_time_min, "Date range should fall on UTC day boundaries {}".format(date_range)
            # check that the date range does not overlap
            library_metadata = self._get_library_metadata(date_range)
            if len(library_metadata) > 1 or (len(library_metadata) == 1 and library_metadata[0] != library_name):
                raise OverlappingDataException("""There are libraries that overlap with the date range:
    library: {}
>   overlapping libraries: {}""".format(library_name, [lib.library for lib in library_metadata]))
E   arctic.exceptions.OverlappingDataException: There are libraries that overlap with the date range:
E   library: FEED_2010.LEVEL1
E   overlapping libraries: ['FEED_2011.LEVEL1']

arctic/tickstore/toplevel.py:101: OverlappingDataException
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:24:26.894-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:24:26.905-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:24:26.905-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:24:26.906-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":13034,"port":17810,"dbPath":"/tmp/tmpl7iaibu9","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:24:26.906-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:24:26.906-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:24:26.906-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":17810,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpl7iaibu9","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:24:26.908-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:24:26.908-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:24:29.223-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753069:223829][13034:0x7f05cf4e5a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:24:29.223-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753069:223956][13034:0x7f05cf4e5a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:24:29.271-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2363}}
{"t":{"$date":"2021-01-15T16:24:29.271-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:29.335-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:24:29.335-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:24:29.354-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:24:29.355-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"8010516b-7846-4e79-9a49-772f0077c5f2"}},"options":{"uuid":{"$uuid":"8010516b-7846-4e79-9a49-772f0077c5f2"}}}}
{"t":{"$date":"2021-01-15T16:24:29.420-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:29.421-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:24:29.421-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:24:29.423-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6a3d3cbe-3f26-4c91-8062-63f6b6996972"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:24:29.488-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:29.488-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpl7iaibu9/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:24:29.493-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:24:29.493-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:24:29.493-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":17810,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:24:29.493-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e7de74b8-af9e-477d-83fa-7b85d0622e83"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:29.593-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:29.594-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:29.594-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:24:29.886-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:54338","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:29.890-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:54340","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:30.098-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:54342","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:30.102-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:54344","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:30.102-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:54346","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:30.112-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:54348","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:30.119-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:54350","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:30.120-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:54352","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:24:30.129-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f8463626-5ca0-499a-8c16-0d72eb0e1e65"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:30.199-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:30.201-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f30616cc-8392-43e8-b668-93741b18a88e"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"f8463626-5ca0-499a-8c16-0d72eb0e1e65"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:24:30.231-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:30.231-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f30616cc-8392-43e8-b668-93741b18a88e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:30.231-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f30616cc-8392-43e8-b668-93741b18a88e"}}}}
{"t":{"$date":"2021-01-15T16:24:30.236-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"33604077-472d-46e9-9153-fc2a0dadc88c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:30.303-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:30.315-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"33212fc5-9cec-4760-bbbe-93ffd1b3a773"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:30.390-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:24:30.448-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:30.448-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:30.448-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.toplevel_tickstore","command":{"createIndexes":"toplevel_tickstore","indexes":[{"background":true,"name":"start_1","key":{"start":1}}],"lsid":{"id":{"$uuid":"acf89253-9fc2-43f0-89fc-902cb612a7a2"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":133}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:24:26,792 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:26,793 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:26,793 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpl7iaibu9
2021-01-15 16:24:26,794 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:24:26,794 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:26,794 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:26,795 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:24:26,825 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=17810 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpl7iaibu9
2021-01-15 16:24:26,826 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:24:26,828 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:24:26,828 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17810
2021-01-15 16:24:27,441 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:24:27,441 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17810
2021-01-15 16:24:28,050 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:24:28,050 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17810
2021-01-15 16:24:28,665 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:24:28,666 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17810
2021-01-15 16:24:29,375 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:24:29,376 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17810
2021-01-15 16:24:30,085 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:24:30,085 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:17810
2021-01-15 16:24:30,114 DEBUG pytest_server_fixtures.base2 waited 0:00:03.286503 for server to start successfully
2021-01-15 16:24:30,116 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:24:30,117 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-15 16:24:30,308 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpl7iaibu9
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=17810 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpl7iaibu9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17810
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17810
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17810
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17810
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17810
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:17810
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.286503 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T16:24:30.469-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"43b0d2a3-a7be-4f2d-9b17-4c2aaf7f8e21"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:30.534-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:30.537-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"34226d1d-ed39-4cac-bc8a-3dda34b5e3a4"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:30.601-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-15T16:24:30.643-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:30.643-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:30.643-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"acf89253-9fc2-43f0-89fc-902cb612a7a2"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":106}}
{"t":{"$date":"2021-01-15T16:24:30.645-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8190e821-0cb6-4284-ace3-bf83caaf317c"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"34226d1d-ed39-4cac-bc8a-3dda34b5e3a4"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:24:30.672-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:30.672-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8190e821-0cb6-4284-ace3-bf83caaf317c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:24:30.672-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8190e821-0cb6-4284-ace3-bf83caaf317c"}}}}
{"t":{"$date":"2021-01-15T16:24:30.674-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2bfaabc3-2629-4d3c-80e9-50ea08f68872"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:24:30.771-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:24:30.771-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:24:30,904 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 13034 (total_procs_to_kill=1)
2021-01-15 16:24:30,905 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:24:30,906 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:24:30,921 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:24:30,922 DEBUG pytest_shutil.workspace 
2021-01-15 16:24:30,923 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:30,923 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpl7iaibu9
2021-01-15 16:24:30,923 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:24:30,924 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 13034 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpl7iaibu9
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
________________ test_should_write_top_level_with_list_of_dicts ________________

arctic = <Arctic at 0x7fafc810ae48, connected to MongoClient(host=['127.168.91.69:13035'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_write_top_level_with_list_of_dicts(arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED.LEVEL1', toplevel.TICK_STORE_TYPE)
        toplevel_tickstore = arctic['FEED.LEVEL1']
        dates = pd.date_range('20101201', periods=57, tz=mktz('Europe/London'))
        data = [{'index': dates[i], 'a': i} for i in range(len(dates))]
        expected = pd.DataFrame(np.arange(57, dtype=np.float64), index=dates, columns=list('a'))
        toplevel_tickstore.write('blah', data)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 12, 1), end=dt(2011, 2, 1)), columns=list('a'))
>       assert_frame_equal(expected, res.tz_convert(mktz('Europe/London')))
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (57, 1)
E       [right]: (55, 1)

tests/integration/tickstore/test_toplevel.py:197: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:25:01.631-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:25:01.638-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:25:01.638-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:25:01.639-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":13504,"port":13035,"dbPath":"/tmp/tmp9sdodo_b","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:25:01.639-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:25:01.639-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:25:01.639-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":13035,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp9sdodo_b","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:25:01.641-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:25:01.641-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:25:03.956-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753103:956876][13504:0x7fa50a096a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:25:03.957-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753103:957002][13504:0x7fa50a096a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:25:04.004-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2363}}
{"t":{"$date":"2021-01-15T16:25:04.004-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:04.064-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:25:04.064-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:25:04.085-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:25:04.086-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"4b816dd2-11a4-40cb-9651-1042fb898aa9"}},"options":{"uuid":{"$uuid":"4b816dd2-11a4-40cb-9651-1042fb898aa9"}}}}
{"t":{"$date":"2021-01-15T16:25:04.155-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:04.155-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:25:04.156-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:25:04.158-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"325855c4-7d5e-413d-a21f-150269d819a9"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:25:04.221-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:04.221-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp9sdodo_b/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:25:04.226-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:25:04.226-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:25:04.227-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":13035,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:25:04.227-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"db046ce9-e0cd-4cd3-949a-6325c263ec49"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:04.324-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:04.324-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:04.626-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:57312","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:04.629-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:57314","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:04.831-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:57316","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:04.835-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:57318","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:04.835-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:57320","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:04.844-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:57322","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:04.849-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:57324","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:04.850-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:57326","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:04.861-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b735e690-3f29-4dbd-8457-d091523b9e82"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:04.929-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:04.931-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5879db0a-0511-430c-a74a-b354ef9be718"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"b735e690-3f29-4dbd-8457-d091523b9e82"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:25:04.962-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:04.962-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5879db0a-0511-430c-a74a-b354ef9be718"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:25:04.962-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5879db0a-0511-430c-a74a-b354ef9be718"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:25:01,530 DEBUG pytest_shutil.workspace 
2021-01-15 16:25:01,530 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:25:01,531 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp9sdodo_b
2021-01-15 16:25:01,531 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:25:01,532 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:25:01,532 DEBUG pytest_shutil.workspace 
2021-01-15 16:25:01,533 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:25:01,561 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=13035 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp9sdodo_b
2021-01-15 16:25:01,563 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:25:01,564 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:25:01,565 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:13035
2021-01-15 16:25:02,177 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:25:02,178 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:13035
2021-01-15 16:25:02,790 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:25:02,791 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:13035
2021-01-15 16:25:03,402 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:25:03,402 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:13035
2021-01-15 16:25:04,112 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:25:04,113 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:13035
2021-01-15 16:25:04,824 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:25:04,825 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:13035
2021-01-15 16:25:04,843 DEBUG pytest_server_fixtures.base2 waited 0:00:03.279125 for server to start successfully
2021-01-15 16:25:04,844 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:25:04,845 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp9sdodo_b
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=13035 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp9sdodo_b
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:13035
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:13035
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:13035
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:13035
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:13035
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:13035
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.279125 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T16:25:04.969-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"32a60758-c934-47f0-9ee8-fdbd7c7143bf"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:05.038-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.041-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"328bc06e-c05f-44a7-a964-6ec4f38d3ef0"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:05.129-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:25:05.160-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.160-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.160-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"8223ef5a-c448-44ff-bac4-e04daec55194"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":118}}
{"t":{"$date":"2021-01-15T16:25:05.162-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"083079b8-c80e-4241-ba41-586c4022a075"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"328bc06e-c05f-44a7-a964-6ec4f38d3ef0"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:25:05.195-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.196-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"083079b8-c80e-4241-ba41-586c4022a075"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:25:05.196-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"083079b8-c80e-4241-ba41-586c4022a075"}}}}
{"t":{"$date":"2021-01-15T16:25:05.198-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"32556bea-fbfb-4daf-a43f-3d8aec0300c7"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:05.295-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.295-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.306-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b37fa4f3-de4f-420f-b3f7-a50f60906096"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:05.335-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:25:05.373-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.375-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"91cc8472-a7dc-4ccb-b3df-06583770e076"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:05.474-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.474-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.476-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"238311b6-8819-4735-b546-6d7901872f1b"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"91cc8472-a7dc-4ccb-b3df-06583770e076"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:25:05.509-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.509-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"238311b6-8819-4735-b546-6d7901872f1b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:25:05.509-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"238311b6-8819-4735-b546-6d7901872f1b"}}}}
{"t":{"$date":"2021-01-15T16:25:05.511-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6e252772-2194-4243-88e7-c19937d5dc34"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:05.612-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.612-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.612-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2011.LEVEL1.metadata","command":{"createIndexes":"LEVEL1.metadata","indexes":[{"background":true,"unique":true,"name":"sy_1","key":{"sy":1}}],"lsid":{"id":{"$uuid":"8223ef5a-c448-44ff-bac4-e04daec55194"}},"$db":"arctic_FEED_2011","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-15T16:25:05.628-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"af55f2fd-6783-4c2f-ac24-0407811522ca"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:05.686-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.704-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"90297202-604b-408b-8786-4a61f4482d2a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:05.767-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.779-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a73272af-e79f-4b83-af7e-f525a11d811c"}},"namespace":"arctic_FEED.LEVEL1","collectionUUID":{"uuid":{"$uuid":"90297202-604b-408b-8786-4a61f4482d2a"}},"indexes":1,"firstIndex":{"name":"start_1"}}}
{"t":{"$date":"2021-01-15T16:25:05.847-07:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"namespace":"arctic_FEED.LEVEL1","buildUUID":null,"properties":{"v":2,"key":{"start":1},"name":"start_1","background":true},"method":"Hybrid","maxTemporaryMemoryUsageMB":200}}
{"t":{"$date":"2021-01-15T16:25:05.848-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a73272af-e79f-4b83-af7e-f525a11d811c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:25:05.848-07:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"totalRecords":2,"durationMillis":0}}
{"t":{"$date":"2021-01-15T16:25:05.852-07:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"arctic_FEED.LEVEL1","index":"start_1","keysInserted":2,"durationMillis":0}}
{"t":{"$date":"2021-01-15T16:25:05.857-07:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"a73272af-e79f-4b83-af7e-f525a11d811c"}}}}
{"t":{"$date":"2021-01-15T16:25:05.857-07:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"a73272af-e79f-4b83-af7e-f525a11d811c"}},"action":"Single-phase commit"}}
{"t":{"$date":"2021-01-15T16:25:05.858-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:05.872-07:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"a73272af-e79f-4b83-af7e-f525a11d811c"}},"namespace":"arctic_FEED.LEVEL1","uuid":{"uuid":{"$uuid":"90297202-604b-408b-8786-4a61f4482d2a"}},"indexesBuilt":1,"numIndexesBefore":1,"numIndexesAfter":2}}
{"t":{"$date":"2021-01-15T16:25:05.872-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a73272af-e79f-4b83-af7e-f525a11d811c"}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:25:05,934 DEBUG arctic.tickstore.tickstore 1 buckets in 0.004768: approx 20973154 ticks/sec
2021-01-15 16:25:05,957 DEBUG arctic.tickstore.tickstore 1 buckets in 0.003596: approx 27808676 ticks/sec
2021-01-15 16:25:05,983 INFO arctic.tickstore.tickstore Got data in 0.01916 secs, creating DataFrame...
2021-01-15 16:25:05,987 INFO arctic.tickstore.tickstore 31 rows in 0.02292 secs: 1352 ticks/sec
2021-01-15 16:25:06,011 INFO arctic.tickstore.tickstore Got data in 0.017687 secs, creating DataFrame...
2021-01-15 16:25:06,016 INFO arctic.tickstore.tickstore 26 rows in 0.022439 secs: 1158 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.004768: approx 20973154 ticks/sec
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.003596: approx 27808676 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.01916 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 31 rows in 0.02292 secs: 1352 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.017687 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 26 rows in 0.022439 secs: 1158 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:25:06,192 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 13504 (total_procs_to_kill=1)
2021-01-15 16:25:06,193 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:25:06,195 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:25:06,210 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:25:06,211 DEBUG pytest_shutil.workspace 
2021-01-15 16:25:06,212 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:25:06,213 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp9sdodo_b
2021-01-15 16:25:06,213 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:25:06,213 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 13504 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp9sdodo_b
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
______________ test_should_write_top_level_with_correct_timezone _______________

arctic = <Arctic at 0x7faf7e52f2b0, connected to MongoClient(host=['127.168.91.69:28328'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_write_top_level_with_correct_timezone(arctic):
        # Write timezone aware data and read back in UTC
        utc = mktz('UTC')
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED.LEVEL1', toplevel.TICK_STORE_TYPE)
        toplevel_tickstore = arctic['FEED.LEVEL1']
        dates = pd.date_range('20101230220000', periods=10, tz=mktz('America/New_York'))  # 10pm New York time is 3am next day UTC
        data = [{'index': dates[i], 'a': i} for i in range(len(dates))]
        expected = pd.DataFrame(np.arange(len(dates), dtype=np.float64), index=dates.tz_convert(utc), columns=list('a'))
        toplevel_tickstore.write('blah', data)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 1), end=dt(2011, 12, 31)), columns=list('a')).tz_convert(utc)
>       assert_frame_equal(expected, res)
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (10, 1)
E       [right]: (9, 1)

tests/integration/tickstore/test_toplevel.py:215: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:25:06.350-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:25:06.359-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:25:06.359-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:25:06.360-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":13596,"port":28328,"dbPath":"/tmp/tmp0trja2ko","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:25:06.360-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:25:06.360-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:25:06.360-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":28328,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp0trja2ko","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:25:06.362-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:25:06.362-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:25:08.795-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753108:795770][13596:0x7ff09328ea80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:25:08.795-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753108:795914][13596:0x7ff09328ea80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:25:08.844-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2481}}
{"t":{"$date":"2021-01-15T16:25:08.844-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:08.909-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:25:08.909-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:25:08.928-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:25:08.930-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"fdd531c6-4eee-4565-bdfc-1415653da577"}},"options":{"uuid":{"$uuid":"fdd531c6-4eee-4565-bdfc-1415653da577"}}}}
{"t":{"$date":"2021-01-15T16:25:08.999-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:09.000-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:25:09.001-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:25:09.003-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e8c1a712-0bf9-42a5-b71b-1791b3c7faa2"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:25:09.071-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:09.072-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp0trja2ko/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:25:09.076-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"765db7f1-8e67-4710-9f70-fddeb586d422"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:09.076-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:25:09.076-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:25:09.077-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":28328,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:25:09.179-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:09.180-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:09.180-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":104}}
{"t":{"$date":"2021-01-15T16:25:09.348-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:58440","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:09.352-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:58442","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:09.558-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:58444","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:09.563-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:58446","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:09.564-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:58448","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:09.576-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:58450","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:09.585-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:58452","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:09.587-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:58454","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:25:09.599-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d2ea0481-a650-46ce-b2c1-ab90f13e48d9"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:09.673-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:09.675-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d2f0885a-e85f-44cb-a4e2-e2acd9003ca5"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"d2ea0481-a650-46ce-b2c1-ab90f13e48d9"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:25:09.705-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:09.705-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d2f0885a-e85f-44cb-a4e2-e2acd9003ca5"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:25:09.706-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d2f0885a-e85f-44cb-a4e2-e2acd9003ca5"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:25:06,225 DEBUG pytest_shutil.workspace 
2021-01-15 16:25:06,226 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:25:06,227 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp0trja2ko
2021-01-15 16:25:06,227 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:25:06,227 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:25:06,228 DEBUG pytest_shutil.workspace 
2021-01-15 16:25:06,229 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:25:06,268 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=28328 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp0trja2ko
2021-01-15 16:25:06,270 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:25:06,272 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:25:06,272 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:28328
2021-01-15 16:25:06,893 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:25:06,894 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:28328
2021-01-15 16:25:07,506 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:25:07,507 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:28328
2021-01-15 16:25:08,119 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:25:08,120 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:28328
2021-01-15 16:25:08,835 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:25:08,836 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:28328
2021-01-15 16:25:09,547 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:25:09,548 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:28328
2021-01-15 16:25:09,576 DEBUG pytest_server_fixtures.base2 waited 0:00:03.304811 for server to start successfully
2021-01-15 16:25:09,577 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:25:09,582 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp0trja2ko
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=28328 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp0trja2ko
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:28328
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:28328
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:28328
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:28328
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:28328
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:28328
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.304811 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T16:25:09.714-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6552a7e8-3e2f-497c-acdd-16975cad8155"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:09.785-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:09.788-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"34d6098b-60bf-4d73-b129-48a460757589"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:09.852-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:25:09.889-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:09.889-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:09.889-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"2f3d1f66-11d5-4e5b-82ce-d793c0dbb71e"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":101}}
{"t":{"$date":"2021-01-15T16:25:09.892-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"89426347-22c0-4702-af4e-6cbc3350e1ff"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"34d6098b-60bf-4d73-b129-48a460757589"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:25:09.928-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:09.928-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"89426347-22c0-4702-af4e-6cbc3350e1ff"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:25:09.928-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"89426347-22c0-4702-af4e-6cbc3350e1ff"}}}}
{"t":{"$date":"2021-01-15T16:25:09.930-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1b12d6da-eace-46c3-894d-ec32f57c241e"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:10.051-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.051-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.052-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1.metadata","command":{"createIndexes":"LEVEL1.metadata","indexes":[{"background":true,"unique":true,"name":"sy_1","key":{"sy":1}}],"lsid":{"id":{"$uuid":"2f3d1f66-11d5-4e5b-82ce-d793c0dbb71e"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":3},"storage":{},"protocol":"op_msg","durationMillis":121}}
{"t":{"$date":"2021-01-15T16:25:10.066-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-15T16:25:10.069-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d7ba9cb3-b82f-45a5-8602-f9c205e89371"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:10.129-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.133-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4df3c75e-2350-4e7b-80cf-81a6ee44d75e"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:10.238-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.238-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.239-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2011.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"2f3d1f66-11d5-4e5b-82ce-d793c0dbb71e"}},"$db":"arctic_FEED_2011","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":105}}
{"t":{"$date":"2021-01-15T16:25:10.241-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"efe34804-eadf-40d7-aa2f-2d4d8727f381"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"4df3c75e-2350-4e7b-80cf-81a6ee44d75e"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:25:10.279-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.279-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"efe34804-eadf-40d7-aa2f-2d4d8727f381"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:25:10.279-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"efe34804-eadf-40d7-aa2f-2d4d8727f381"}}}}
{"t":{"$date":"2021-01-15T16:25:10.282-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6516df6c-449a-4f56-9392-4903588d6363"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:10.379-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.379-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.390-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bd04dbc9-745e-41ea-961e-7299508bde7b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:10.453-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.469-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"aa369487-6ba5-4a61-9674-6966a7970587"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:25:10.533-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.545-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"44a71a29-2438-4300-bdbe-c934bf2b8c02"}},"namespace":"arctic_FEED.LEVEL1","collectionUUID":{"uuid":{"$uuid":"aa369487-6ba5-4a61-9674-6966a7970587"}},"indexes":1,"firstIndex":{"name":"start_1"}}}
{"t":{"$date":"2021-01-15T16:25:10.611-07:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"namespace":"arctic_FEED.LEVEL1","buildUUID":null,"properties":{"v":2,"key":{"start":1},"name":"start_1","background":true},"method":"Hybrid","maxTemporaryMemoryUsageMB":200}}
{"t":{"$date":"2021-01-15T16:25:10.611-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"44a71a29-2438-4300-bdbe-c934bf2b8c02"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:25:10.611-07:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"totalRecords":2,"durationMillis":0}}
{"t":{"$date":"2021-01-15T16:25:10.613-07:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"arctic_FEED.LEVEL1","index":"start_1","keysInserted":2,"durationMillis":0}}
{"t":{"$date":"2021-01-15T16:25:10.617-07:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"44a71a29-2438-4300-bdbe-c934bf2b8c02"}}}}
{"t":{"$date":"2021-01-15T16:25:10.617-07:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"44a71a29-2438-4300-bdbe-c934bf2b8c02"}},"action":"Single-phase commit"}}
{"t":{"$date":"2021-01-15T16:25:10.617-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:25:10.630-07:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"44a71a29-2438-4300-bdbe-c934bf2b8c02"}},"namespace":"arctic_FEED.LEVEL1","uuid":{"uuid":{"$uuid":"aa369487-6ba5-4a61-9674-6966a7970587"}},"indexesBuilt":1,"numIndexesBefore":1,"numIndexesAfter":2}}
{"t":{"$date":"2021-01-15T16:25:10.631-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"44a71a29-2438-4300-bdbe-c934bf2b8c02"}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:25:10,664 DEBUG arctic.tickstore.tickstore 1 buckets in 0.003492: approx 28636884 ticks/sec
2021-01-15 16:25:10,677 DEBUG arctic.tickstore.tickstore 1 buckets in 0.003475: approx 28776978 ticks/sec
2021-01-15 16:25:10,697 INFO arctic.tickstore.tickstore Got data in 0.011194 secs, creating DataFrame...
2021-01-15 16:25:10,700 INFO arctic.tickstore.tickstore 1 rows in 0.014473 secs: 69 ticks/sec
2021-01-15 16:25:10,718 INFO arctic.tickstore.tickstore Got data in 0.013153 secs, creating DataFrame...
2021-01-15 16:25:10,723 INFO arctic.tickstore.tickstore 9 rows in 0.018492 secs: 486 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.003492: approx 28636884 ticks/sec
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.003475: approx 28776978 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.011194 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 1 rows in 0.014473 secs: 69 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.013153 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 9 rows in 0.018492 secs: 486 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:25:10,847 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 13596 (total_procs_to_kill=1)
2021-01-15 16:25:10,848 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:25:10,849 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:25:10,864 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:25:10,864 DEBUG pytest_shutil.workspace 
2021-01-15 16:25:10,865 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:25:10,865 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp0trja2ko
2021-01-15 16:25:10,866 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:25:10,866 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 13596 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp0trja2ko
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
__________________________ test_date_range[tickstore] __________________________

tickstore_lib = <TickStore at 0x7fafc80af6d8>
    <ArcticLibrary at 0x7fafc80af2b0, arctic_test.tickstore>
        <Arctic at 0x7fafc80d4f28, connected to MongoClient(host=['127.168.91.69:25250'], document_class=dict, tz_aware=False, connect=True)>

    def test_date_range(tickstore_lib):
        tickstore_lib.write('SYM', DUMMY_DATA)
        df = tickstore_lib.read('SYM', date_range=DateRange(20130101, 20130103), columns=None)
>       assert_array_equal(df['a'].values, np.array([1, np.nan, np.nan]))
E       AssertionError: 
E       Arrays are not equal
E       
E       (shapes (2,), (3,) mismatch)
E        x: array([nan, nan])
E        y: array([ 1., nan, nan])

tests/integration/tickstore/test_ts_read.py:233: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:26:04.713-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:26:04.720-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:26:04.720-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:26:04.721-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":14443,"port":25250,"dbPath":"/tmp/tmp254b20ua","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:26:04.721-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:26:04.722-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:26:04.722-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":25250,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp254b20ua","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:26:04.724-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:26:04.724-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:26:06.786-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753166:786393][14443:0x7fab9c369a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:26:06.786-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753166:786537][14443:0x7fab9c369a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:26:06.834-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2110}}
{"t":{"$date":"2021-01-15T16:26:06.834-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:06.897-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:26:06.898-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:26:06.916-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:26:06.917-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"f4511b3a-8175-4ab8-b649-1551e57590a5"}},"options":{"uuid":{"$uuid":"f4511b3a-8175-4ab8-b649-1551e57590a5"}}}}
{"t":{"$date":"2021-01-15T16:26:06.987-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:06.988-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:26:06.988-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:26:06.990-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2048a81f-b5c7-4015-86d6-032fe3e92b5e"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:26:07.058-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.058-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp254b20ua/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:26:07.063-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:26:07.063-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:26:07.063-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":25250,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:26:07.063-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e1f1148b-5133-489c-b836-09e854b3403e"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:07.159-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.159-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.188-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:45004","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:07.193-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:45006","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:07.195-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:45008","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:07.209-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:45010","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:07.213-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:45012","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:07.214-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:45014","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:07.224-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"57251b1c-9537-4817-ba93-3138f8e8b017"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:07.296-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.298-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"dab13c02-5741-41c1-bae5-4564bca7ddb9"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"57251b1c-9537-4817-ba93-3138f8e8b017"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:26:07.325-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.325-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"dab13c02-5741-41c1-bae5-4564bca7ddb9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:26:07.325-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"dab13c02-5741-41c1-bae5-4564bca7ddb9"}}}}
{"t":{"$date":"2021-01-15T16:26:07.331-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"819d1411-5735-4ea5-9de0-8c08711c7f11"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:07.404-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.406-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3b0e0685-5ad6-48d9-95aa-342d6957f049"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:07.502-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.502-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.504-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c65f68fe-5a1e-44d8-8b1c-283b31fe596f"}},"namespace":"arctic_test.tickstore","collectionUUID":{"uuid":{"$uuid":"3b0e0685-5ad6-48d9-95aa-342d6957f049"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:26:07.538-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.538-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c65f68fe-5a1e-44d8-8b1c-283b31fe596f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:26:07.538-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c65f68fe-5a1e-44d8-8b1c-283b31fe596f"}}}}
{"t":{"$date":"2021-01-15T16:26:07.540-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bdf15301-f98f-4ea2-9e06-63976255017c"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:07.653-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.653-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:07.653-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.tickstore.metadata","command":{"createIndexes":"tickstore.metadata","indexes":[{"background":true,"unique":true,"name":"sy_1","key":{"sy":1}}],"lsid":{"id":{"$uuid":"3baaa266-61ad-416e-b7f0-3ff7f2d9a70a"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":3},"storage":{},"protocol":"op_msg","durationMillis":113}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:26:04,603 DEBUG pytest_shutil.workspace 
2021-01-15 16:26:04,603 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:04,604 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp254b20ua
2021-01-15 16:26:04,605 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:26:04,605 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:04,605 DEBUG pytest_shutil.workspace 
2021-01-15 16:26:04,606 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:26:04,636 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=25250 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp254b20ua
2021-01-15 16:26:04,637 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:26:04,638 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:26:04,639 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:25250
2021-01-15 16:26:05,254 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:26:05,255 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:25250
2021-01-15 16:26:05,864 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:26:05,864 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:25250
2021-01-15 16:26:06,472 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:26:06,472 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:25250
2021-01-15 16:26:07,181 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:26:07,182 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:25250
2021-01-15 16:26:07,206 DEBUG pytest_server_fixtures.base2 waited 0:00:02.567658 for server to start successfully
2021-01-15 16:26:07,207 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:26:07,208 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp254b20ua
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=25250 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp254b20ua
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:25250
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:25250
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:25250
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:25250
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:25250
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:02.567658 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T16:26:07.693-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:26:07,673 DEBUG arctic.tickstore.tickstore 1 buckets in 0.002418: approx 41356492 ticks/sec
2021-01-15 16:26:07,688 INFO arctic.tickstore.tickstore Got data in 0.013511 secs, creating DataFrame...
2021-01-15 16:26:07,692 INFO arctic.tickstore.tickstore 5 rows in 0.017711 secs: 282 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.002418: approx 41356492 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.013511 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 5 rows in 0.017711 secs: 282 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:26:07,825 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 14443 (total_procs_to_kill=1)
2021-01-15 16:26:07,826 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:26:07,827 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:26:07,842 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:26:07,842 DEBUG pytest_shutil.workspace 
2021-01-15 16:26:07,843 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:07,843 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp254b20ua
2021-01-15 16:26:07,843 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:07,844 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 14443 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp254b20ua
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_________________ test_date_range_end_not_in_range[tickstore] __________________

tickstore_lib = <TickStore at 0x7fafc83f9128>
    <ArcticLibrary at 0x7faf7f669e10, arctic_test.tickstore>
        <Arctic at 0x7faf7e52fe48, connected to MongoClient(host=['127.168.91.69:12439'], document_class=dict, tz_aware=False, connect=True)>

    def test_date_range_end_not_in_range(tickstore_lib):
        DUMMY_DATA = [
                      {'a': 1.,
                       'b': 2.,
                       'index': dt(2013, 1, 1, tzinfo=mktz('Europe/London'))
                       },
                      {'b': 3.,
                       'c': 4.,
                       'index': dt(2013, 1, 2, 10, 1, tzinfo=mktz('Europe/London'))
                       },
                      ]
    
        tickstore_lib._chunk_size = 1
        tickstore_lib.write('SYM', DUMMY_DATA)
        with patch.object(tickstore_lib._collection, 'find', side_effect=tickstore_lib._collection.find) as f:
            df = tickstore_lib.read('SYM', date_range=DateRange(20130101, dt(2013, 1, 2, 9, 0)), columns=None)
>           assert_array_equal(df['b'].values, np.array([2.]))
E           AssertionError: 
E           Arrays are not equal
E           
E           Mismatched elements: 1 / 1 (100%)
E           Max absolute difference: 1.
E           Max relative difference: 0.5
E            x: array([3.])
E            y: array([2.])

tests/integration/tickstore/test_ts_read.py:299: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:26:07.952-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:26:07.965-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:26:07.965-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:26:07.966-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":14495,"port":12439,"dbPath":"/tmp/tmpjlu57lfl","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:26:07.966-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:26:07.966-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:26:07.966-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":12439,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpjlu57lfl","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:26:07.968-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:26:07.968-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:26:10.342-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753170:342286][14495:0x7f11bc83aa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:26:10.342-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753170:342413][14495:0x7f11bc83aa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:26:10.391-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2423}}
{"t":{"$date":"2021-01-15T16:26:10.391-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:10.456-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:26:10.456-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:26:10.475-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:26:10.476-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"15c9ef6d-211f-445b-af47-565d93f1dc97"}},"options":{"uuid":{"$uuid":"15c9ef6d-211f-445b-af47-565d93f1dc97"}}}}
{"t":{"$date":"2021-01-15T16:26:10.541-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:10.541-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:26:10.542-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:26:10.543-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1460a43a-fe99-488a-8a10-0bf3aec5650a"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:26:10.609-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:10.609-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpjlu57lfl/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:26:10.613-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:26:10.613-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:26:10.613-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":12439,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:26:10.613-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3f3e475f-dfab-467f-b6f7-8d2392242297"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:10.712-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:10.713-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:10.952-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:57434","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:10.955-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:57436","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:11.159-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:57438","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:11.162-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:57440","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:11.164-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:57442","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:11.172-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:57444","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:11.178-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:57446","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:11.178-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:57448","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:11.187-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a88088cc-35e7-4206-bcd1-5902ac10a535"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:11.255-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:11.258-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5f92ceef-c03a-4365-9d22-2285f129df54"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"a88088cc-35e7-4206-bcd1-5902ac10a535"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:26:11.288-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:11.288-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5f92ceef-c03a-4365-9d22-2285f129df54"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:26:11.288-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5f92ceef-c03a-4365-9d22-2285f129df54"}}}}
{"t":{"$date":"2021-01-15T16:26:11.294-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f37e4306-d9c4-4c1a-a253-d0ba80e60445"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:11.360-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:11.363-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e28c0b69-911e-4a9a-950d-773259182be8"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:11.455-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-15T16:26:11.497-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:11.497-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:11.497-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.tickstore","command":{"createIndexes":"tickstore","indexes":[{"background":true,"name":"sy_1_s_1","key":{"sy":1,"s":1}}],"lsid":{"id":{"$uuid":"32a8d3a2-6b76-4ace-af5f-42c4529512c0"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":134}}
{"t":{"$date":"2021-01-15T16:26:11.499-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fdbe0316-a597-4371-9c00-90cebe1134fa"}},"namespace":"arctic_test.tickstore","collectionUUID":{"uuid":{"$uuid":"e28c0b69-911e-4a9a-950d-773259182be8"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:26:11.536-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:11.536-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fdbe0316-a597-4371-9c00-90cebe1134fa"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:26:11.536-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fdbe0316-a597-4371-9c00-90cebe1134fa"}}}}
{"t":{"$date":"2021-01-15T16:26:11.538-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1148abe1-ae86-46d5-9d3e-c20c2a1c384a"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:11.637-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:11.637-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:26:07,853 DEBUG pytest_shutil.workspace 
2021-01-15 16:26:07,854 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:07,855 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpjlu57lfl
2021-01-15 16:26:07,855 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:26:07,856 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:07,856 DEBUG pytest_shutil.workspace 
2021-01-15 16:26:07,857 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:26:07,887 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=12439 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpjlu57lfl
2021-01-15 16:26:07,889 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:26:07,890 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:26:07,891 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12439
2021-01-15 16:26:08,505 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:26:08,506 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12439
2021-01-15 16:26:09,116 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:26:09,116 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12439
2021-01-15 16:26:09,726 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:26:09,727 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12439
2021-01-15 16:26:10,441 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:26:10,441 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12439
2021-01-15 16:26:11,151 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (6 of 28)
2021-01-15 16:26:11,151 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:12439
2021-01-15 16:26:11,172 DEBUG pytest_server_fixtures.base2 waited 0:00:03.281527 for server to start successfully
2021-01-15 16:26:11,173 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:26:11,174 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpjlu57lfl
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=12439 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpjlu57lfl
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12439
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12439
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12439
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12439
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12439
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (6 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:12439
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:03.281527 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T16:26:11.664-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:26:11,659 DEBUG arctic.tickstore.tickstore 2 buckets in 0.003042: approx 657 ticks/sec
2021-01-15 16:26:11,676 INFO arctic.tickstore.tickstore Got data in 0.014348 secs, creating DataFrame...
2021-01-15 16:26:11,680 INFO arctic.tickstore.tickstore 1 rows in 0.017867 secs: 55 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 2 buckets in 0.003042: approx 657 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.014348 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 1 rows in 0.017867 secs: 55 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:26:11,808 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 14495 (total_procs_to_kill=1)
2021-01-15 16:26:11,809 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:26:11,810 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:26:11,825 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:26:11,826 DEBUG pytest_shutil.workspace 
2021-01-15 16:26:11,827 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:11,828 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpjlu57lfl
2021-01-15 16:26:11,828 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:11,829 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 14495 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpjlu57lfl
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_____________________ test_date_range_no_bounds[tickstore] _____________________

tickstore_lib = <TickStore at 0x7fafc83a0048>
    <ArcticLibrary at 0x7fafc83a0550, arctic_test.tickstore>
        <Arctic at 0x7fafc80efc88, connected to MongoClient(host=['127.168.91.69:4965'], document_class=dict, tz_aware=False, connect=True)>

    def test_date_range_no_bounds(tickstore_lib):
        DUMMY_DATA = [
                      {'a': 1.,
                       'b': 2.,
                       'index': dt(2013, 1, 1, tzinfo=mktz('Europe/London'))
                       },
                      {'a': 3.,
                       'b': 4.,
                       'index': dt(2013, 1, 30, tzinfo=mktz('Europe/London'))
                       },
                      {'b': 5.,
                       'c': 6.,
                       'index': dt(2013, 2, 2, 10, 1, tzinfo=mktz('Europe/London'))
                       },
                      ]
    
        tickstore_lib._chunk_size = 1
        tickstore_lib.write('SYM', DUMMY_DATA)
    
        # 1) No start, no end
        df = tickstore_lib.read('SYM', columns=None)
        assert_array_equal(df['b'].values, np.array([2., 4.]))
        # 1.2) Start before the real start
        df = tickstore_lib.read('SYM', date_range=DateRange(20121231), columns=None)
        assert_array_equal(df['b'].values, np.array([2., 4.]))
        # 2.1) Only go one month out
        df = tickstore_lib.read('SYM', date_range=DateRange(20130101), columns=None)
>       assert_array_equal(df['b'].values, np.array([2., 4.]))
E       AssertionError: 
E       Arrays are not equal
E       
E       (shapes (1,), (2,) mismatch)
E        x: array([4.])
E        y: array([2., 4.])

tests/integration/tickstore/test_ts_read.py:368: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-15T16:26:23.738-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-15T16:26:23.743-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-15T16:26:23.743-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-15T16:26:23.744-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":14719,"port":4965,"dbPath":"/tmp/tmphhjdt_4o","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-15T16:26:23.744-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-15T16:26:23.744-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-15T16:26:23.744-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.168.91.69","port":4965,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmphhjdt_4o","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-15T16:26:23.746-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:26:23.746-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-15T16:26:25.786-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753185:786956][14719:0x7fa54cf34a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:26:25.787-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610753185:787063][14719:0x7fa54cf34a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-15T16:26:25.832-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":2086}}
{"t":{"$date":"2021-01-15T16:26:25.832-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:25.895-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-15T16:26:25.895-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-15T16:26:25.913-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-15T16:26:25.914-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"44563845-7bcf-4244-ad13-1a0d59a0140a"}},"options":{"uuid":{"$uuid":"44563845-7bcf-4244-ad13-1a0d59a0140a"}}}}
{"t":{"$date":"2021-01-15T16:26:25.985-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:25.986-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-15T16:26:25.986-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-15T16:26:25.988-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"49e87430-25e0-41fe-9292-940e829bb5a5"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-15T16:26:26.049-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.049-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmphhjdt_4o/diagnostic.data"}}
{"t":{"$date":"2021-01-15T16:26:26.056-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-15T16:26:26.056-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.168.91.69"}}
{"t":{"$date":"2021-01-15T16:26:26.056-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":4965,"ssl":"off"}}
{"t":{"$date":"2021-01-15T16:26:26.056-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2ea32e0a-f7dd-43b7-aafe-79e984814e84"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:26.152-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.152-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.227-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:49362","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:26.231-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:49364","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:26.232-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:49366","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:26.241-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:49368","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:26.247-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:49370","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:26.248-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:49372","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Linux","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 3.6.12.final.0"}}}
{"t":{"$date":"2021-01-15T16:26:26.257-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1ed68dae-3ee1-48c6-bc99-832fd680ead4"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:26.328-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.331-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c19e73be-2993-40c4-b639-dd1ed0f6f4c4"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"1ed68dae-3ee1-48c6-bc99-832fd680ead4"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-15T16:26:26.358-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.358-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c19e73be-2993-40c4-b639-dd1ed0f6f4c4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:26:26.358-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c19e73be-2993-40c4-b639-dd1ed0f6f4c4"}}}}
{"t":{"$date":"2021-01-15T16:26:26.364-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"95c32c65-582e-438c-ae47-8b5bbbfdddd1"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:26.436-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.439-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3486dfd6-5d95-4e66-81f9-841395defe2b"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:26.536-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.536-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.538-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8e03ac62-59b2-43da-a959-f22894810061"}},"namespace":"arctic_test.tickstore","collectionUUID":{"uuid":{"$uuid":"3486dfd6-5d95-4e66-81f9-841395defe2b"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-15T16:26:26.571-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.571-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8e03ac62-59b2-43da-a959-f22894810061"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-15T16:26:26.571-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8e03ac62-59b2-43da-a959-f22894810061"}}}}
{"t":{"$date":"2021-01-15T16:26:26.573-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"969dfbf8-8ea0-4419-a69a-e2a7d81da664"}},"options":{}}}
{"t":{"$date":"2021-01-15T16:26:26.698-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.698-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-15T16:26:26.698-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.tickstore.metadata","command":{"createIndexes":"tickstore.metadata","indexes":[{"background":true,"unique":true,"name":"sy_1","key":{"sy":1}}],"lsid":{"id":{"$uuid":"db288f7a-be83-4ba9-9353-b2992fd2a001"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":125}}
---------------------------- Captured stderr setup -----------------------------
2021-01-15 16:26:23,643 DEBUG pytest_shutil.workspace 
2021-01-15 16:26:23,644 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:23,644 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmphhjdt_4o
2021-01-15 16:26:23,645 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-15 16:26:23,645 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:23,645 DEBUG pytest_shutil.workspace 
2021-01-15 16:26:23,646 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-15 16:26:23,678 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.168.91.69 --port=4965 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmphhjdt_4o
2021-01-15 16:26:23,679 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-15 16:26:23,680 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-15 16:26:23,681 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:4965
2021-01-15 16:26:24,292 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-15 16:26:24,293 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:4965
2021-01-15 16:26:24,900 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-15 16:26:24,900 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:4965
2021-01-15 16:26:25,508 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-15 16:26:25,509 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:4965
2021-01-15 16:26:26,216 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (5 of 28)
2021-01-15 16:26:26,217 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.168.91.69:4965
2021-01-15 16:26:26,241 DEBUG pytest_server_fixtures.base2 waited 0:00:02.560875 for server to start successfully
2021-01-15 16:26:26,242 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-15 16:26:26,243 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmphhjdt_4o
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.168.91.69 --port=4965 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmphhjdt_4o
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:4965
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:4965
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:4965
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:4965
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (5 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.168.91.69:4965
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:02.560875 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-15T16:26:26.731-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:26:26,726 DEBUG arctic.tickstore.tickstore 3 buckets in 0.003435: approx 873 ticks/sec
2021-01-15 16:26:26,727 INFO arctic.tickstore.tickstore No end provided.  Loading a month for: SYM:None
2021-01-15 16:26:26,739 INFO arctic.tickstore.tickstore Got data in 0.012575 secs, creating DataFrame...
2021-01-15 16:26:26,743 INFO arctic.tickstore.tickstore 2 rows in 0.016744 secs: 119 ticks/sec
2021-01-15 16:26:26,749 INFO arctic.tickstore.tickstore No end provided.  Loading a month for: SYM:None
2021-01-15 16:26:26,762 INFO arctic.tickstore.tickstore Got data in 0.016407 secs, creating DataFrame...
2021-01-15 16:26:26,767 INFO arctic.tickstore.tickstore 2 rows in 0.021097 secs: 94 ticks/sec
2021-01-15 16:26:26,779 INFO arctic.tickstore.tickstore No end provided.  Loading a month for: SYM:None
2021-01-15 16:26:26,789 INFO arctic.tickstore.tickstore Got data in 0.017611 secs, creating DataFrame...
2021-01-15 16:26:26,794 INFO arctic.tickstore.tickstore 1 rows in 0.022136 secs: 45 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 3 buckets in 0.003435: approx 873 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:232 No end provided.  Loading a month for: SYM:None
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.012575 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 2 rows in 0.016744 secs: 119 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:232 No end provided.  Loading a month for: SYM:None
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.016407 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 2 rows in 0.021097 secs: 94 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:232 No end provided.  Loading a month for: SYM:None
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.017611 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 1 rows in 0.022136 secs: 45 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-15 16:26:26,941 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 14719 (total_procs_to_kill=1)
2021-01-15 16:26:26,942 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal Signals.SIGKILL
2021-01-15 16:26:26,943 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-15 16:26:26,958 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-15 16:26:26,959 DEBUG pytest_shutil.workspace 
2021-01-15 16:26:26,959 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:26,959 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmphhjdt_4o
2021-01-15 16:26:26,960 DEBUG pytest_shutil.workspace =======================================================
2021-01-15 16:26:26,960 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 14719 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal Signals.SIGKILL
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmphhjdt_4o
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_______________ test_ArcticTransaction_detects_concurrent_writes _______________

    def test_ArcticTransaction_detects_concurrent_writes():
        vs = Mock(spec=VersionStore)
        ts1 = pd.DataFrame(index=[1, 2], data={'a': [1.0, 2.0]})
        vs.read.return_value = VersionedItem(symbol=sentinel.symbol, library=sentinel.library, version=1, metadata=None,
                                             data=ts1, host=sentinel.host)
        vs.write.side_effect = [VersionedItem(symbol=sentinel.symbol, library=sentinel.library, version=2, metadata=None,
                                              data=None, host=sentinel.host),
                                VersionedItem(symbol=sentinel.symbol, library=sentinel.library, version=3, metadata=None,
                                              data=None, host=sentinel.host)]
        # note that we return some extra version 5, it is possible that we have a write coming in after our own write that gets picked up
        vs.list_versions.side_effect = [[{'version': 5}, {'version': 2}, {'version': 1}, ],
                                       [{'version': 5}, {'version': 3}, {'version': 2}, {'version': 1}, ]]
        from threading import Event, Thread
        e1 = Event()
        e2 = Event()
    
        def losing_writer():
            # will attempt to write version 2, should find that version 2 is there and it ends up writing version 3
            with pytest.raises(ArcticTransaction):
                with ArcticTransaction(vs, sentinel.symbol, sentinel.user, sentinel.log) as cwb:
                    cwb.write(sentinel.symbol, pd.DataFrame([1.0, 2.0], [3, 4]))
                    e1.wait()
    
        def winning_writer():
            # will attempt to write version 2 as well
            with ArcticTransaction(vs, sentinel.symbol, sentinel.user, sentinel.log) as cwb:
                cwb.write(sentinel.symbol, pd.DataFrame([1.0, 2.0], [5, 6]))
                e2.wait()
    
        t1 = Thread(target=losing_writer)
        t2 = Thread(target=winning_writer)
        t1.start()
        t2.start()
    
        # both read the same timeseries and are locked doing some 'work'
        e2.set()
        # t2  should now be able to finish
        t2.join()
        e1.set()
        t1.join()
    
        # we're expecting the losing_writer to undo its write once it realises that it wrote v3 instead of v2
>       vs._delete_version.assert_called_once_with(sentinel.symbol, 3)

tests/unit/store/test_version_store_audit.py:221: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

_mock_self = <Mock name='mock._delete_version' id='140390377780896'>
args = (sentinel.symbol, 3), kwargs = {}
self = <Mock name='mock._delete_version' id='140390377780896'>
msg = "Expected '_delete_version' to be called once. Called 0 times."

    def assert_called_once_with(_mock_self, *args, **kwargs):
        """assert that the mock was called exactly once and that that call was
        with the specified arguments."""
        self = _mock_self
        if not self.call_count == 1:
            msg = ("Expected '%s' to be called once. Called %s times.%s"
                   % (self._mock_name or 'mock',
                      self.call_count,
                      self._calls_repr()))
>           raise AssertionError(msg)
E           AssertionError: Expected '_delete_version' to be called once. Called 0 times.

.eggs/mock-4.0.3-py3.6.egg/mock/mock.py:925: AssertionError
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:37:27,000 INFO arctic.store.audit MT: None@None: [sentinel.user] sentinel.log: sentinel.symbol
Exception in thread Thread-774:
Traceback (most recent call last):
  File "/usr/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.6/threading.py", line 864, in run
    self._target(*self._args, **self._kwargs)
  File "/home/cwm/git/bb.FLXSA/quant/arctic_878/tests/unit/store/test_version_store_audit.py", line 197, in losing_writer
    with pytest.raises(ArcticTransaction):
  File "/home/cwm/git/bb.FLXSA/quant/arctic_878/.eggs/pytest-6.2.1-py3.6.egg/_pytest/python_api.py", line 719, in raises
    raise TypeError(msg.format(not_a))
TypeError: expected exception must be a BaseException type, not ArcticTransaction

------------------------------ Captured log call -------------------------------
INFO     arctic.store.audit:audit.py:87 MT: None@None: [sentinel.user] sentinel.log: sentinel.symbol
_________________________ test_mongo_date_range_query __________________________

    def test_mongo_date_range_query():
        self = create_autospec(TickStore)
        self._collection = create_autospec(Collection)
        self._symbol_query.return_value = {"sy": {"$in" : ["s1" , "s2"]}}
        self._collection.aggregate.return_value = iter([{"_id": "s1", "start": dt(2014, 1, 1, 0, 0, tzinfo=mktz())},
                                                        {"_id": "s2", "start": dt(2014, 1, 1, 12, 0, tzinfo=mktz())}])
    
        self._collection.find_one.side_effect = [
            {'e': dt(2014, 1, 1, 15, 0, tzinfo=mktz())},
            {'e': dt(2014, 1, 2, 12, 0, tzinfo=mktz())}]
    
        query = TickStore._mongo_date_range_query(self, 'sym', DateRange(dt(2014, 1, 2, 0, 0, tzinfo=mktz()),
                                                                         dt(2014, 1, 3, 0, 0, tzinfo=mktz())))
    
        assert self._collection.aggregate.call_args_list == [call([
         {"$match": {"s": {"$lte": dt(2014, 1, 2, 0, 0, tzinfo=mktz())}, "sy": {"$in" : ["s1" , "s2"]}}},
         {"$project": {"_id": 0, "s": 1, "sy": 1}},
         {"$group": {"_id": "$sy", "start": {"$max": "$s"}}},
         {"$sort": {"start": 1}}])]
    
        assert self._collection.find_one.call_args_list == [
            call({'sy': 's1', 's': dt(2014, 1, 1, 0, 0, tzinfo=mktz())}, {'e': 1}),
            call({'sy': 's2', 's': dt(2014, 1, 1, 12, 0, tzinfo=mktz())}, {'e': 1})]
    
>       assert query == {'s': {'$gte': dt(2014, 1, 1, 12, 0, tzinfo=mktz()), '$lte': dt(2014, 1, 3, 0, 0, tzinfo=mktz())}}
E       AssertionError: assert {'s': {'$gte'...ca/Denver'))}} == {'s': {'$gte'...ca/Denver'))}}
E         Differing items:
E         {'s': {'$gte': datetime.datetime(2014, 1, 1, 12, 0, tzinfo=tzfile('/usr/share/zoneinfo/UTC')), '$lte': datetime.datetime(2014, 1, 3, 0, 0, tzinfo=tzfile('/usr/share/zoneinfo/America/Denver'))}} != {'s': {'$gte': datetime.datetime(2014, 1, 1, 12, 0, tzinfo=tzfile('/usr/share/zoneinfo/America/Denver')), '$lte': datetime.datetime(2014, 1, 3, 0, 0, tzinfo=tzfile('/usr/share/zoneinfo/America/Denver'))}}
E         Use -v to get the full diff

tests/unit/tickstore/test_tickstore.py:43: AssertionError
_____________________ test_tickstore_to_bucket_with_image ______________________

    def test_tickstore_to_bucket_with_image():
        symbol = 'SYM'
        tz = 'UTC'
        initial_image = {'index': dt(2014, 1, 1, 0, 0, tzinfo=mktz(tz)), 'A': 123, 'B': 54.4, 'C': 'DESC'}
        data = [{'index': dt(2014, 1, 1, 0, 1, tzinfo=mktz(tz)), 'A': 124, 'D': 0},
                {'index': dt(2014, 1, 1, 0, 2, tzinfo=mktz(tz)), 'A': 125, 'B': 27.2}]
        bucket, final_image = TickStore._to_bucket(data, symbol, initial_image)
        assert bucket[COUNT] == 2
        assert bucket[END] == dt(2014, 1, 1, 0, 2, tzinfo=mktz(tz))
        assert set(bucket[COLUMNS]) == set(('A', 'B', 'D'))
        assert set(bucket[COLUMNS]['A']) == set((ROWMASK, DTYPE, DATA))
        assert get_coldata(bucket[COLUMNS]['A']) == ([124, 125], [1, 1, 0, 0, 0, 0, 0, 0])
        assert get_coldata(bucket[COLUMNS]['B']) == ([27.2], [0, 1, 0, 0, 0, 0, 0, 0])
        assert get_coldata(bucket[COLUMNS]['D']) == ([0], [1, 0, 0, 0, 0, 0, 0, 0])
        index = [dt.fromtimestamp(int(i/1000)).replace(tzinfo=mktz(tz)) for i in
                 list(np.cumsum(np.frombuffer(decompress(bucket[INDEX]), dtype='uint64')))]
>       assert index == [i['index'] for i in data]
E       AssertionError: assert [datetime.dat...neinfo/UTC'))] == [datetime.dat...neinfo/UTC'))]
E         At index 0 diff: datetime.datetime(2013, 12, 31, 17, 1, tzinfo=tzfile('/usr/share/zoneinfo/UTC')) != datetime.datetime(2014, 1, 1, 0, 1, tzinfo=tzfile('/usr/share/zoneinfo/UTC'))
E         Use -v to get the full diff

tests/unit/tickstore/test_tickstore.py:97: AssertionError
____________________ test_tickstore_pandas_to_bucket_image _____________________

    def test_tickstore_pandas_to_bucket_image():
        symbol = 'SYM'
        tz = 'UTC'
        initial_image = {'index': dt(2014, 1, 1, 0, 0, tzinfo=mktz(tz)), 'A': 123, 'B': 54.4, 'C': 'DESC'}
        data = [{'A': 120, 'D': 1}, {'A': 122, 'B': 2.0}, {'A': 3, 'B': 3.0, 'D': 1}]
        tick_index = [dt(2014, 1, 2, 0, 0, tzinfo=mktz(tz)),
                      dt(2014, 1, 3, 0, 0, tzinfo=mktz(tz)),
                      dt(2014, 1, 4, 0, 0, tzinfo=mktz(tz))]
        data = pd.DataFrame(data, index=tick_index)
        bucket, final_image = TickStore._pandas_to_bucket(data, symbol, initial_image)
        assert final_image == {'index': dt(2014, 1, 4, 0, 0, tzinfo=mktz(tz)), 'A': 3, 'B': 3.0, 'C': 'DESC', 'D': 1}
        assert IMAGE_DOC in bucket
        assert bucket[COUNT] == 3
        assert bucket[START] == dt(2014, 1, 1, 0, 0, tzinfo=mktz(tz))
        assert bucket[END] == dt(2014, 1, 4, 0, 0, tzinfo=mktz(tz))
        assert set(bucket[COLUMNS]) == set(('A', 'B', 'D'))
        assert set(bucket[COLUMNS]['A']) == set((ROWMASK, DTYPE, DATA))
        assert get_coldata(bucket[COLUMNS]['A']) == ([120, 122, 3], [1, 1, 1, 0, 0, 0, 0, 0])
        values, rowmask = get_coldata(bucket[COLUMNS]['B'])
        assert np.isnan(values[0]) and values[1:] == [2.0, 3.0]
        assert rowmask == [1, 1, 1, 0, 0, 0, 0, 0]
        values, rowmask = get_coldata(bucket[COLUMNS]['D'])
        assert np.isnan(values[1])
        assert values[0] == 1 and values[2] == 1
        assert rowmask == [1, 1, 1, 0, 0, 0, 0, 0]
        index = [dt.fromtimestamp(int(i/1000)).replace(tzinfo=mktz(tz)) for i in
                 list(np.cumsum(np.frombuffer(decompress(bucket[INDEX]), dtype='uint64')))]
>       assert index == tick_index
E       AssertionError: assert [datetime.dat...neinfo/UTC'))] == [datetime.dat...neinfo/UTC'))]
E         At index 0 diff: datetime.datetime(2014, 1, 1, 17, 0, tzinfo=tzfile('/usr/share/zoneinfo/UTC')) != datetime.datetime(2014, 1, 2, 0, 0, tzinfo=tzfile('/usr/share/zoneinfo/UTC'))
E         Use -v to get the full diff

tests/unit/tickstore/test_tickstore.py:162: AssertionError
----------------------------- Captured stderr call -----------------------------
2021-01-15 16:37:29,591 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
=============================== warnings summary ===============================
arctic/_util.py:6
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/_util.py:6: FutureWarning: pandas.util.testing is deprecated. Use the functions in the public API at pandas.testing instead.
    from pandas.util.testing import assert_frame_equal

tests/integration/tickstore/test_ts_read.py:9
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/tickstore/test_ts_read.py:9: DeprecationWarning: Importing from numpy.testing.utils is deprecated since 1.15.0, import from numpy.testing instead.
    from numpy.testing.utils import assert_array_equal

tests/integration/test_arctic.py: 4 warnings
tests/integration/test_concurrent_append.py: 1 warning
tests/integration/test_howtos.py: 3 warnings
tests/integration/scripts/test_arctic_fsck.py: 45 warnings
tests/integration/scripts/test_copy_data.py: 23 warnings
tests/integration/store/test_bitemporal_store.py: 43 warnings
tests/integration/store/test_ndarray_store.py: 37 warnings
tests/integration/store/test_ndarray_store_append.py: 69 warnings
tests/integration/store/test_pandas_store.py: 378 warnings
tests/integration/store/test_version_store.py: 647 warnings
tests/integration/store/test_version_store_audit.py: 29 warnings
tests/integration/store/test_version_store_corruption.py: 14 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/store/_ndarray_store.py:600: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    sha.update(item.tostring())

tests/integration/test_arctic.py: 3 warnings
tests/integration/test_howtos.py: 3 warnings
tests/integration/scripts/test_arctic_fsck.py: 42 warnings
tests/integration/scripts/test_copy_data.py: 21 warnings
tests/integration/store/test_bitemporal_store.py: 29 warnings
tests/integration/store/test_ndarray_store.py: 828 warnings
tests/integration/store/test_ndarray_store_append.py: 314 warnings
tests/integration/store/test_pandas_store.py: 285 warnings
tests/integration/store/test_version_store.py: 570 warnings
tests/integration/store/test_version_store_audit.py: 21 warnings
tests/integration/store/test_version_store_corruption.py: 18 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/store/_ndarray_store.py:657: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    chunks = [(item[i * rows_per_chunk: (i + 1) * rows_per_chunk]).tostring() for i in idxs]

tests/integration/test_arctic.py: 3 warnings
tests/integration/test_howtos.py: 3 warnings
tests/integration/scripts/test_arctic_fsck.py: 42 warnings
tests/integration/scripts/test_copy_data.py: 21 warnings
tests/integration/store/test_bitemporal_store.py: 29 warnings
tests/integration/store/test_pandas_store.py: 37 warnings
tests/integration/store/test_version_store.py: 1976 warnings
tests/integration/store/test_version_store_audit.py: 21 warnings
tests/integration/store/test_version_store_corruption.py: 138 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/store/_pandas_ndarray_store.py:58: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    return Binary(compress(index.tostring()))

tests/integration/test_arctic.py: 5 warnings
tests/integration/scripts/test_delete_library.py: 5 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/_cache.py:120: DeprecationWarning: update is deprecated. Use replace_one, update_one or update_many instead.
    {"$pull": {"data": item}}

tests/integration/test_arctic.py::test_list_libraries_cached
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/test_arctic.py:250: DeprecationWarning: remove is deprecated. Use delete_one or delete_many instead.
    arctic._conn.meta_db.cache.remove({})

tests/integration/chunkstore/test_chunkstore.py: 9982 warnings
tests/integration/chunkstore/test_fixes.py: 91 warnings
tests/integration/chunkstore/test_utils.py: 2 warnings
tests/integration/chunkstore/tools/test_tools.py: 52 warnings
tests/unit/serialization/test_numpy_arrays.py: 26 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/serialization/numpy_arrays.py:119: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    arrays.append(arr.tostring())

tests/integration/store/test_ndarray_store.py: 3 warnings
tests/integration/store/test_ndarray_store_append.py: 583 warnings
tests/integration/store/test_pandas_store.py: 19 warnings
tests/integration/store/test_version_store.py: 1546 warnings
tests/integration/store/test_version_store_corruption.py: 124 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/store/_ndarray_store.py:449: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    data = item.tostring()

tests/integration/store/test_ndarray_store.py::test_save_read_large_ndarray
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/store/test_ndarray_store.py:146: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    assert len(ndarr.tostring()) > 16 * 1024 * 1024

tests/integration/store/test_ndarray_store_append.py::test_append_read_large_ndarray[FwPointersCfg.DISABLED]
tests/integration/store/test_ndarray_store_append.py::test_append_read_large_ndarray[FwPointersCfg.HYBRID]
tests/integration/store/test_ndarray_store_append.py::test_append_read_large_ndarray[FwPointersCfg.ENABLED]
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/store/test_ndarray_store_append.py:112: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    assert len(ndarr.tostring()) > 16 * 1024 * 1024

tests/integration/store/test_ndarray_store_append.py::test_save_append_read_ndarray[FwPointersCfg.DISABLED]
tests/integration/store/test_ndarray_store_append.py::test_save_append_read_ndarray[FwPointersCfg.HYBRID]
tests/integration/store/test_ndarray_store_append.py::test_save_append_read_ndarray[FwPointersCfg.ENABLED]
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/store/test_ndarray_store_append.py:138: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    assert len(ndarr.tostring()) > 16 * 1024 * 1024

tests/integration/store/test_ndarray_store_append.py::test_save_append_read_1row_ndarray
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/store/test_ndarray_store_append.py:155: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    assert len(ndarr.tostring()) > 16 * 1024 * 1024

tests/integration/store/test_ndarray_store_append.py::test_append_too_large_ndarray
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/store/test_ndarray_store_append.py:172: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    assert len(ndarr.tostring()) > 16 * 1024 * 1024

tests/integration/store/test_pandas_store.py::test_save_read_pandas_empty_series_with_datetime_multiindex_with_timezone
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/store/test_pandas_store.py:146: DeprecationWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.
    df = Series(data=[], index=empty_index)

tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
  /home/cwm/git/bb.FLXSA/quant/arctic_878/.tox/dev36/lib/python3.6/site-packages/numpy/core/numeric.py:2378: DeprecationWarning: elementwise comparison failed; this will raise an error in the future.
    return bool(asarray(a1 == a2).all())

tests/integration/store/test_pickle_store.py::test_bson_large_object
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/store/test_pickle_store.py:53: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    'large_thing': np.random.rand(int(2.1 * 1024 * 1024)).tostring()}

tests/integration/tickstore/test_toplevel.py: 44 warnings
tests/integration/tickstore/test_ts_read.py: 5 warnings
tests/integration/tickstore/test_ts_write.py: 2 warnings
tests/unit/tickstore/test_tickstore.py: 1 warning
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/tickstore/tickstore.py:707: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    rowmask = Binary(lz4_compressHC(np.packbits(np.ones(len(df), dtype='uint8')).tostring()))

tests/integration/tickstore/test_toplevel.py: 176 warnings
tests/integration/tickstore/test_ts_read.py: 6 warnings
tests/integration/tickstore/test_ts_write.py: 6 warnings
tests/unit/tickstore/test_tickstore.py: 3 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/tickstore/tickstore.py:718: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    DATA: Binary(lz4_compressHC(array.tostring())),

tests/integration/tickstore/test_toplevel.py: 44 warnings
tests/integration/tickstore/test_ts_read.py: 4 warnings
tests/integration/tickstore/test_ts_write.py: 2 warnings
tests/unit/tickstore/test_tickstore.py: 1 warning
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/tickstore/tickstore.py:727: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    recs[index_name].astype('datetime64[ms]').view('uint64')))).tostring()))

tests/integration/tickstore/test_toplevel.py: 4 warnings
tests/integration/tickstore/test_ts_delete.py: 12 warnings
tests/integration/tickstore/test_ts_read.py: 136 warnings
tests/integration/tickstore/test_ts_write.py: 18 warnings
tests/unit/tickstore/test_tickstore.py: 8 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/tickstore/tickstore.py:758: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    for k, v in iteritems(rowmask)])

tests/integration/tickstore/test_toplevel.py: 4 warnings
tests/integration/tickstore/test_ts_delete.py: 12 warnings
tests/integration/tickstore/test_ts_read.py: 136 warnings
tests/integration/tickstore/test_ts_write.py: 18 warnings
tests/unit/tickstore/test_tickstore.py: 8 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/tickstore/tickstore.py:763: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    rtn[COLUMNS][k] = {DATA: Binary(lz4_compressHC(v.tostring())),

tests/integration/tickstore/test_toplevel.py: 4 warnings
tests/integration/tickstore/test_ts_delete.py: 6 warnings
tests/integration/tickstore/test_ts_read.py: 38 warnings
tests/integration/tickstore/test_ts_write.py: 7 warnings
tests/unit/tickstore/test_tickstore.py: 2 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/tickstore/tickstore.py:776: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    rtn[INDEX] = Binary(lz4_compressHC(np.concatenate(([data['index'][0]], np.diff(data['index']))).tostring()))

tests/unit/chunkstore/test_passthrough_chunker.py::test_pass_thru
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/chunkstore/passthrough_chunker.py:75: DeprecationWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.
    return Series()

tests/unit/chunkstore/test_passthrough_chunker.py::test_pass_thru
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/unit/chunkstore/test_passthrough_chunker.py:18: DeprecationWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.
    assert(p.exclude(Series([1, 2, 3]), None).equals(Series()))

tests/unit/serialization/test_incremental.py: 38 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/unit/serialization/test_incremental.py:53: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    matching = expectation[0].tostring() == incr_ser_data.tostring()

tests/unit/serialization/test_incremental.py: 41846 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/serialization/incremental.py:223: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    chunk = chunk.tostring() if chunk is not None and get_bytes else chunk

tests/unit/serialization/test_incremental.py: 19 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/unit/serialization/test_incremental.py:73: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    matching = expectation[0].tostring() == b''.join(chunk_bytes)

tests/unit/serialization/test_incremental.py: 57 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/unit/serialization/test_incremental.py:101: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    matching = expectation[0].tostring() == b''.join(chunk_bytes)

tests/unit/serialization/test_incremental.py: 10 warnings
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/unit/serialization/test_incremental.py:136: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    matching = expectation[0][from_idx:to_idx].tostring() == b''.join(chunk_bytes)

tests/unit/serialization/test_numpy_arrays.py::test_string_cols_with_nans
tests/unit/serialization/test_numpy_arrays.py::test_objify_with_missing_columns
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/serialization/numpy_arrays.py:118: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.
    masks[str(c)] = Binary(compress(mask.tostring()))

tests/unit/store/test_pickle_store.py::test_unpickle_highest_protocol
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/unit/store/test_pickle_store.py:121: DeprecationWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.
    'blob': compressHC(cPickle.dumps(pd.Series(), protocol=cPickle.HIGHEST_PROTOCOL)),

tests/unit/store/test_pickle_store.py::test_unpickle_highest_protocol
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/unit/store/test_pickle_store.py:127: DeprecationWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.
    expected = pd.Series()

-- Docs: https://docs.pytest.org/en/stable/warnings.html
---- generated xml file: /home/cwm/git/bb.FLXSA/quant/arctic_878/junit.xml -----

---------- coverage: platform linux, python 3.6.12-final-0 -----------
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED tests/integration/test_arctic.py::test_indexes - AssertionError: asser...
FAILED tests/integration/chunkstore/test_chunkstore.py::test_overwrite_series
FAILED tests/integration/chunkstore/test_chunkstore.py::test_quarterly_data
FAILED tests/integration/chunkstore/test_fixes.py::test_date_interval - Asser...
FAILED tests/integration/chunkstore/test_fixes.py::test_missing_cols - Assert...
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_chunks[False-data6-FwPointersCfg.DISABLED]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_chunks[False-data7-FwPointersCfg.HYBRID]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_chunks[False-data8-FwPointersCfg.ENABLED]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_chunks[False-data9-FwPointersCfg.DISABLED]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_chunks[False-data10-FwPointersCfg.HYBRID]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_chunks[False-data11-FwPointersCfg.ENABLED]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_snapshots[False-data6-FwPointersCfg.DISABLED]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_snapshots[False-data7-FwPointersCfg.HYBRID]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_snapshots[False-data8-FwPointersCfg.ENABLED]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_snapshots[False-data9-FwPointersCfg.DISABLED]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_snapshots[False-data10-FwPointersCfg.HYBRID]
FAILED tests/integration/scripts/test_arctic_fsck.py::test_cleanup_orphaned_snapshots[False-data11-FwPointersCfg.ENABLED]
FAILED tests/integration/scripts/test_prune_versions.py::test_fix_broken_snapshot_references
FAILED tests/integration/scripts/test_prune_versions.py::test_keep_only_one_version
FAILED tests/integration/store/test_pandas_store.py::test_save_read_pandas_series_with_unicode_index_name
FAILED tests/integration/store/test_pandas_store.py::test_save_read_pandas_dataframe_with_unicode_index_name
FAILED tests/integration/store/test_pandas_store.py::test_daterange_large_DataFrame
FAILED tests/integration/store/test_pandas_store.py::test_daterange_large_DataFrame_middle
FAILED tests/integration/store/test_pandas_store.py::test_daterange[df0-assert_frame_equal]
FAILED tests/integration/store/test_pandas_store.py::test_daterange[df1-assert_series_equal]
FAILED tests/integration/store/test_pandas_store.py::test_daterange_append - ...
FAILED tests/integration/store/test_version_store.py::test_write_metadata[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_write_metadata[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_write_metadata[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_followed_by_append[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_followed_by_append[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_followed_by_append[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_purge_previous_versions[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_purge_previous_versions[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_purge_previous_versions[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_delete_symbol[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_delete_symbol[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_delete_symbol[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_snapshots[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_snapshots[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_write_metadata_snapshots[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_restore_version[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_purging_previous_versions[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_purging_previous_versions[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_restore_version_purging_previous_versions[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_non_existent_version[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_non_existent_version[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_restore_version_non_existent_version[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_which_updated_only_metadata[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_which_updated_only_metadata[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_restore_version_which_updated_only_metadata[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_then_snapshot[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_then_snapshot[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_restore_version_then_snapshot[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_latest_snapshot_noop[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_latest_snapshot_noop[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_restore_version_latest_snapshot_noop[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_latest_version_noop[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_latest_version_noop[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_restore_version_latest_version_noop[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_snap_delete_symbol_restore[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_restore_version_snap_delete_symbol_restore[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_restore_version_snap_delete_symbol_restore[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_can_write_tz_aware_data_df[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_can_write_tz_aware_data_df[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_can_write_tz_aware_data_df[FwPointersCfg.ENABLED]
FAILED tests/integration/store/test_version_store.py::test_can_write_tz_aware_data_series[FwPointersCfg.DISABLED]
FAILED tests/integration/store/test_version_store.py::test_can_write_tz_aware_data_series[FwPointersCfg.HYBRID]
FAILED tests/integration/store/test_version_store.py::test_can_write_tz_aware_data_series[FwPointersCfg.ENABLED]
FAILED tests/integration/tickstore/test_toplevel.py::test_should_return_data_when_date_range_falls_in_a_single_underlying_library
FAILED tests/integration/tickstore/test_toplevel.py::test_should_return_data_when_date_range_spans_libraries
FAILED tests/integration/tickstore/test_toplevel.py::test_should_return_data_when_date_range_spans_libraries_even_if_one_returns_nothing
FAILED tests/integration/tickstore/test_toplevel.py::test_should_add_underlying_library_where_another_library_exists_in_a_non_overlapping_daterange
FAILED tests/integration/tickstore/test_toplevel.py::test_should_write_top_level_with_list_of_dicts
FAILED tests/integration/tickstore/test_toplevel.py::test_should_write_top_level_with_correct_timezone
FAILED tests/integration/tickstore/test_ts_read.py::test_date_range[tickstore]
FAILED tests/integration/tickstore/test_ts_read.py::test_date_range_end_not_in_range[tickstore]
FAILED tests/integration/tickstore/test_ts_read.py::test_date_range_no_bounds[tickstore]
FAILED tests/unit/store/test_version_store_audit.py::test_ArcticTransaction_detects_concurrent_writes
FAILED tests/unit/tickstore/test_tickstore.py::test_mongo_date_range_query - ...
FAILED tests/unit/tickstore/test_tickstore.py::test_tickstore_to_bucket_with_image
FAILED tests/unit/tickstore/test_tickstore.py::test_tickstore_pandas_to_bucket_image
= 84 failed, 1232 passed, 3 skipped, 19 xfailed, 1 xpassed, 60836 warnings in 4895.18s (1:21:35) =
ERROR: InvocationError for command /home/cwm/git/bb.FLXSA/quant/arctic_878/.tox/dev36/bin/python setup.py test (exited with code 1)

commands failed
