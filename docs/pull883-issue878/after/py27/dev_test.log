
.tox/dev27/lib/python2.7/site-packages/bson/__init__.py:938: InvalidStringData
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-17T12:26:48.329-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-17T12:26:48.331-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-17T12:26:48.331-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-17T12:26:48.331-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":15791,"port":30186,"dbPath":"/tmp/tmp78qvZ8","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-17T12:26:48.332-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-17T12:26:48.332-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-17T12:26:48.332-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.19.13.98","port":30186,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp78qvZ8","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-17T12:26:48.332-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:26:48.332-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-17T12:26:49.365-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610911609:365817][15791:0x7f7498780a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:26:49.365-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610911609:365894][15791:0x7f7498780a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:26:49.414-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":1082}}
{"t":{"$date":"2021-01-17T12:26:49.414-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:49.471-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-17T12:26:49.471-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-17T12:26:49.487-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:26:49.488-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"025c87ac-b423-4f27-a06a-136d45da70cd"}},"options":{"uuid":{"$uuid":"025c87ac-b423-4f27-a06a-136d45da70cd"}}}}
{"t":{"$date":"2021-01-17T12:26:49.555-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:49.555-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-17T12:26:49.555-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-17T12:26:49.556-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e050e59b-496b-4d7c-a366-1f0b9c82ccb5"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-17T12:26:49.618-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:49.618-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp78qvZ8/diagnostic.data"}}
{"t":{"$date":"2021-01-17T12:26:49.621-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-17T12:26:49.621-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.19.13.98"}}
{"t":{"$date":"2021-01-17T12:26:49.621-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":30186,"ssl":"off"}}
{"t":{"$date":"2021-01-17T12:26:49.621-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"28a2a838-07fc-44d1-b095-5777f80ff3d4"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:26:49.714-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:49.714-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.010-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:37010","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:26:50.011-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:37012","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:26:50.115-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:37014","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:26:50.119-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:37016","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:26:50.119-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:37018","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:26:50.122-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:37020","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:26:50.125-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:37022","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:26:50.125-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:37024","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:26:50.128-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e2ffa426-3123-466c-9d3c-b815cdd44c62"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:26:50.209-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.210-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"cac71773-db50-461c-8775-4ff306972568"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"e2ffa426-3123-466c-9d3c-b815cdd44c62"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-17T12:26:50.239-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.239-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"cac71773-db50-461c-8775-4ff306972568"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:26:50.239-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"cac71773-db50-461c-8775-4ff306972568"}}}}
{"t":{"$date":"2021-01-17T12:26:50.241-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9d1d4077-a6a9-483f-ab1b-95404faf6526"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:26:50.306-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.308-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.snapshots","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e3d43206-95c6-47e9-8a36-ca79c6dbcdb8"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:26:50.401-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.401-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.snapshots","index":"name_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.402-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.versions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"51e3fe9b-7ff0-441a-a5dc-895dee76035d"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:26:50.494-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.495-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1__id_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.495-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"801df1aa-4b6b-4151-8456-65ed0584edfd"}},"namespace":"arctic_test.TEST.versions","collectionUUID":{"uuid":{"$uuid":"51e3fe9b-7ff0-441a-a5dc-895dee76035d"}},"indexes":1,"firstIndex":{"name":"symbol_1_version_-1"}}}
{"t":{"$date":"2021-01-17T12:26:50.512-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":15}}
{"t":{"$date":"2021-01-17T12:26:50.527-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.versions","index":"symbol_1_version_-1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.527-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"801df1aa-4b6b-4151-8456-65ed0584edfd"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:26:50.527-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"801df1aa-4b6b-4151-8456-65ed0584edfd"}}}}
{"t":{"$date":"2021-01-17T12:26:50.528-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST.version_nums","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9c127007-f9db-4dca-a8ac-2f377e4b5b99"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:26:50.617-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":18}}
{"t":{"$date":"2021-01-17T12:26:50.622-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.622-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST.version_nums","index":"symbol_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.622-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.TEST","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f30df2de-407d-4434-a9e2-bf759730dbae"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:26:50.717-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.717-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_hashed","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.718-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5b9e000a-d896-4873-ac72-9e848ce3920b"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"f30df2de-407d-4434-a9e2-bf759730dbae"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1"}}}
{"t":{"$date":"2021-01-17T12:26:50.751-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.751-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5b9e000a-d896-4873-ac72-9e848ce3920b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:26:50.751-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5b9e000a-d896-4873-ac72-9e848ce3920b"}}}}
{"t":{"$date":"2021-01-17T12:26:50.752-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b649c31f-e25f-4b03-b0e3-29498024dae9"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"f30df2de-407d-4434-a9e2-bf759730dbae"}},"indexes":1,"firstIndex":{"name":"symbol_1_parent_1_segment_1"}}}
{"t":{"$date":"2021-01-17T12:26:50.781-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_parent_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.781-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b649c31f-e25f-4b03-b0e3-29498024dae9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:26:50.781-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b649c31f-e25f-4b03-b0e3-29498024dae9"}}}}
{"t":{"$date":"2021-01-17T12:26:50.782-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bc460897-19ca-43f7-a22e-2b3aea2290e9"}},"namespace":"arctic_test.TEST","collectionUUID":{"uuid":{"$uuid":"f30df2de-407d-4434-a9e2-bf759730dbae"}},"indexes":1,"firstIndex":{"name":"symbol_1_sha_1_segment_1"}}}
{"t":{"$date":"2021-01-17T12:26:50.813-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.TEST","index":"symbol_1_sha_1_segment_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:26:50.813-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bc460897-19ca-43f7-a22e-2b3aea2290e9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:26:50.813-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bc460897-19ca-43f7-a22e-2b3aea2290e9"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-17 12:26:48,224 DEBUG pytest_shutil.workspace 
2021-01-17 12:26:48,225 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:26:48,225 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp78qvZ8
2021-01-17 12:26:48,225 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-17 12:26:48,225 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:26:48,225 DEBUG pytest_shutil.workspace 
2021-01-17 12:26:48,226 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-17 12:26:48,291 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.19.13.98 --port=30186 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp78qvZ8
2021-01-17 12:26:48,292 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-17 12:26:48,292 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-17 12:26:48,292 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:30186
2021-01-17 12:26:48,898 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-17 12:26:48,899 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:30186
2021-01-17 12:26:49,504 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-17 12:26:49,504 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:30186
2021-01-17 12:26:50,109 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-17 12:26:50,110 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:30186
2021-01-17 12:26:50,122 DEBUG pytest_server_fixtures.base2 waited 0:00:01.830381 for server to start successfully
2021-01-17 12:26:50,123 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-17 12:26:50,124 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-17 12:26:50,819 INFO arctic.store.version_store Trying to enable sharding...
2021-01-17 12:26:50,821 WARNING arctic.store.version_store Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'code': 59, u'errmsg': u"no such command: 'enablesharding'", u'codeName': u'CommandNotFound', u'ok': 0.0}. This is OK if you're not 'admin'
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp78qvZ8
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.19.13.98 --port=30186 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp78qvZ8
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:30186
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:30186
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:30186
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:30186
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:01.830381 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
INFO     arctic.store.version_store:version_store.py:62 Trying to enable sharding...
WARNING  arctic.store.version_store:version_store.py:66 Library created, but couldn't enable sharding: no such command: 'enablesharding', full error: {u'code': 59, u'errmsg': u"no such command: 'enablesharding'", u'codeName': u'CommandNotFound', u'ok': 0.0}. This is OK if you're not 'admin'
----------------------------- Captured stderr call -----------------------------
2021-01-17 12:26:50,874 INFO arctic.arctic Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
------------------------------ Captured log call -------------------------------
INFO     arctic.arctic:arctic.py:625 Mongo Quota: arctic_test.TEST 0.000 / 10 GB used
--------------------------- Captured stderr teardown ---------------------------
2021-01-17 12:27:58,441 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 15791 (total_procs_to_kill=1)
2021-01-17 12:27:58,441 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-17 12:27:58,442 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-17 12:27:58,456 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-17 12:27:58,456 DEBUG pytest_shutil.workspace 
2021-01-17 12:27:58,457 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:27:58,457 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp78qvZ8
2021-01-17 12:27:58,457 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:27:58,457 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 15791 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp78qvZ8
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_ test_should_return_data_when_date_range_falls_in_a_single_underlying_library _

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7f5dc5ada150>
arctic = <Arctic at 0x7f5d4b1d2850, connected to MongoClient(host=['127.19.13.98:1142'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_return_data_when_date_range_falls_in_a_single_underlying_library(toplevel_tickstore, arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        tstore = arctic['FEED_2010.LEVEL1']
        arctic.initialize_library('test_current.toplevel_tickstore', tickstore.TICK_STORE_TYPE)
        tickstore_current = arctic['test_current.toplevel_tickstore']
        toplevel_tickstore._collection.insert_one({'start': dt(2010, 1, 1),
                                               'end': dt(2010, 12, 31, 23, 59, 59),
                                               'library_name': 'FEED_2010.LEVEL1'})
        dates = pd.date_range('20100101', periods=6, tz=mktz('Europe/London'))
        df = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tstore.write('blah', df)
        tickstore_current.write('blah', df)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2009, 1, 1), end=dt(2010, 1, 6)), list('ABCD'))    # FIXME: CM#012 - (read missing January 1st)
    
>       assert_frame_equal(df, res.tz_convert(mktz('Europe/London')))

tests/integration/tickstore/test_toplevel.py:65: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.tox/dev27/lib/python2.7/site-packages/pandas/util/testing.py:1353: in assert_frame_equal
    '{shape!r}'.format(shape=right.shape))
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

obj = 'DataFrame', message = 'DataFrame shape mismatch', left = '(6, 4)'
right = '(5, 4)', diff = None

    def raise_assert_detail(obj, message, left, right, diff=None):
        if isinstance(left, np.ndarray):
            left = pprint_thing(left)
        elif is_categorical_dtype(left):
            left = repr(left)
        if isinstance(right, np.ndarray):
            right = pprint_thing(right)
        elif is_categorical_dtype(right):
            right = repr(right)
    
        msg = """{obj} are different
    
    {message}
    [left]:  {left}
    [right]: {right}""".format(obj=obj, message=message, left=left, right=right)
    
        if diff is not None:
            msg += "\n[diff]: {diff}".format(diff=diff)
    
>       raise AssertionError(msg)
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (6, 4)
E       [right]: (5, 4)

.tox/dev27/lib/python2.7/site-packages/pandas/util/testing.py:1093: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-17T12:40:23.470-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-17T12:40:23.471-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-17T12:40:23.471-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-17T12:40:23.472-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":29770,"port":1142,"dbPath":"/tmp/tmpzIebaP","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-17T12:40:23.472-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-17T12:40:23.472-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-17T12:40:23.472-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.19.13.98","port":1142,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpzIebaP","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-17T12:40:23.472-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:23.472-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-17T12:40:24.188-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912424:188504][29770:0x7ff782b49a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:24.188-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912424:188559][29770:0x7ff782b49a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:24.231-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":759}}
{"t":{"$date":"2021-01-17T12:40:24.231-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:24.312-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-17T12:40:24.312-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-17T12:40:24.330-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:24.331-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"3fa06331-f7d2-4069-9e0e-f83907dbc225"}},"options":{"uuid":{"$uuid":"3fa06331-f7d2-4069-9e0e-f83907dbc225"}}}}
{"t":{"$date":"2021-01-17T12:40:24.406-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:24.406-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-17T12:40:24.406-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-17T12:40:24.407-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6274cad4-bb83-4f94-9df3-0909c93f7bfd"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-17T12:40:24.481-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:24.481-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpzIebaP/diagnostic.data"}}
{"t":{"$date":"2021-01-17T12:40:24.482-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.19.13.98"}}
{"t":{"$date":"2021-01-17T12:40:24.482-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":1142,"ssl":"off"}}
{"t":{"$date":"2021-01-17T12:40:24.482-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-17T12:40:24.482-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fe1a7ef4-a919-4fef-be48-5f897987c781"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:24.543-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:46238","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:24.544-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:46240","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:24.605-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:24.605-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:24.605-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":122}}
{"t":{"$date":"2021-01-17T12:40:24.647-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:46242","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:24.649-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:46244","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:24.649-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:46246","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:24.655-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:46248","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:24.658-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:46250","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:24.658-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:46252","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:24.661-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6ef50ee1-7b7c-4f4b-8947-e45c649edd09"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:24.759-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:24.760-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"15f71a7f-1505-4021-b7bd-d95f7fe2e35d"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"6ef50ee1-7b7c-4f4b-8947-e45c649edd09"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-17T12:40:24.795-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:24.795-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"15f71a7f-1505-4021-b7bd-d95f7fe2e35d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:24.795-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"15f71a7f-1505-4021-b7bd-d95f7fe2e35d"}}}}
{"t":{"$date":"2021-01-17T12:40:24.797-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"deff6f46-0b7d-4114-9fa5-231b9e463b11"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:24.879-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:24.883-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"013f7c95-3eb3-4f54-af07-df80cb6348e9"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:24.997-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:24.997-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:24.997-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.toplevel_tickstore","command":{"createIndexes":"toplevel_tickstore","indexes":[{"key":{"start":1},"background":true,"name":"start_1"}],"lsid":{"id":{"$uuid":"a2a89970-4786-42cd-9fd3-a138b58caec4"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1},"storage":{},"protocol":"op_msg","durationMillis":113}}
---------------------------- Captured stderr setup -----------------------------
2021-01-17 12:40:23,341 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:23,341 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:23,341 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpzIebaP
2021-01-17 12:40:23,341 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-17 12:40:23,341 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:23,341 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:23,342 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-17 12:40:23,433 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.19.13.98 --port=1142 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpzIebaP
2021-01-17 12:40:23,433 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-17 12:40:23,434 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-17 12:40:23,434 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:1142
2021-01-17 12:40:24,039 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-17 12:40:24,040 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:1142
2021-01-17 12:40:24,643 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-17 12:40:24,643 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:1142
2021-01-17 12:40:24,653 DEBUG pytest_server_fixtures.base2 Server is already killed, skipping
2021-01-17 12:40:24,655 DEBUG pytest_server_fixtures.base2 waited 0:00:01.221000 for server to start successfully
2021-01-17 12:40:24,656 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-17 12:40:24,657 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-17 12:40:24,881 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpzIebaP
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.19.13.98 --port=1142 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpzIebaP
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:1142
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:1142
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:1142
DEBUG    pytest_server_fixtures.base2:base2.py:82 Server is already killed, skipping
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:01.221000 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-17T12:40:25.003-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"999eb61c-5c48-450f-8d07-7b3adc83aac4"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:25.045-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-17T12:40:25.081-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.082-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cd109963-b930-4317-8693-f2d84e0dbc0c"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:25.149-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-17T12:40:25.205-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.205-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.205-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"key":{"sy":1,"s":1},"background":true,"name":"sy_1_s_1"}],"lsid":{"id":{"$uuid":"a2a89970-4786-42cd-9fd3-a138b58caec4"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1},"storage":{},"protocol":"op_msg","durationMillis":123}}
{"t":{"$date":"2021-01-17T12:40:25.206-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"63d20973-0ee5-40dd-8549-a56f1bca82c9"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"cd109963-b930-4317-8693-f2d84e0dbc0c"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:25.241-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.241-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"63d20973-0ee5-40dd-8549-a56f1bca82c9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:25.241-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"63d20973-0ee5-40dd-8549-a56f1bca82c9"}}}}
{"t":{"$date":"2021-01-17T12:40:25.242-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3787dd65-c61d-4626-a295-238281015055"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:25.361-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.361-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.361-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1.metadata","command":{"createIndexes":"LEVEL1.metadata","indexes":[{"unique":true,"key":{"sy":1},"background":true,"name":"sy_1"}],"lsid":{"id":{"$uuid":"a2a89970-4786-42cd-9fd3-a138b58caec4"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":119}}
{"t":{"$date":"2021-01-17T12:40:25.366-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test_current.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f0482fd4-d034-4b56-afe8-0ba9d93d97c2"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:25.449-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.450-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test_current.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5c132afd-83cc-4a41-b9b7-81dba2046b21"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:25.568-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.568-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.568-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test_current.toplevel_tickstore","command":{"createIndexes":"toplevel_tickstore","indexes":[{"key":{"sy":1,"s":1},"background":true,"name":"sy_1_s_1"}],"lsid":{"id":{"$uuid":"a2a89970-4786-42cd-9fd3-a138b58caec4"}},"$db":"arctic_test_current","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":117}}
{"t":{"$date":"2021-01-17T12:40:25.568-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f5133251-87c3-4c36-97bb-c522d23a231e"}},"namespace":"arctic_test_current.toplevel_tickstore","collectionUUID":{"uuid":{"$uuid":"5c132afd-83cc-4a41-b9b7-81dba2046b21"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:25.608-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.608-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f5133251-87c3-4c36-97bb-c522d23a231e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:25.608-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f5133251-87c3-4c36-97bb-c522d23a231e"}}}}
{"t":{"$date":"2021-01-17T12:40:25.609-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test_current.toplevel_tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d667ee5c-20a3-41ce-a80c-4e62583aaafc"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:25.732-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.732-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test_current.toplevel_tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:25.732-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"arctic_test_current.toplevel_tickstore.metadata","command":{"createIndexes":"toplevel_tickstore.metadata","indexes":[{"unique":true,"key":{"sy":1},"background":true,"name":"sy_1"}],"lsid":{"id":{"$uuid":"a2a89970-4786-42cd-9fd3-a138b58caec4"}},"$db":"arctic_test_current","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":123}}
----------------------------- Captured stderr call -----------------------------
2021-01-17 12:40:25,739 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-17 12:40:25,741 DEBUG arctic.tickstore.tickstore 1 buckets in 0.000843: approx 118623962 ticks/sec
2021-01-17 12:40:25,743 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-17 12:40:25,745 DEBUG arctic.tickstore.tickstore 1 buckets in 0.00093: approx 107526881 ticks/sec
2021-01-17 12:40:25,750 INFO arctic.tickstore.tickstore Got data in 0.003427 secs, creating DataFrame...
2021-01-17 12:40:25,751 INFO arctic.tickstore.tickstore 6 rows in 0.00436 secs: 1376 ticks/sec
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.000843: approx 118623962 ticks/sec
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.00093: approx 107526881 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.003427 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.00436 secs: 1376 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-17 12:40:25,881 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 29770 (total_procs_to_kill=1)
2021-01-17 12:40:25,882 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-17 12:40:25,882 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-17 12:40:25,889 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-17 12:40:25,890 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:25,890 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:25,890 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpzIebaP
2021-01-17 12:40:25,890 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:25,890 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 29770 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpzIebaP
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
___________ test_should_return_data_when_date_range_spans_libraries ____________

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7f5d4b1ddf50>
arctic = <Arctic at 0x7f5dc5ac7190, connected to MongoClient(host=['127.19.13.98:26817'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_return_data_when_date_range_spans_libraries(toplevel_tickstore, arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        tickstore_2010 = arctic['FEED_2010.LEVEL1']
        tickstore_2011 = arctic['FEED_2011.LEVEL1']
        toplevel_tickstore.add(DateRange(start=dt(2010, 1, 1), end=dt(2010, 12, 31, 23, 59, 59, 999000)), 'FEED_2010.LEVEL1')
        toplevel_tickstore.add(DateRange(start=dt(2011, 1, 1), end=dt(2011, 12, 31, 23, 59, 59, 999000)), 'FEED_2011.LEVEL1')
        dates = pd.date_range('20100101', periods=6, tz=mktz('Europe/London'))
        df_10 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2010.write('blah', df_10)
        dates = pd.date_range('20110101', periods=6, tz=mktz('Europe/London'))
        df_11 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2011.write('blah', df_11)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 2), end=dt(2011, 1, 4)), list('ABCD'))
        expected_df = pd.concat([df_10[1:], df_11[:4]])
>       assert_frame_equal(expected_df, res.tz_convert(mktz('Europe/London')))

tests/integration/tickstore/test_toplevel.py:83: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.tox/dev27/lib/python2.7/site-packages/pandas/util/testing.py:1353: in assert_frame_equal
    '{shape!r}'.format(shape=right.shape))
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

obj = 'DataFrame', message = 'DataFrame shape mismatch', left = '(9, 4)'
right = '(7, 4)', diff = None

    def raise_assert_detail(obj, message, left, right, diff=None):
        if isinstance(left, np.ndarray):
            left = pprint_thing(left)
        elif is_categorical_dtype(left):
            left = repr(left)
        if isinstance(right, np.ndarray):
            right = pprint_thing(right)
        elif is_categorical_dtype(right):
            right = repr(right)
    
        msg = """{obj} are different
    
    {message}
    [left]:  {left}
    [right]: {right}""".format(obj=obj, message=message, left=left, right=right)
    
        if diff is not None:
            msg += "\n[diff]: {diff}".format(diff=diff)
    
>       raise AssertionError(msg)
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (9, 4)
E       [right]: (7, 4)

.tox/dev27/lib/python2.7/site-packages/pandas/util/testing.py:1093: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-17T12:40:26.027-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-17T12:40:26.033-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-17T12:40:26.033-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-17T12:40:26.033-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":29820,"port":26817,"dbPath":"/tmp/tmpvnsZI7","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-17T12:40:26.033-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-17T12:40:26.033-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-17T12:40:26.033-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.19.13.98","port":26817,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpvnsZI7","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-17T12:40:26.034-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:26.034-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-17T12:40:26.752-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912426:752383][29820:0x7fa8c9f24a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:26.752-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912426:752433][29820:0x7fa8c9f24a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:26.795-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":761}}
{"t":{"$date":"2021-01-17T12:40:26.795-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:26.854-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-17T12:40:26.854-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-17T12:40:26.874-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:26.874-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"70c2c575-dcd7-40b7-b564-78804a6c71b2"}},"options":{"uuid":{"$uuid":"70c2c575-dcd7-40b7-b564-78804a6c71b2"}}}}
{"t":{"$date":"2021-01-17T12:40:26.939-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:26.939-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-17T12:40:26.939-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-17T12:40:26.940-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"95e1a69c-cd25-41bc-a2c3-c3e54c017c6f"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-17T12:40:27.000-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.000-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpvnsZI7/diagnostic.data"}}
{"t":{"$date":"2021-01-17T12:40:27.002-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2e16d7de-93db-43bd-9b46-85e80814c3d9"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:27.002-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-17T12:40:27.002-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.19.13.98"}}
{"t":{"$date":"2021-01-17T12:40:27.002-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":26817,"ssl":"off"}}
{"t":{"$date":"2021-01-17T12:40:27.094-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.094-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.101-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:49832","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:27.103-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:49834","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:27.204-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:49836","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:27.206-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:49838","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:27.206-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:49840","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:27.211-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:49842","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:27.214-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:49844","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:27.214-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:49846","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:27.218-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a71f4c59-145a-4f98-81d6-b34570e00739"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:27.305-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.306-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1835bd5e-b6b0-42cd-ad7f-6e7a47772544"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"a71f4c59-145a-4f98-81d6-b34570e00739"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-17T12:40:27.334-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.334-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1835bd5e-b6b0-42cd-ad7f-6e7a47772544"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:27.334-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1835bd5e-b6b0-42cd-ad7f-6e7a47772544"}}}}
{"t":{"$date":"2021-01-17T12:40:27.336-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1918f62d-18cd-4e7f-8e2e-ce267bc61d0a"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:27.403-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.407-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c4fd3d51-8cc3-4f3c-bb6f-49321895401c"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:27.499-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.499-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-17 12:40:25,900 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:25,900 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:25,901 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpvnsZI7
2021-01-17 12:40:25,901 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-17 12:40:25,901 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:25,901 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:25,901 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-17 12:40:25,991 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.19.13.98 --port=26817 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpvnsZI7
2021-01-17 12:40:25,991 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-17 12:40:25,992 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-17 12:40:25,992 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:26817
2021-01-17 12:40:26,597 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-17 12:40:26,597 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:26817
2021-01-17 12:40:27,200 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-17 12:40:27,201 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:26817
2021-01-17 12:40:27,210 DEBUG pytest_server_fixtures.base2 waited 0:00:01.218742 for server to start successfully
2021-01-17 12:40:27,211 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-17 12:40:27,212 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-17 12:40:27,405 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpvnsZI7
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.19.13.98 --port=26817 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpvnsZI7
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:26817
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:26817
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:26817
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:01.218742 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-17T12:40:27.506-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6e9212dd-1a0d-4f18-b40c-3801f6360055"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:27.566-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.567-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2bfaacbc-55df-4477-baa8-495af0035307"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:27.603-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-17T12:40:27.666-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.666-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.667-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"43886fc7-cb4c-46a6-8bb7-47648b8cf4a6"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"2bfaacbc-55df-4477-baa8-495af0035307"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:27.692-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.692-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"43886fc7-cb4c-46a6-8bb7-47648b8cf4a6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:27.692-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"43886fc7-cb4c-46a6-8bb7-47648b8cf4a6"}}}}
{"t":{"$date":"2021-01-17T12:40:27.693-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f6a23ad7-d272-48f7-abc0-63e806eda319"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:27.706-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-17T12:40:27.788-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.788-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.791-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"236b961b-274c-4830-a044-d530a66d6b40"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:27.859-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.860-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ebc7ceb7-1b01-452a-906e-bc82b9177e27"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:27.945-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.945-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.946-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9b6749c8-8cf5-49e7-884d-fd9e8d73d7c4"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"ebc7ceb7-1b01-452a-906e-bc82b9177e27"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:27.974-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:27.974-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9b6749c8-8cf5-49e7-884d-fd9e8d73d7c4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:27.974-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9b6749c8-8cf5-49e7-884d-fd9e8d73d7c4"}}}}
{"t":{"$date":"2021-01-17T12:40:27.975-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cf9c0516-3e61-4e17-9ac2-5bba0425ad24"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:28.063-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:28.063-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-17 12:40:28,076 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-17 12:40:28,078 DEBUG arctic.tickstore.tickstore 1 buckets in 0.000938: approx 106609808 ticks/sec
2021-01-17 12:40:28,080 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-17 12:40:28,082 DEBUG arctic.tickstore.tickstore 1 buckets in 0.000799: approx 125156445 ticks/sec
2021-01-17 12:40:28,087 INFO arctic.tickstore.tickstore Got data in 0.003276 secs, creating DataFrame...
2021-01-17 12:40:28,088 INFO arctic.tickstore.tickstore 6 rows in 0.004197 secs: 1429 ticks/sec
2021-01-17 12:40:28,092 INFO arctic.tickstore.tickstore Got data in 0.00308 secs, creating DataFrame...
2021-01-17 12:40:28,092 INFO arctic.tickstore.tickstore 6 rows in 0.003896 secs: 1540 ticks/sec
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.000938: approx 106609808 ticks/sec
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.000799: approx 125156445 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.003276 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.004197 secs: 1429 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.00308 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.003896 secs: 1540 ticks/sec
--------------------------- Captured stdout teardown ---------------------------
{"t":{"$date":"2021-01-17T12:40:28.215-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn6","msg":"Interrupted operation as its client disconnected","attr":{"opId":21}}
--------------------------- Captured stderr teardown ---------------------------
2021-01-17 12:40:28,229 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 29820 (total_procs_to_kill=1)
2021-01-17 12:40:28,230 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-17 12:40:28,230 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-17 12:40:28,237 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-17 12:40:28,237 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:28,238 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:28,238 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpvnsZI7
2021-01-17 12:40:28,238 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:28,238 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 29820 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpvnsZI7
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_ test_should_return_data_when_date_range_spans_libraries_even_if_one_returns_nothing _

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7f5dad26f910>
arctic = <Arctic at 0x7f5dc5b7e5d0, connected to MongoClient(host=['127.19.13.98:23165'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_return_data_when_date_range_spans_libraries_even_if_one_returns_nothing(toplevel_tickstore, arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        tickstore_2010 = arctic['FEED_2010.LEVEL1']
        tickstore_2011 = arctic['FEED_2011.LEVEL1']
        toplevel_tickstore.add(DateRange(start=dt(2010, 1, 1), end=dt(2010, 12, 31, 23, 59, 59, 999000)), 'FEED_2010.LEVEL1')
        toplevel_tickstore.add(DateRange(start=dt(2011, 1, 1), end=dt(2011, 12, 31, 23, 59, 59, 999000)), 'FEED_2011.LEVEL1')
        dates = pd.date_range('20100101', periods=6, tz=mktz('Europe/London'))
        df_10 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2010.write('blah', df_10)
        dates = pd.date_range('20110201', periods=6, tz=mktz('Europe/London'))
        df_11 = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list('ABCD'))
        tickstore_2011.write('blah', df_11)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 2), end=dt(2011, 1, 4)), list('ABCD'))
        expected_df = df_10[1:]
>       assert_frame_equal(expected_df, res.tz_convert(mktz('Europe/London')))

tests/integration/tickstore/test_toplevel.py:101: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.tox/dev27/lib/python2.7/site-packages/pandas/util/testing.py:1353: in assert_frame_equal
    '{shape!r}'.format(shape=right.shape))
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

obj = 'DataFrame', message = 'DataFrame shape mismatch', left = '(5, 4)'
right = '(4, 4)', diff = None

    def raise_assert_detail(obj, message, left, right, diff=None):
        if isinstance(left, np.ndarray):
            left = pprint_thing(left)
        elif is_categorical_dtype(left):
            left = repr(left)
        if isinstance(right, np.ndarray):
            right = pprint_thing(right)
        elif is_categorical_dtype(right):
            right = repr(right)
    
        msg = """{obj} are different
    
    {message}
    [left]:  {left}
    [right]: {right}""".format(obj=obj, message=message, left=left, right=right)
    
        if diff is not None:
            msg += "\n[diff]: {diff}".format(diff=diff)
    
>       raise AssertionError(msg)
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (5, 4)
E       [right]: (4, 4)

.tox/dev27/lib/python2.7/site-packages/pandas/util/testing.py:1093: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-17T12:40:28.374-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-17T12:40:28.376-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-17T12:40:28.376-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-17T12:40:28.377-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":29870,"port":23165,"dbPath":"/tmp/tmpmsPakt","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-17T12:40:28.377-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-17T12:40:28.377-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-17T12:40:28.377-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.19.13.98","port":23165,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpmsPakt","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-17T12:40:28.378-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:28.378-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-17T12:40:29.094-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912429:94264][29870:0x7f46ec495a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:29.094-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912429:94318][29870:0x7f46ec495a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:29.140-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":762}}
{"t":{"$date":"2021-01-17T12:40:29.140-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:29.199-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-17T12:40:29.199-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-17T12:40:29.218-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:29.218-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"cd4accb4-7ae7-43f7-840e-320f1e133f7b"}},"options":{"uuid":{"$uuid":"cd4accb4-7ae7-43f7-840e-320f1e133f7b"}}}}
{"t":{"$date":"2021-01-17T12:40:29.286-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:29.286-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-17T12:40:29.286-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-17T12:40:29.287-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2bcbe535-c01a-449a-9eca-58685362ec2e"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-17T12:40:29.347-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:29.347-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpmsPakt/diagnostic.data"}}
{"t":{"$date":"2021-01-17T12:40:29.348-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-17T12:40:29.348-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.19.13.98"}}
{"t":{"$date":"2021-01-17T12:40:29.348-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":23165,"ssl":"off"}}
{"t":{"$date":"2021-01-17T12:40:29.348-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f94a6b08-31de-4965-a1ec-43b559d8c9b3"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:29.440-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:29.440-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:29.445-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:50414","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:29.447-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:50416","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:29.549-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:50418","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:29.550-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:50420","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:29.551-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:50422","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:29.555-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:50424","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:29.558-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:50426","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:29.559-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:50428","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:29.563-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2ead1afe-55e1-43ea-b345-2a6291cccb90"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:29.654-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:29.654-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b84c76f6-72ca-4ed3-a9c7-79f2895b82d0"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"2ead1afe-55e1-43ea-b345-2a6291cccb90"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-17T12:40:29.679-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:29.679-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b84c76f6-72ca-4ed3-a9c7-79f2895b82d0"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:29.679-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b84c76f6-72ca-4ed3-a9c7-79f2895b82d0"}}}}
{"t":{"$date":"2021-01-17T12:40:29.681-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a96a2127-731f-4feb-af55-31a3c83ab37a"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:29.748-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:29.752-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"695986f5-7187-421c-b767-e23658fdc82c"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:29.846-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:29.846-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-17 12:40:28,244 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:28,244 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:28,245 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpmsPakt
2021-01-17 12:40:28,245 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-17 12:40:28,245 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:28,245 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:28,245 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-17 12:40:28,334 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.19.13.98 --port=23165 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpmsPakt
2021-01-17 12:40:28,335 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-17 12:40:28,335 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-17 12:40:28,336 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:23165
2021-01-17 12:40:28,941 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-17 12:40:28,941 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:23165
2021-01-17 12:40:29,544 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-17 12:40:29,545 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:23165
2021-01-17 12:40:29,555 DEBUG pytest_server_fixtures.base2 waited 0:00:01.219394 for server to start successfully
2021-01-17 12:40:29,555 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-17 12:40:29,556 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-17 12:40:29,750 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpmsPakt
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.19.13.98 --port=23165 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpmsPakt
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:23165
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:23165
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:23165
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:01.219394 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-17T12:40:29.852-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4d2a0f02-8b8b-40df-944a-2d225dcd04a5"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:29.910-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:29.912-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e1a5ced5-3b20-4013-bb99-d2b030f702c4"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:29.947-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-17T12:40:30.010-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:30.010-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:30.010-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7235b03e-ac3c-42a8-85b8-4b5c935763db"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"e1a5ced5-3b20-4013-bb99-d2b030f702c4"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:30.039-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:30.039-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7235b03e-ac3c-42a8-85b8-4b5c935763db"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:30.039-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7235b03e-ac3c-42a8-85b8-4b5c935763db"}}}}
{"t":{"$date":"2021-01-17T12:40:30.040-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fa820361-4545-4eb1-aee6-2efd7cb1bffd"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:30.051-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-17T12:40:30.132-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:30.132-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:30.136-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e0231f5d-fcd2-4afd-bda3-35d25d4bcd57"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:30.201-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:30.202-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f87747bc-043f-4b0f-997b-b9ba522a1504"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:30.289-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:30.289-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:30.290-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1ca0bfdf-6556-444c-a069-59b9fe5b5720"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"f87747bc-043f-4b0f-997b-b9ba522a1504"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:30.315-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:30.315-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1ca0bfdf-6556-444c-a069-59b9fe5b5720"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:30.315-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1ca0bfdf-6556-444c-a069-59b9fe5b5720"}}}}
{"t":{"$date":"2021-01-17T12:40:30.316-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3a60a96b-bd6a-464f-9d12-df6727f65d0c"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:30.401-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:30.401-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-17 12:40:30,411 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-17 12:40:30,414 DEBUG arctic.tickstore.tickstore 1 buckets in 0.000802: approx 124688279 ticks/sec
2021-01-17 12:40:30,416 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
2021-01-17 12:40:30,417 DEBUG arctic.tickstore.tickstore 1 buckets in 0.000712: approx 140449438 ticks/sec
2021-01-17 12:40:30,422 INFO arctic.tickstore.tickstore Got data in 0.003135 secs, creating DataFrame...
2021-01-17 12:40:30,423 INFO arctic.tickstore.tickstore 6 rows in 0.004056 secs: 1479 ticks/sec
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.000802: approx 124688279 ticks/sec
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.000712: approx 140449438 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.003135 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 6 rows in 0.004056 secs: 1479 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-17 12:40:30,648 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 29870 (total_procs_to_kill=1)
2021-01-17 12:40:30,649 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-17 12:40:30,649 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-17 12:40:30,656 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-17 12:40:30,656 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:30,657 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:30,657 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpmsPakt
2021-01-17 12:40:30,657 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:30,657 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 29870 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpmsPakt
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_ test_should_add_underlying_library_where_another_library_exists_in_a_non_overlapping_daterange _

toplevel_tickstore = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7f5dad322610>
arctic = <Arctic at 0x7f5dc5cbf6d0, connected to MongoClient(host=['127.19.13.98:24788'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_add_underlying_library_where_another_library_exists_in_a_non_overlapping_daterange(toplevel_tickstore, arctic):
        toplevel_tickstore._collection.insert_one({'library_name': 'FEED_2011.LEVEL1', 'start': dt(2011, 1, 1), 'end': dt(2011, 12, 31)})
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
>       toplevel_tickstore.add(DateRange(start=dt(2010, 1, 1), end=dt(2010, 12, 31, 23, 59, 59, 999000)), 'FEED_2010.LEVEL1')

tests/integration/tickstore/test_toplevel.py:113: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <arctic.tickstore.toplevel.TopLevelTickStore object at 0x7f5dad322610>
date_range = DateRange(start=datetime.datetime(2010, 1, 1, 0, 0), end=datetime.datetime(2010, 12, 31, 23, 59, 59, 999000))
library_name = 'FEED_2010.LEVEL1'

        def add(self, date_range, library_name):
            """
            Adds the library with the given date range to the underlying collection of libraries used by this store.
            The underlying libraries should not overlap as the date ranges are assumed to be CLOSED_CLOSED by this function
            and the rest of the class.
    
            Arguments:
    
            date_range: A date range provided on the assumption that it is CLOSED_CLOSED. If for example the underlying
            libraries were split by year, the start of the date range would be datetime.datetime(year, 1, 1) and the end
            would be datetime.datetime(year, 12, 31, 23, 59, 59, 999000). The date range must fall on UTC day boundaries,
            that is the start must be add midnight and the end must be 1 millisecond before midnight.
    
            library_name: The name of the underlying library. This must be the name of a valid Arctic library
            """
            # check that the library is valid
            try:
                self._arctic_lib.arctic[library_name]
            except Exception as e:
                logger.error("Could not load library")
                raise e
            assert date_range.start and date_range.end, "Date range should have start and end properties {}".format(date_range)
            start = date_range.start.astimezone(mktz('UTC')) if date_range.start.tzinfo is not None else date_range.start.replace(tzinfo=mktz('UTC'))
            end = date_range.end.astimezone(mktz('UTC')) if date_range.end.tzinfo is not None else date_range.end.replace(tzinfo=mktz('UTC'))
            assert start.time() == time.min and end.time() == end_time_min, "Date range should fall on UTC day boundaries {}".format(date_range)
            # check that the date range does not overlap
            library_metadata = self._get_library_metadata(date_range)
            if len(library_metadata) > 1 or (len(library_metadata) == 1 and library_metadata[0] != library_name):
                raise OverlappingDataException("""There are libraries that overlap with the date range:
    library: {}
>   overlapping libraries: {}""".format(library_name, [lib.library for lib in library_metadata]))
E   OverlappingDataException: There are libraries that overlap with the date range:
E   library: FEED_2010.LEVEL1
E   overlapping libraries: [u'FEED_2011.LEVEL1']

arctic/tickstore/toplevel.py:101: OverlappingDataException
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-17T12:40:32.726-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-17T12:40:32.728-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-17T12:40:32.728-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-17T12:40:32.728-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":29970,"port":24788,"dbPath":"/tmp/tmp3H18VR","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-17T12:40:32.728-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-17T12:40:32.728-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-17T12:40:32.728-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.19.13.98","port":24788,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmp3H18VR","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-17T12:40:32.729-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:32.729-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-17T12:40:33.561-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912433:561774][29970:0x7f54f23bfa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:33.561-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912433:561848][29970:0x7f54f23bfa80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:33.607-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":878}}
{"t":{"$date":"2021-01-17T12:40:33.607-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:33.668-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-17T12:40:33.669-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-17T12:40:33.689-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:33.689-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"478a2641-341e-41f1-8198-88ca95be98bb"}},"options":{"uuid":{"$uuid":"478a2641-341e-41f1-8198-88ca95be98bb"}}}}
{"t":{"$date":"2021-01-17T12:40:33.755-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:33.755-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-17T12:40:33.756-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-17T12:40:33.757-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"292d11c1-ffae-4236-b9b3-83b5262a6c2f"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-17T12:40:33.819-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:33.819-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmp3H18VR/diagnostic.data"}}
{"t":{"$date":"2021-01-17T12:40:33.821-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-17T12:40:33.821-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.19.13.98"}}
{"t":{"$date":"2021-01-17T12:40:33.821-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":24788,"ssl":"off"}}
{"t":{"$date":"2021-01-17T12:40:33.821-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4cb0af99-abc8-470e-ac8e-77efa47ed124"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:33.902-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:40708","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:33.904-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:40710","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:33.905-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:40712","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:33.911-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:40714","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:33.913-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:40716","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:33.913-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:40718","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:33.916-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:33.916-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:33.918-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8d54d141-0743-4034-8d0e-eff596b959ec"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:33.986-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:33.988-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"889e41b4-3bdb-4284-8dfc-3cd89d995047"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"8d54d141-0743-4034-8d0e-eff596b959ec"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-17T12:40:34.017-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:34.017-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"889e41b4-3bdb-4284-8dfc-3cd89d995047"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:34.017-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"889e41b4-3bdb-4284-8dfc-3cd89d995047"}}}}
{"t":{"$date":"2021-01-17T12:40:34.020-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6ece94f2-49e7-4437-b23b-99589a22e5f9"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:34.110-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:34.116-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.toplevel_tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"81fb2d9b-9143-435b-b46c-e052849a23ed"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:34.209-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:34.209-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.toplevel_tickstore","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-17 12:40:32,594 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:32,594 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:32,595 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmp3H18VR
2021-01-17 12:40:32,595 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-17 12:40:32,595 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:32,595 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:32,595 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-17 12:40:32,687 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.19.13.98 --port=24788 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp3H18VR
2021-01-17 12:40:32,687 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-17 12:40:32,688 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-17 12:40:32,688 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:24788
2021-01-17 12:40:33,293 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-17 12:40:33,294 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:24788
2021-01-17 12:40:33,897 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-17 12:40:33,898 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:24788
2021-01-17 12:40:33,909 DEBUG pytest_server_fixtures.base2 waited 0:00:01.221499 for server to start successfully
2021-01-17 12:40:33,909 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-17 12:40:33,910 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
2021-01-17 12:40:34,113 DEBUG root Cache has expired data, fetching from slow path and reloading cache.
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmp3H18VR
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.19.13.98 --port=24788 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmp3H18VR
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:24788
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:24788
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:24788
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:01.221499 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
DEBUG    root:arctic.py:234 Cache has expired data, fetching from slow path and reloading cache.
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-17T12:40:34.219-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b2a18153-fd1c-4231-bd39-7607342fe914"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:34.280-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:34.281-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b62dd704-a907-47f7-8bbb-37e5e23326e4"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:34.382-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:34.382-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:34.382-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"key":{"sy":1,"s":1},"background":true,"name":"sy_1_s_1"}],"lsid":{"id":{"$uuid":"6cc9c51d-d163-431f-a3d0-fdc4a9bb5dff"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":100}}
{"t":{"$date":"2021-01-17T12:40:34.383-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5f9c4651-3b1b-434d-b55a-cfcf3a049a79"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"b62dd704-a907-47f7-8bbb-37e5e23326e4"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:34.404-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-17T12:40:34.408-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:34.408-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5f9c4651-3b1b-434d-b55a-cfcf3a049a79"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:34.408-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5f9c4651-3b1b-434d-b55a-cfcf3a049a79"}}}}
{"t":{"$date":"2021-01-17T12:40:34.409-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e745b4fd-4914-46cf-b708-cae82b6c267b"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:34.505-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:34.505-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
--------------------------- Captured stderr teardown ---------------------------
2021-01-17 12:40:34,580 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 29970 (total_procs_to_kill=1)
2021-01-17 12:40:34,580 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-17 12:40:34,581 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-17 12:40:34,588 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-17 12:40:34,588 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:34,589 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:34,589 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmp3H18VR
2021-01-17 12:40:34,589 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:34,589 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 29970 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmp3H18VR
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
________________ test_should_write_top_level_with_list_of_dicts ________________

arctic = <Arctic at 0x7f5dad341310, connected to MongoClient(host=['127.19.13.98:11950'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_write_top_level_with_list_of_dicts(arctic):
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED.LEVEL1', toplevel.TICK_STORE_TYPE)
        toplevel_tickstore = arctic['FEED.LEVEL1']
        dates = pd.date_range('20101201', periods=57, tz=mktz('Europe/London'))
        data = [{'index': dates[i], 'a': i} for i in range(len(dates))]
        expected = pd.DataFrame(np.arange(57, dtype=np.float64), index=dates, columns=list('a'))
        toplevel_tickstore.write('blah', data)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 12, 1), end=dt(2011, 2, 1)), columns=list('a'))
>       assert_frame_equal(expected, res.tz_convert(mktz('Europe/London')))

tests/integration/tickstore/test_toplevel.py:197: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.tox/dev27/lib/python2.7/site-packages/pandas/util/testing.py:1353: in assert_frame_equal
    '{shape!r}'.format(shape=right.shape))
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

obj = 'DataFrame', message = 'DataFrame shape mismatch', left = '(57, 1)'
right = '(55, 1)', diff = None

    def raise_assert_detail(obj, message, left, right, diff=None):
        if isinstance(left, np.ndarray):
            left = pprint_thing(left)
        elif is_categorical_dtype(left):
            left = repr(left)
        if isinstance(right, np.ndarray):
            right = pprint_thing(right)
        elif is_categorical_dtype(right):
            right = repr(right)
    
        msg = """{obj} are different
    
    {message}
    [left]:  {left}
    [right]: {right}""".format(obj=obj, message=message, left=left, right=right)
    
        if diff is not None:
            msg += "\n[diff]: {diff}".format(diff=diff)
    
>       raise AssertionError(msg)
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (57, 1)
E       [right]: (55, 1)

.tox/dev27/lib/python2.7/site-packages/pandas/util/testing.py:1093: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-17T12:40:51.364-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-17T12:40:51.367-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-17T12:40:51.368-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-17T12:40:51.368-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":30375,"port":11950,"dbPath":"/tmp/tmpBDdVqG","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-17T12:40:51.368-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-17T12:40:51.368-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-17T12:40:51.368-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.19.13.98","port":11950,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpBDdVqG","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-17T12:40:51.369-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:51.369-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-17T12:40:52.249-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912452:249363][30375:0x7fde1bc78a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:52.249-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912452:249438][30375:0x7fde1bc78a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:52.299-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":930}}
{"t":{"$date":"2021-01-17T12:40:52.299-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.359-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-17T12:40:52.360-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-17T12:40:52.381-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:52.382-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"86d134ce-938f-4096-bca2-95214cf1a3ad"}},"options":{"uuid":{"$uuid":"86d134ce-938f-4096-bca2-95214cf1a3ad"}}}}
{"t":{"$date":"2021-01-17T12:40:52.450-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.451-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-17T12:40:52.451-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-17T12:40:52.453-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b610766c-483d-4aff-98d0-f8b5b5f91022"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-17T12:40:52.520-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.520-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpBDdVqG/diagnostic.data"}}
{"t":{"$date":"2021-01-17T12:40:52.524-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-17T12:40:52.524-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3c28745e-1f27-4364-a0cf-8ec1817af7a2"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:52.524-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.19.13.98"}}
{"t":{"$date":"2021-01-17T12:40:52.525-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":11950,"ssl":"off"}}
{"t":{"$date":"2021-01-17T12:40:52.546-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:46700","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:52.550-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:46702","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:52.552-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:46704","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:52.560-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:46706","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:52.566-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:46708","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:52.568-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:46710","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:52.575-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2ce2410d-50ca-45d7-b9b5-f2850959188f"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:52.654-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.654-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.654-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"LogicalSessionCacheRefresh","msg":"Slow query","attr":{"type":"command","ns":"config.system.sessions","command":{"createIndexes":"system.sessions","indexes":[{"key":{"lastUse":1},"name":"lsidTTLIndex","expireAfterSeconds":1800}],"writeConcern":{},"$db":"config"},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":3,"w":2}},"Mutex":{"acquireCount":{"r":6}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":2},"storage":{},"protocol":"op_msg","durationMillis":129}}
{"t":{"$date":"2021-01-17T12:40:52.686-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.686-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"meta_db.cache","command":{"create":"cache","lsid":{"id":{"$uuid":"746c04c1-d4c6-4d1e-82d3-58166199e751"}},"$db":"meta_db","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":38,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":3}},"ReplicationStateTransition":{"acquireCount":{"w":3}},"Global":{"acquireCount":{"r":2,"w":1}},"Database":{"acquireCount":{"r":2,"w":1}},"Collection":{"acquireCount":{"r":2,"w":1}},"Mutex":{"acquireCount":{"r":4}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":111}}
{"t":{"$date":"2021-01-17T12:40:52.688-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"af072dfd-72a0-45a7-8b60-3e35e23bbd73"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"2ce2410d-50ca-45d7-b9b5-f2850959188f"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-17T12:40:52.719-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.719-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"af072dfd-72a0-45a7-8b60-3e35e23bbd73"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:52.719-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"af072dfd-72a0-45a7-8b60-3e35e23bbd73"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-17 12:40:51,233 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:51,233 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:51,233 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpBDdVqG
2021-01-17 12:40:51,233 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-17 12:40:51,233 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:51,233 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:51,234 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-17 12:40:51,326 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.19.13.98 --port=11950 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpBDdVqG
2021-01-17 12:40:51,327 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-17 12:40:51,327 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-17 12:40:51,328 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:11950
2021-01-17 12:40:51,932 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-17 12:40:51,933 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:11950
2021-01-17 12:40:52,539 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-17 12:40:52,539 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:11950
2021-01-17 12:40:52,560 DEBUG pytest_server_fixtures.base2 waited 0:00:01.233057 for server to start successfully
2021-01-17 12:40:52,561 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-17 12:40:52,563 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpBDdVqG
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.19.13.98 --port=11950 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpBDdVqG
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:11950
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:11950
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:11950
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:01.233057 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-17T12:40:52.726-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7016e85f-1cf7-4853-8699-8e28bcfbdb41"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:52.795-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.797-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c7a32f5b-0352-4c97-9b2e-c5a9c7af7daf"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:52.913-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.914-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.914-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"arctic_FEED_2010.LEVEL1","command":{"createIndexes":"LEVEL1","indexes":[{"key":{"sy":1,"s":1},"background":true,"name":"sy_1_s_1"}],"lsid":{"id":{"$uuid":"746c04c1-d4c6-4d1e-82d3-58166199e751"}},"$db":"arctic_FEED_2010","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":116}}
{"t":{"$date":"2021-01-17T12:40:52.915-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"65dd9fbf-d519-4c79-be70-401ff01d7868"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"c7a32f5b-0352-4c97-9b2e-c5a9c7af7daf"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:52.951-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:52.951-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"65dd9fbf-d519-4c79-be70-401ff01d7868"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:52.951-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"65dd9fbf-d519-4c79-be70-401ff01d7868"}}}}
{"t":{"$date":"2021-01-17T12:40:52.953-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b51defa7-63bb-4d1f-927f-c1401b439773"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:53.048-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.048-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.050-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-17T12:40:53.055-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3df8f46b-e15c-45a8-a291-611625102f8e"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:53.118-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.119-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d299e027-1b37-434e-9e86-1499e744df50"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:53.216-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.217-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.218-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"927be718-c693-4b0e-ae10-faf6fbc18a52"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"d299e027-1b37-434e-9e86-1499e744df50"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:53.250-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.250-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"927be718-c693-4b0e-ae10-faf6fbc18a52"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:53.250-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"927be718-c693-4b0e-ae10-faf6fbc18a52"}}}}
{"t":{"$date":"2021-01-17T12:40:53.251-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ef45d679-327c-498a-a1c5-b5286417c6f2"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:53.349-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.349-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.353-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b787949f-b167-4378-b2ff-4b22b8ab2981"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:53.408-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.414-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"23cff51c-b446-4345-8a44-2e7e34b43fad"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:53.473-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.477-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c837b6e1-df8c-4bdb-846b-be68d2eefcce"}},"namespace":"arctic_FEED.LEVEL1","collectionUUID":{"uuid":{"$uuid":"23cff51c-b446-4345-8a44-2e7e34b43fad"}},"indexes":1,"firstIndex":{"name":"start_1"}}}
{"t":{"$date":"2021-01-17T12:40:53.542-07:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"namespace":"arctic_FEED.LEVEL1","buildUUID":null,"properties":{"v":2,"key":{"start":1},"name":"start_1","background":true},"method":"Hybrid","maxTemporaryMemoryUsageMB":200}}
{"t":{"$date":"2021-01-17T12:40:53.542-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c837b6e1-df8c-4bdb-846b-be68d2eefcce"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:53.542-07:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"totalRecords":2,"durationMillis":0}}
{"t":{"$date":"2021-01-17T12:40:53.543-07:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"arctic_FEED.LEVEL1","index":"start_1","keysInserted":2,"durationMillis":0}}
{"t":{"$date":"2021-01-17T12:40:53.549-07:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"c837b6e1-df8c-4bdb-846b-be68d2eefcce"}}}}
{"t":{"$date":"2021-01-17T12:40:53.549-07:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"c837b6e1-df8c-4bdb-846b-be68d2eefcce"}},"action":"Single-phase commit"}}
{"t":{"$date":"2021-01-17T12:40:53.549-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:53.561-07:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"c837b6e1-df8c-4bdb-846b-be68d2eefcce"}},"namespace":"arctic_FEED.LEVEL1","uuid":{"uuid":{"$uuid":"23cff51c-b446-4345-8a44-2e7e34b43fad"}},"indexesBuilt":1,"numIndexesBefore":1,"numIndexesAfter":2}}
{"t":{"$date":"2021-01-17T12:40:53.562-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c837b6e1-df8c-4bdb-846b-be68d2eefcce"}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-17 12:40:53,578 DEBUG arctic.tickstore.tickstore 1 buckets in 0.001161: approx 86132644 ticks/sec
2021-01-17 12:40:53,583 DEBUG arctic.tickstore.tickstore 1 buckets in 0.001014: approx 98619329 ticks/sec
2021-01-17 12:40:53,589 INFO arctic.tickstore.tickstore Got data in 0.003597 secs, creating DataFrame...
2021-01-17 12:40:53,590 INFO arctic.tickstore.tickstore 31 rows in 0.004614 secs: 6718 ticks/sec
2021-01-17 12:40:53,594 INFO arctic.tickstore.tickstore Got data in 0.003441 secs, creating DataFrame...
2021-01-17 12:40:53,595 INFO arctic.tickstore.tickstore 26 rows in 0.004322 secs: 6015 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.001161: approx 86132644 ticks/sec
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.001014: approx 98619329 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.003597 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 31 rows in 0.004614 secs: 6718 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.003441 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 26 rows in 0.004322 secs: 6015 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-17 12:40:53,768 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 30375 (total_procs_to_kill=1)
2021-01-17 12:40:53,768 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-17 12:40:53,769 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-17 12:40:53,776 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-17 12:40:53,776 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:53,776 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:53,777 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpBDdVqG
2021-01-17 12:40:53,777 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:53,777 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 30375 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpBDdVqG
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
______________ test_should_write_top_level_with_correct_timezone _______________

arctic = <Arctic at 0x7f5dc597b190, connected to MongoClient(host=['127.19.13.98:18617'], document_class=dict, tz_aware=False, connect=True)>

    def test_should_write_top_level_with_correct_timezone(arctic):
        # Write timezone aware data and read back in UTC
        utc = mktz('UTC')
        arctic.initialize_library('FEED_2010.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED_2011.LEVEL1', tickstore.TICK_STORE_TYPE)
        arctic.initialize_library('FEED.LEVEL1', toplevel.TICK_STORE_TYPE)
        toplevel_tickstore = arctic['FEED.LEVEL1']
        dates = pd.date_range('20101230220000', periods=10, tz=mktz('America/New_York'))  # 10pm New York time is 3am next day UTC
        data = [{'index': dates[i], 'a': i} for i in range(len(dates))]
        expected = pd.DataFrame(np.arange(len(dates), dtype=np.float64), index=dates.tz_convert(utc), columns=list('a'))
        toplevel_tickstore.write('blah', data)
        res = toplevel_tickstore.read('blah', DateRange(start=dt(2010, 1, 1), end=dt(2011, 12, 31)), columns=list('a')).tz_convert(utc)
>       assert_frame_equal(expected, res)

tests/integration/tickstore/test_toplevel.py:215: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.tox/dev27/lib/python2.7/site-packages/pandas/util/testing.py:1353: in assert_frame_equal
    '{shape!r}'.format(shape=right.shape))
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

obj = 'DataFrame', message = 'DataFrame shape mismatch', left = '(10, 1)'
right = '(9, 1)', diff = None

    def raise_assert_detail(obj, message, left, right, diff=None):
        if isinstance(left, np.ndarray):
            left = pprint_thing(left)
        elif is_categorical_dtype(left):
            left = repr(left)
        if isinstance(right, np.ndarray):
            right = pprint_thing(right)
        elif is_categorical_dtype(right):
            right = repr(right)
    
        msg = """{obj} are different
    
    {message}
    [left]:  {left}
    [right]: {right}""".format(obj=obj, message=message, left=left, right=right)
    
        if diff is not None:
            msg += "\n[diff]: {diff}".format(diff=diff)
    
>       raise AssertionError(msg)
E       AssertionError: DataFrame are different
E       
E       DataFrame shape mismatch
E       [left]:  (10, 1)
E       [right]: (9, 1)

.tox/dev27/lib/python2.7/site-packages/pandas/util/testing.py:1093: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-17T12:40:53.931-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-17T12:40:53.933-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-17T12:40:53.933-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-17T12:40:53.934-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":30423,"port":18617,"dbPath":"/tmp/tmpmBYwJV","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-17T12:40:53.934-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-17T12:40:53.934-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-17T12:40:53.934-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.19.13.98","port":18617,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpmBYwJV","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-17T12:40:53.934-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:53.934-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-17T12:40:54.898-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912454:898363][30423:0x7fa667177a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:54.898-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912454:898427][30423:0x7fa667177a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:40:54.946-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":1012}}
{"t":{"$date":"2021-01-17T12:40:54.946-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:55.006-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-17T12:40:55.006-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-17T12:40:55.026-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:40:55.027-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"6700876c-f272-4536-9dc9-ea08b58afab1"}},"options":{"uuid":{"$uuid":"6700876c-f272-4536-9dc9-ea08b58afab1"}}}}
{"t":{"$date":"2021-01-17T12:40:55.091-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:55.091-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-17T12:40:55.091-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-17T12:40:55.092-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7f7c8385-9aa6-4fde-9780-68f14431f8c4"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-17T12:40:55.155-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:55.155-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpmBYwJV/diagnostic.data"}}
{"t":{"$date":"2021-01-17T12:40:55.157-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-17T12:40:55.157-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.19.13.98"}}
{"t":{"$date":"2021-01-17T12:40:55.157-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":18617,"ssl":"off"}}
{"t":{"$date":"2021-01-17T12:40:55.157-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"273e96f1-5f98-4105-8f0c-063b0cfd103d"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:55.252-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:55.252-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:55.606-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:49658","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:55.607-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:49660","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:55.710-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:49662","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:55.712-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:49664","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:55.712-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:49666","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:55.716-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:49668","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:55.718-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:49670","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:55.719-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:49672","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:40:55.722-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bff66c9b-85f8-47fa-b482-82187600c123"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:55.810-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:55.811-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0ab967d5-03e2-42c3-9ccc-acd5fb14730a"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"bff66c9b-85f8-47fa-b482-82187600c123"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-17T12:40:55.840-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:55.840-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0ab967d5-03e2-42c3-9ccc-acd5fb14730a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:55.840-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0ab967d5-03e2-42c3-9ccc-acd5fb14730a"}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-17 12:40:53,788 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:53,788 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:53,788 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpmBYwJV
2021-01-17 12:40:53,789 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-17 12:40:53,789 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:53,789 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:53,789 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-17 12:40:53,890 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.19.13.98 --port=18617 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpmBYwJV
2021-01-17 12:40:53,891 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-17 12:40:53,891 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-17 12:40:53,892 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:18617
2021-01-17 12:40:54,497 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-17 12:40:54,498 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:18617
2021-01-17 12:40:55,101 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-17 12:40:55,102 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:18617
2021-01-17 12:40:55,706 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-17 12:40:55,706 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:18617
2021-01-17 12:40:55,716 DEBUG pytest_server_fixtures.base2 waited 0:00:01.824844 for server to start successfully
2021-01-17 12:40:55,717 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-17 12:40:55,718 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpmBYwJV
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.19.13.98 --port=18617 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpmBYwJV
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:18617
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:18617
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:18617
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:18617
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:01.824844 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stdout call -----------------------------
{"t":{"$date":"2021-01-17T12:40:55.843-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b9e32ee2-1eff-42bb-8d7f-a5daa2291b1d"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:55.906-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:55.907-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d1a589a3-7ab9-403d-a871-ac71716d00cb"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:56.001-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.001-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.002-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"135af9e7-285c-43e9-a12f-7dea439492d7"}},"namespace":"arctic_FEED_2010.LEVEL1","collectionUUID":{"uuid":{"$uuid":"d1a589a3-7ab9-403d-a871-ac71716d00cb"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:56.037-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.037-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"135af9e7-285c-43e9-a12f-7dea439492d7"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:56.037-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"135af9e7-285c-43e9-a12f-7dea439492d7"}}}}
{"t":{"$date":"2021-01-17T12:40:56.038-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2010.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2459ae28-9f20-4044-b23b-c922ddb0a57c"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:56.108-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-17T12:40:56.131-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.131-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2010.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.135-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"96da663b-bd10-4138-ac07-be66154b970b"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:56.195-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.196-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ff235909-214c-4144-9674-26eeaa217492"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:56.212-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn3","msg":"Interrupted operation as its client disconnected","attr":{"opId":16}}
{"t":{"$date":"2021-01-17T12:40:56.289-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.289-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.290-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9553cc13-2666-40e0-b36b-c7867a87633c"}},"namespace":"arctic_FEED_2011.LEVEL1","collectionUUID":{"uuid":{"$uuid":"ff235909-214c-4144-9674-26eeaa217492"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:40:56.321-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.321-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9553cc13-2666-40e0-b36b-c7867a87633c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:56.321-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9553cc13-2666-40e0-b36b-c7867a87633c"}}}}
{"t":{"$date":"2021-01-17T12:40:56.322-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED_2011.LEVEL1.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f0a69ac2-6857-456f-9958-8d233105ab33"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:56.417-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.417-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED_2011.LEVEL1.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.421-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"05b2edf7-7ade-4c9c-8ed8-9232cc20ba95"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:56.477-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.481-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_FEED.LEVEL1","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4cecdb39-90db-4c59-b14e-175b888b2d0b"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:40:56.537-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.541-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0f6d1c21-ae17-49ed-b300-54f3a946a9f3"}},"namespace":"arctic_FEED.LEVEL1","collectionUUID":{"uuid":{"$uuid":"4cecdb39-90db-4c59-b14e-175b888b2d0b"}},"indexes":1,"firstIndex":{"name":"start_1"}}}
{"t":{"$date":"2021-01-17T12:40:56.604-07:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"namespace":"arctic_FEED.LEVEL1","buildUUID":null,"properties":{"v":2,"key":{"start":1},"name":"start_1","background":true},"method":"Hybrid","maxTemporaryMemoryUsageMB":200}}
{"t":{"$date":"2021-01-17T12:40:56.604-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0f6d1c21-ae17-49ed-b300-54f3a946a9f3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:40:56.604-07:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"totalRecords":2,"durationMillis":0}}
{"t":{"$date":"2021-01-17T12:40:56.604-07:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"arctic_FEED.LEVEL1","index":"start_1","keysInserted":2,"durationMillis":0}}
{"t":{"$date":"2021-01-17T12:40:56.611-07:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"0f6d1c21-ae17-49ed-b300-54f3a946a9f3"}}}}
{"t":{"$date":"2021-01-17T12:40:56.611-07:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"0f6d1c21-ae17-49ed-b300-54f3a946a9f3"}},"action":"Single-phase commit"}}
{"t":{"$date":"2021-01-17T12:40:56.611-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_FEED.LEVEL1","index":"start_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:40:56.625-07:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"0f6d1c21-ae17-49ed-b300-54f3a946a9f3"}},"namespace":"arctic_FEED.LEVEL1","uuid":{"uuid":{"$uuid":"4cecdb39-90db-4c59-b14e-175b888b2d0b"}},"indexesBuilt":1,"numIndexesBefore":1,"numIndexesAfter":2}}
{"t":{"$date":"2021-01-17T12:40:56.625-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0f6d1c21-ae17-49ed-b300-54f3a946a9f3"}}}}
----------------------------- Captured stderr call -----------------------------
2021-01-17 12:40:56,634 DEBUG arctic.tickstore.tickstore 1 buckets in 0.000957: approx 104493207 ticks/sec
2021-01-17 12:40:56,637 DEBUG arctic.tickstore.tickstore 1 buckets in 0.00087: approx 114942528 ticks/sec
2021-01-17 12:40:56,641 INFO arctic.tickstore.tickstore Got data in 0.002259 secs, creating DataFrame...
2021-01-17 12:40:56,642 INFO arctic.tickstore.tickstore 1 rows in 0.003142 secs: 318 ticks/sec
2021-01-17 12:40:56,646 INFO arctic.tickstore.tickstore Got data in 0.002865 secs, creating DataFrame...
2021-01-17 12:40:56,646 INFO arctic.tickstore.tickstore 9 rows in 0.003619 secs: 2486 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.000957: approx 104493207 ticks/sec
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.00087: approx 114942528 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.002259 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 1 rows in 0.003142 secs: 318 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.002865 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 9 rows in 0.003619 secs: 2486 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-17 12:40:56,878 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 30423 (total_procs_to_kill=1)
2021-01-17 12:40:56,878 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-17 12:40:56,879 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-17 12:40:56,886 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-17 12:40:56,886 DEBUG pytest_shutil.workspace 
2021-01-17 12:40:56,886 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:56,886 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpmBYwJV
2021-01-17 12:40:56,886 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:40:56,886 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 30423 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpmBYwJV
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
__________________________ test_date_range[tickstore] __________________________

tickstore_lib = <TickStore at 0x7f5d4b1d2b10>
    <ArcticLibrary at 0x7f5dc5bca590, arctic_tes...ost=['127.19.13.98:19515'], document_class=dict, tz_aware=False, connect=True)>

    def test_date_range(tickstore_lib):
        tickstore_lib.write('SYM', DUMMY_DATA)
        df = tickstore_lib.read('SYM', date_range=DateRange(20130101, 20130103), columns=None)
>       assert_array_equal(df['a'].values, np.array([1, np.nan, np.nan]))
E       AssertionError: 
E       Arrays are not equal
E       
E       (shapes (2,), (3,) mismatch)
E        x: array([nan, nan])
E        y: array([ 1., nan, nan])

tests/integration/tickstore/test_ts_read.py:234: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-17T12:41:24.967-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-17T12:41:24.971-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-17T12:41:24.971-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-17T12:41:24.971-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":31181,"port":19515,"dbPath":"/tmp/tmpteNgv5","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-17T12:41:24.971-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-17T12:41:24.971-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-17T12:41:24.971-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.19.13.98","port":19515,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpteNgv5","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-17T12:41:24.973-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:41:24.973-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-17T12:41:26.206-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912486:206742][31181:0x7fc41d872a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:41:26.206-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912486:206831][31181:0x7fc41d872a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:41:26.254-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":1281}}
{"t":{"$date":"2021-01-17T12:41:26.254-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:26.316-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-17T12:41:26.316-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-17T12:41:26.334-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:41:26.335-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"a56912d9-8582-468c-9500-4e23270fb87a"}},"options":{"uuid":{"$uuid":"a56912d9-8582-468c-9500-4e23270fb87a"}}}}
{"t":{"$date":"2021-01-17T12:41:26.404-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:26.404-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-17T12:41:26.404-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-17T12:41:26.405-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6742759c-3f35-4401-b1a1-85c46175b12e"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-17T12:41:26.466-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:26.467-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpteNgv5/diagnostic.data"}}
{"t":{"$date":"2021-01-17T12:41:26.469-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.19.13.98"}}
{"t":{"$date":"2021-01-17T12:41:26.469-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-17T12:41:26.469-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":19515,"ssl":"off"}}
{"t":{"$date":"2021-01-17T12:41:26.469-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ceba0459-bc82-4deb-bf1a-b138f34bb1d5"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:26.565-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:26.565-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:26.645-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:58490","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:26.648-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:58492","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:26.750-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:58494","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:26.753-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:58496","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:26.753-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:58498","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:26.759-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:58500","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:26.760-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:58502","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:26.761-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:58504","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:26.764-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ba3966f7-6172-4daf-820f-b00a696ff8a2"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:26.849-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:26.850-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b9d2b797-84c7-4bb8-804d-e58d87ea201b"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"ba3966f7-6172-4daf-820f-b00a696ff8a2"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-17T12:41:26.874-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:26.874-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b9d2b797-84c7-4bb8-804d-e58d87ea201b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:41:26.874-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b9d2b797-84c7-4bb8-804d-e58d87ea201b"}}}}
{"t":{"$date":"2021-01-17T12:41:26.876-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b622b46d-519b-41be-9c9e-b82f5680ea3d"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:26.941-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:26.942-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4466795c-3924-4d56-bbd6-90247559bb93"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:27.035-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:27.035-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:27.036-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"899aa95c-d801-4c5f-aada-1ab7c3cb8037"}},"namespace":"arctic_test.tickstore","collectionUUID":{"uuid":{"$uuid":"4466795c-3924-4d56-bbd6-90247559bb93"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:41:27.068-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:27.068-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"899aa95c-d801-4c5f-aada-1ab7c3cb8037"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:41:27.068-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"899aa95c-d801-4c5f-aada-1ab7c3cb8037"}}}}
{"t":{"$date":"2021-01-17T12:41:27.069-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9363aefb-205f-4c14-a81b-186810ac89dc"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:27.148-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":13}}
{"t":{"$date":"2021-01-17T12:41:27.163-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:27.163-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-17 12:41:24,820 DEBUG pytest_shutil.workspace 
2021-01-17 12:41:24,820 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:24,820 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpteNgv5
2021-01-17 12:41:24,820 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-17 12:41:24,820 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:24,820 DEBUG pytest_shutil.workspace 
2021-01-17 12:41:24,821 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-17 12:41:24,924 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.19.13.98 --port=19515 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpteNgv5
2021-01-17 12:41:24,925 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-17 12:41:24,925 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-17 12:41:24,925 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:19515
2021-01-17 12:41:25,531 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-17 12:41:25,532 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:19515
2021-01-17 12:41:26,137 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-17 12:41:26,138 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:19515
2021-01-17 12:41:26,745 DEBUG pytest_server_fixtures.base2 sleeping for 0.2 before retrying (4 of 28)
2021-01-17 12:41:26,745 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:19515
2021-01-17 12:41:26,758 DEBUG pytest_server_fixtures.base2 waited 0:00:01.832720 for server to start successfully
2021-01-17 12:41:26,758 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-17 12:41:26,759 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpteNgv5
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.19.13.98 --port=19515 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpteNgv5
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:19515
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:19515
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:19515
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.2 before retrying (4 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:19515
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:01.832720 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stderr call -----------------------------
2021-01-17 12:41:27,170 DEBUG arctic.tickstore.tickstore 1 buckets in 0.0008: approx 125000000 ticks/sec
2021-01-17 12:41:27,174 INFO arctic.tickstore.tickstore Got data in 0.003413 secs, creating DataFrame...
2021-01-17 12:41:27,175 INFO arctic.tickstore.tickstore 5 rows in 0.004537 secs: 1102 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 1 buckets in 0.0008: approx 125000000 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.003413 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 5 rows in 0.004537 secs: 1102 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-17 12:41:27,227 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 31181 (total_procs_to_kill=1)
2021-01-17 12:41:27,227 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-17 12:41:27,228 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-17 12:41:27,235 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-17 12:41:27,235 DEBUG pytest_shutil.workspace 
2021-01-17 12:41:27,235 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:27,235 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpteNgv5
2021-01-17 12:41:27,236 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:27,236 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 31181 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpteNgv5
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_________________ test_date_range_end_not_in_range[tickstore] __________________

tickstore_lib = <TickStore at 0x7f5dc5ba7110>
    <ArcticLibrary at 0x7f5dc5ba7790, arctic_tes...host=['127.19.13.98:6822'], document_class=dict, tz_aware=False, connect=True)>

    def test_date_range_end_not_in_range(tickstore_lib):
        DUMMY_DATA = [
                      {'a': 1.,
                       'b': 2.,
                       'index': dt(2013, 1, 1, tzinfo=mktz('Europe/London'))
                       },
                      {'b': 3.,
                       'c': 4.,
                       'index': dt(2013, 1, 2, 10, 1, tzinfo=mktz('Europe/London'))
                       },
                      ]
    
        tickstore_lib._chunk_size = 1
        tickstore_lib.write('SYM', DUMMY_DATA)
        with patch.object(tickstore_lib._collection, 'find', side_effect=tickstore_lib._collection.find) as f:
            df = tickstore_lib.read('SYM', date_range=DateRange(20130101, dt(2013, 1, 2, 9, 0)), columns=None)
>           assert_array_equal(df['b'].values, np.array([2.]))
E           AssertionError: 
E           Arrays are not equal
E           
E           Mismatched elements: 1 / 1 (100%)
E           Max absolute difference: 1.
E           Max relative difference: 0.5
E            x: array([3.])
E            y: array([2.])

tests/integration/tickstore/test_ts_read.py:300: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-17T12:41:27.375-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-17T12:41:27.377-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-17T12:41:27.377-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-17T12:41:27.377-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":31233,"port":6822,"dbPath":"/tmp/tmpQq0LIm","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-17T12:41:27.377-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-17T12:41:27.377-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-17T12:41:27.377-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.19.13.98","port":6822,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpQq0LIm","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-17T12:41:27.378-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:41:27.378-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-17T12:41:28.204-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912488:204497][31233:0x7fc90cd43a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:41:28.204-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912488:204561][31233:0x7fc90cd43a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:41:28.251-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":873}}
{"t":{"$date":"2021-01-17T12:41:28.252-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.309-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-17T12:41:28.310-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-17T12:41:28.330-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:41:28.330-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"aac1ba3c-f7fb-4446-b369-05786ea0a356"}},"options":{"uuid":{"$uuid":"aac1ba3c-f7fb-4446-b369-05786ea0a356"}}}}
{"t":{"$date":"2021-01-17T12:41:28.394-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.394-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-17T12:41:28.394-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-17T12:41:28.395-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8c51801b-1146-49b0-b523-e1e9ca6e6542"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-17T12:41:28.459-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.460-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpQq0LIm/diagnostic.data"}}
{"t":{"$date":"2021-01-17T12:41:28.461-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-17T12:41:28.461-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.19.13.98"}}
{"t":{"$date":"2021-01-17T12:41:28.462-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":6822,"ssl":"off"}}
{"t":{"$date":"2021-01-17T12:41:28.461-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"eaa1e5c6-894e-46d2-a030-8522e60a3205"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:28.548-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:37394","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:28.550-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:37396","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:28.550-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:37398","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:28.554-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:37400","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:28.556-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:37402","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:28.556-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:37404","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:28.557-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.558-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.560-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"11e12cf5-fd2c-4de1-9732-577248dfa9c3"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:28.624-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.625-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"49d127d0-5fa2-4f7f-891f-4374798e7775"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"11e12cf5-fd2c-4de1-9732-577248dfa9c3"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-17T12:41:28.654-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.654-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"49d127d0-5fa2-4f7f-891f-4374798e7775"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:41:28.654-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"49d127d0-5fa2-4f7f-891f-4374798e7775"}}}}
{"t":{"$date":"2021-01-17T12:41:28.657-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b345328f-1802-4f95-87ae-3ab581a08017"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:28.720-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.721-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"84a67638-1b9d-46dd-a86d-61dae96189af"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:28.844-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.844-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.844-07:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"arctic_test.tickstore","command":{"createIndexes":"tickstore","indexes":[{"key":{"sy":1,"s":1},"background":true,"name":"sy_1_s_1"}],"lsid":{"id":{"$uuid":"8dcd8618-0f62-4d72-9a21-21267b5d7fbc"}},"$db":"arctic_test","$readPreference":{"mode":"primary"}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":2,"w":3}},"Database":{"acquireCount":{"r":2,"w":3}},"Collection":{"acquireCount":{"r":4,"w":2}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"protocol":"op_msg","durationMillis":123}}
{"t":{"$date":"2021-01-17T12:41:28.845-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b439fdcc-1a80-46b5-b1fb-5c3be0559879"}},"namespace":"arctic_test.tickstore","collectionUUID":{"uuid":{"$uuid":"84a67638-1b9d-46dd-a86d-61dae96189af"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:41:28.880-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.880-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b439fdcc-1a80-46b5-b1fb-5c3be0559879"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:41:28.880-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b439fdcc-1a80-46b5-b1fb-5c3be0559879"}}}}
{"t":{"$date":"2021-01-17T12:41:28.881-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6bfdcf8e-9f49-4ba7-8a5d-98ca5f0b1246"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:28.974-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:28.974-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-17 12:41:27,242 DEBUG pytest_shutil.workspace 
2021-01-17 12:41:27,242 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:27,242 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpQq0LIm
2021-01-17 12:41:27,242 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-17 12:41:27,243 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:27,243 DEBUG pytest_shutil.workspace 
2021-01-17 12:41:27,243 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-17 12:41:27,334 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.19.13.98 --port=6822 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpQq0LIm
2021-01-17 12:41:27,335 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-17 12:41:27,335 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-17 12:41:27,335 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:6822
2021-01-17 12:41:27,940 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-17 12:41:27,941 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:6822
2021-01-17 12:41:28,544 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-17 12:41:28,545 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:6822
2021-01-17 12:41:28,553 DEBUG pytest_server_fixtures.base2 waited 0:00:01.218408 for server to start successfully
2021-01-17 12:41:28,554 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-17 12:41:28,555 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpQq0LIm
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.19.13.98 --port=6822 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpQq0LIm
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:6822
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:6822
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:6822
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:01.218408 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stderr call -----------------------------
2021-01-17 12:41:28,982 DEBUG arctic.tickstore.tickstore 2 buckets in 0.000943: approx 2120 ticks/sec
2021-01-17 12:41:28,988 INFO arctic.tickstore.tickstore Got data in 0.004549 secs, creating DataFrame...
2021-01-17 12:41:28,989 INFO arctic.tickstore.tickstore 1 rows in 0.005718 secs: 174 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 2 buckets in 0.000943: approx 2120 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.004549 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 1 rows in 0.005718 secs: 174 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-17 12:41:29,047 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 31233 (total_procs_to_kill=1)
2021-01-17 12:41:29,047 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-17 12:41:29,048 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-17 12:41:29,055 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-17 12:41:29,055 DEBUG pytest_shutil.workspace 
2021-01-17 12:41:29,056 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:29,056 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpQq0LIm
2021-01-17 12:41:29,056 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:29,056 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 31233 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpQq0LIm
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_____________________ test_date_range_no_bounds[tickstore] _____________________

tickstore_lib = <TickStore at 0x7f5dc5a9f3d0>
    <ArcticLibrary at 0x7f5dc5a9f5d0, arctic_tes...ost=['127.19.13.98:28539'], document_class=dict, tz_aware=False, connect=True)>

    def test_date_range_no_bounds(tickstore_lib):
        DUMMY_DATA = [
                      {'a': 1.,
                       'b': 2.,
                       'index': dt(2013, 1, 1, tzinfo=mktz('Europe/London'))
                       },
                      {'a': 3.,
                       'b': 4.,
                       'index': dt(2013, 1, 30, tzinfo=mktz('Europe/London'))
                       },
                      {'b': 5.,
                       'c': 6.,
                       'index': dt(2013, 2, 2, 10, 1, tzinfo=mktz('Europe/London'))
                       },
                      ]
    
        tickstore_lib._chunk_size = 1
        tickstore_lib.write('SYM', DUMMY_DATA)
    
        # 1) No start, no end
        df = tickstore_lib.read('SYM', columns=None)
        assert_array_equal(df['b'].values, np.array([2., 4.]))
        # 1.2) Start before the real start
        df = tickstore_lib.read('SYM', date_range=DateRange(20121231), columns=None)
        assert_array_equal(df['b'].values, np.array([2., 4.]))
        # 2.1) Only go one month out
        df = tickstore_lib.read('SYM', date_range=DateRange(20130101), columns=None)
>       assert_array_equal(df['b'].values, np.array([2., 4.]))
E       AssertionError: 
E       Arrays are not equal
E       
E       (shapes (1,), (2,) mismatch)
E        x: array([4.])
E        y: array([2., 4.])

tests/integration/tickstore/test_ts_read.py:369: AssertionError
---------------------------- Captured stdout setup -----------------------------
{"t":{"$date":"2021-01-17T12:41:35.746-07:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-01-17T12:41:35.748-07:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
{"t":{"$date":"2021-01-17T12:41:35.748-07:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
{"t":{"$date":"2021-01-17T12:41:35.748-07:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":31436,"port":28539,"dbPath":"/tmp/tmpD9ztjM","architecture":"64-bit","host":"flxsa02"}}
{"t":{"$date":"2021-01-17T12:41:35.748-07:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.2","gitVersion":"15e73dc5738d2278b688f8929aee605fe4279b0e","openSSLVersion":"OpenSSL 1.0.2g  1 Mar 2016","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu1604","distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-01-17T12:41:35.748-07:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"16.04"}}}
{"t":{"$date":"2021-01-17T12:41:35.748-07:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.19.13.98","port":28539,"unixDomainSocket":{"enabled":false}},"storage":{"dbPath":"/tmp/tmpD9ztjM","journal":{"enabled":false},"syncPeriodSecs":0.0},"systemLog":{"quiet":true}}}}
{"t":{"$date":"2021-01-17T12:41:35.749-07:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:41:35.749-07:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=11497M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
{"t":{"$date":"2021-01-17T12:41:36.466-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912496:466311][31436:0x7f66e0e49a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:41:36.466-07:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1610912496:466367][31436:0x7f66e0e49a80], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
{"t":{"$date":"2021-01-17T12:41:36.511-07:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":762}}
{"t":{"$date":"2021-01-17T12:41:36.511-07:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:36.570-07:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
{"t":{"$date":"2021-01-17T12:41:36.571-07:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
{"t":{"$date":"2021-01-17T12:41:36.589-07:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
{"t":{"$date":"2021-01-17T12:41:36.590-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"d419dc25-0334-46f9-a561-cccddf3de006"}},"options":{"uuid":{"$uuid":"d419dc25-0334-46f9-a561-cccddf3de006"}}}}
{"t":{"$date":"2021-01-17T12:41:36.657-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:36.657-07:00"},"s":"I",  "c":"COMMAND",  "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"4.4"}}
{"t":{"$date":"2021-01-17T12:41:36.657-07:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
{"t":{"$date":"2021-01-17T12:41:36.658-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"768d7d49-ecfb-4538-ba11-7d54aa94ee58"}},"options":{"capped":true,"size":10485760}}}
{"t":{"$date":"2021-01-17T12:41:36.717-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:36.717-07:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/tmpD9ztjM/diagnostic.data"}}
{"t":{"$date":"2021-01-17T12:41:36.719-07:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.19.13.98"}}
{"t":{"$date":"2021-01-17T12:41:36.719-07:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
{"t":{"$date":"2021-01-17T12:41:36.719-07:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":28539,"ssl":"off"}}
{"t":{"$date":"2021-01-17T12:41:36.719-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1f456554-af7d-419b-9e81-6774968e0b9b"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:36.811-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:36.811-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:36.819-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:37290","client":"conn1","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:36.821-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:37292","client":"conn2","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:36.923-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:37294","client":"conn3","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:36.925-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:37296","client":"conn4","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:36.925-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:37298","client":"conn5","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:36.930-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:37300","client":"conn6","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:36.931-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:37302","client":"conn7","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:36.932-07:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:37304","client":"conn8","doc":{"driver":{"name":"PyMongo","version":"3.11.2"},"os":{"type":"Linux","name":"Ubuntu 16.04 xenial","architecture":"x86_64","version":"4.15.0-128-generic"},"platform":"CPython 2.7.12.final.0"}}}
{"t":{"$date":"2021-01-17T12:41:36.935-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"meta_db.cache","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5da748f5-2da6-4541-b0fa-fc077a680387"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:37.017-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:37.017-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e0695e6c-e058-449e-8a46-d7b735c29719"}},"namespace":"meta_db.cache","collectionUUID":{"uuid":{"$uuid":"5da748f5-2da6-4541-b0fa-fc077a680387"}},"indexes":1,"firstIndex":{"name":"date_1"}}}
{"t":{"$date":"2021-01-17T12:41:37.041-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"meta_db.cache","index":"date_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:37.041-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e0695e6c-e058-449e-8a46-d7b735c29719"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:41:37.041-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e0695e6c-e058-449e-8a46-d7b735c29719"}}}}
{"t":{"$date":"2021-01-17T12:41:37.043-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.ARCTIC","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"de74cd28-51a6-4c82-97dd-866ce6dc3db6"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:37.109-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.ARCTIC","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:37.110-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f2025f9f-ba45-4660-9e2a-9a74099d83ca"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:37.204-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:37.204-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"sy_1_s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:37.204-07:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"30834acf-326e-4d44-a65e-0489d8c0a678"}},"namespace":"arctic_test.tickstore","collectionUUID":{"uuid":{"$uuid":"f2025f9f-ba45-4660-9e2a-9a74099d83ca"}},"indexes":1,"firstIndex":{"name":"s_1"}}}
{"t":{"$date":"2021-01-17T12:41:37.236-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore","index":"s_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:37.236-07:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"30834acf-326e-4d44-a65e-0489d8c0a678"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
{"t":{"$date":"2021-01-17T12:41:37.236-07:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"30834acf-326e-4d44-a65e-0489d8c0a678"}}}}
{"t":{"$date":"2021-01-17T12:41:37.237-07:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"arctic_test.tickstore.metadata","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2a947a95-da1d-41d8-80f4-9a3c8f5cef85"}},"options":{}}}
{"t":{"$date":"2021-01-17T12:41:37.322-07:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":14}}
{"t":{"$date":"2021-01-17T12:41:37.330-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"_id_","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
{"t":{"$date":"2021-01-17T12:41:37.330-07:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"arctic_test.tickstore.metadata","index":"sy_1","commitTimestamp":{"$timestamp":{"t":0,"i":0}}}}
---------------------------- Captured stderr setup -----------------------------
2021-01-17 12:41:35,618 DEBUG pytest_shutil.workspace 
2021-01-17 12:41:35,618 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:35,619 DEBUG pytest_shutil.workspace pytest_shutil created workspace /tmp/tmpD9ztjM
2021-01-17 12:41:35,619 DEBUG pytest_shutil.workspace This workspace will delete itself on teardown
2021-01-17 12:41:35,619 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:35,619 DEBUG pytest_shutil.workspace 
2021-01-17 12:41:35,619 DEBUG pytest_server_fixtures.serverclass.thread Launching thread server.
2021-01-17 12:41:35,709 DEBUG pytest_server_fixtures.serverclass.thread Running server: mongod --bind_ip=127.19.13.98 --port=28539 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpD9ztjM
2021-01-17 12:41:35,710 DEBUG pytest_server_fixtures.serverclass.thread CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
2021-01-17 12:41:35,710 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (1 of 28)
2021-01-17 12:41:35,710 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:28539
2021-01-17 12:41:36,315 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (2 of 28)
2021-01-17 12:41:36,315 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:28539
2021-01-17 12:41:36,919 DEBUG pytest_server_fixtures.base2 sleeping for 0.1 before retrying (3 of 28)
2021-01-17 12:41:36,919 INFO pytest_server_fixtures.mongo Connecting to Mongo at 127.19.13.98:28539
2021-01-17 12:41:36,929 DEBUG pytest_server_fixtures.base2 waited 0:00:01.218779 for server to start successfully
2021-01-17 12:41:36,929 DEBUG pytest_server_fixtures.base2 Server now awake
2021-01-17 12:41:36,930 INFO arctic.fixtures.arctic arctic.fixtures: arctic init()
------------------------------ Captured log setup ------------------------------
DEBUG    pytest_shutil.workspace:workspace.py:52 
DEBUG    pytest_shutil.workspace:workspace.py:53 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:56 pytest_shutil created workspace /tmp/tmpD9ztjM
DEBUG    pytest_shutil.workspace:workspace.py:64 This workspace will delete itself on teardown
DEBUG    pytest_shutil.workspace:workspace.py:65 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:66 
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:77 Launching thread server.
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:89 Running server: mongod --bind_ip=127.19.13.98 --port=28539 --nounixsocket --syncdelay=0 --nojournal --quiet --dbpath=/tmp/tmpD9ztjM
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:90 CWD: /home/cwm/git/bb.FLXSA/quant/arctic_878
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (1 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:28539
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (2 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:28539
DEBUG    pytest_server_fixtures.base2:base2.py:226 sleeping for 0.1 before retrying (3 of 28)
INFO     pytest_server_fixtures.mongo:mongo.py:128 Connecting to Mongo at 127.19.13.98:28539
DEBUG    pytest_server_fixtures.base2:base2.py:229 waited 0:00:01.218779 for server to start successfully
DEBUG    pytest_server_fixtures.base2:base2.py:69 Server now awake
INFO     arctic.fixtures.arctic:arctic.py:23 arctic.fixtures: arctic init()
----------------------------- Captured stderr call -----------------------------
2021-01-17 12:41:37,337 DEBUG arctic.tickstore.tickstore 3 buckets in 0.000936: approx 3205 ticks/sec
2021-01-17 12:41:37,337 INFO arctic.tickstore.tickstore No end provided.  Loading a month for: SYM:None
2021-01-17 12:41:37,341 INFO arctic.tickstore.tickstore Got data in 0.003596 secs, creating DataFrame...
2021-01-17 12:41:37,343 INFO arctic.tickstore.tickstore 2 rows in 0.005298 secs: 377 ticks/sec
2021-01-17 12:41:37,345 INFO arctic.tickstore.tickstore No end provided.  Loading a month for: SYM:None
2021-01-17 12:41:37,347 INFO arctic.tickstore.tickstore Got data in 0.003401 secs, creating DataFrame...
2021-01-17 12:41:37,348 INFO arctic.tickstore.tickstore 2 rows in 0.004177 secs: 478 ticks/sec
2021-01-17 12:41:37,351 INFO arctic.tickstore.tickstore No end provided.  Loading a month for: SYM:None
2021-01-17 12:41:37,353 INFO arctic.tickstore.tickstore Got data in 0.003745 secs, creating DataFrame...
2021-01-17 12:41:37,354 INFO arctic.tickstore.tickstore 1 rows in 0.00454 secs: 220 ticks/sec
------------------------------ Captured log call -------------------------------
DEBUG    arctic.tickstore.tickstore:tickstore.py:612 3 buckets in 0.000936: approx 3205 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:232 No end provided.  Loading a month for: SYM:None
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.003596 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 2 rows in 0.005298 secs: 377 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:232 No end provided.  Loading a month for: SYM:None
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.003401 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 2 rows in 0.004177 secs: 478 ticks/sec
INFO     arctic.tickstore.tickstore:tickstore.py:232 No end provided.  Loading a month for: SYM:None
INFO     arctic.tickstore.tickstore:tickstore.py:355 Got data in 0.003745 secs, creating DataFrame...
INFO     arctic.tickstore.tickstore:tickstore.py:364 1 rows in 0.00454 secs: 220 ticks/sec
--------------------------- Captured stderr teardown ---------------------------
2021-01-17 12:41:37,412 DEBUG pytest_server_fixtures.serverclass.thread Killing process tree for 31436 (total_procs_to_kill=1)
2021-01-17 12:41:37,412 DEBUG pytest_server_fixtures.serverclass.thread Killing 1 processes with signal 9
2021-01-17 12:41:37,412 DEBUG pytest_server_fixtures.serverclass.thread Waiting for 1 processes to die
2021-01-17 12:41:37,419 DEBUG pytest_server_fixtures.serverclass.thread All processes are terminated
2021-01-17 12:41:37,420 DEBUG pytest_shutil.workspace 
2021-01-17 12:41:37,420 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:37,420 DEBUG pytest_shutil.workspace pytest_shutil deleting workspace /tmp/tmpD9ztjM
2021-01-17 12:41:37,420 DEBUG pytest_shutil.workspace =======================================================
2021-01-17 12:41:37,420 DEBUG pytest_shutil.workspace 
---------------------------- Captured log teardown -----------------------------
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:54 Killing process tree for 31436 (total_procs_to_kill=1)
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:35 Killing 1 processes with signal 9
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:39 Waiting for 1 processes to die
DEBUG    pytest_server_fixtures.serverclass.thread:thread.py:43 All processes are terminated
DEBUG    pytest_shutil.workspace:workspace.py:140 
DEBUG    pytest_shutil.workspace:workspace.py:141 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:142 pytest_shutil deleting workspace /tmp/tmpD9ztjM
DEBUG    pytest_shutil.workspace:workspace.py:143 =======================================================
DEBUG    pytest_shutil.workspace:workspace.py:144
_________________________ test_mongo_date_range_query __________________________

    def test_mongo_date_range_query():
        self = create_autospec(TickStore)
        self._collection = create_autospec(Collection)
        self._symbol_query.return_value = {"sy": {"$in" : ["s1" , "s2"]}}
        self._collection.aggregate.return_value = iter([{"_id": "s1", "start": dt(2014, 1, 1, 0, 0, tzinfo=mktz())},
                                                        {"_id": "s2", "start": dt(2014, 1, 1, 12, 0, tzinfo=mktz())}])
    
        self._collection.find_one.side_effect = [
            {'e': dt(2014, 1, 1, 15, 0, tzinfo=mktz())},
            {'e': dt(2014, 1, 2, 12, 0, tzinfo=mktz())}]
    
        query = TickStore._mongo_date_range_query(self, 'sym', DateRange(dt(2014, 1, 2, 0, 0, tzinfo=mktz()),
                                                                         dt(2014, 1, 3, 0, 0, tzinfo=mktz())))
    
        assert self._collection.aggregate.call_args_list == [call([
         {"$match": {"s": {"$lte": dt(2014, 1, 2, 0, 0, tzinfo=mktz())}, "sy": {"$in" : ["s1" , "s2"]}}},
         {"$project": {"_id": 0, "s": 1, "sy": 1}},
         {"$group": {"_id": "$sy", "start": {"$max": "$s"}}},
         {"$sort": {"start": 1}}])]
    
        assert self._collection.find_one.call_args_list == [
            call({'sy': 's1', 's': dt(2014, 1, 1, 0, 0, tzinfo=mktz())}, {'e': 1}),
            call({'sy': 's2', 's': dt(2014, 1, 1, 12, 0, tzinfo=mktz())}, {'e': 1})]
    
>       assert query == {'s': {'$gte': dt(2014, 1, 1, 12, 0, tzinfo=mktz()), '$lte': dt(2014, 1, 3, 0, 0, tzinfo=mktz())}}
E       AssertionError: assert {'s': {'$gte'...ca/Denver'))}} == {'s': {'$gte':...ca/Denver'))}}
E         Differing items:
E         {'s': {'$gte': datetime.datetime(2014, 1, 1, 12, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')), '$lte': datetime.datetime(2014, 1, 3, 0, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/America/Denver'))}} != {'s': {'$gte': datetime.datetime(2014, 1, 1, 12, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/America/Denver')), '$lte': datetime.datetime(2014, 1, 3, 0, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/America/Denver'))}}
E         Full diff:
E         - {'s': {'$gte': datetime.datetime(2014, 1, 1, 12, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')),
E         ?                                              ...
E         
E         ...Full output truncated (4 lines hidden), use '-vv' to show

tests/unit/tickstore/test_tickstore.py:43: AssertionError
_____________________ test_tickstore_to_bucket_with_image ______________________

    def test_tickstore_to_bucket_with_image():
        symbol = 'SYM'
        tz = 'UTC'
        initial_image = {'index': dt(2014, 1, 1, 0, 0, tzinfo=mktz(tz)), 'A': 123, 'B': 54.4, 'C': 'DESC'}
        data = [{'index': dt(2014, 1, 1, 0, 1, tzinfo=mktz(tz)), 'A': 124, 'D': 0},
                {'index': dt(2014, 1, 1, 0, 2, tzinfo=mktz(tz)), 'A': 125, 'B': 27.2}]
        bucket, final_image = TickStore._to_bucket(data, symbol, initial_image)
        assert bucket[COUNT] == 2
        assert bucket[END] == dt(2014, 1, 1, 0, 2, tzinfo=mktz(tz))
        assert set(bucket[COLUMNS]) == set(('A', 'B', 'D'))
        assert set(bucket[COLUMNS]['A']) == set((ROWMASK, DTYPE, DATA))
        assert get_coldata(bucket[COLUMNS]['A']) == ([124, 125], [1, 1, 0, 0, 0, 0, 0, 0])
        assert get_coldata(bucket[COLUMNS]['B']) == ([27.2], [0, 1, 0, 0, 0, 0, 0, 0])
        assert get_coldata(bucket[COLUMNS]['D']) == ([0], [1, 0, 0, 0, 0, 0, 0, 0])
        index = [dt.fromtimestamp(int(i/1000)).replace(tzinfo=mktz(tz)) for i in
                 list(np.cumsum(np.frombuffer(decompress(bucket[INDEX]), dtype='uint64')))]
>       assert index == [i['index'] for i in data]
E       AssertionError: assert [datetime.dat...neinfo/UTC'))] == [datetime.date...neinfo/UTC'))]
E         At index 0 diff: datetime.datetime(2013, 12, 31, 17, 1, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')) != datetime.datetime(2014, 1, 1, 0, 1, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC'))
E         Full diff:
E         - [datetime.datetime(2013, 12, 31, 17, 1, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')),
E         ?                       ^  -----   ----
E         + [datetime.datetime(2014, 1, 1, 0, 1, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')),
E         ?                       ^       ++++++
E         -  datetime.datetime(2013, 12, 31, 17, 2, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC'))]...
E         
E         ...Full output truncated (4 lines hidden), use '-vv' to show

tests/unit/tickstore/test_tickstore.py:97: AssertionError
____________________ test_tickstore_pandas_to_bucket_image _____________________

    def test_tickstore_pandas_to_bucket_image():
        symbol = 'SYM'
        tz = 'UTC'
        initial_image = {'index': dt(2014, 1, 1, 0, 0, tzinfo=mktz(tz)), 'A': 123, 'B': 54.4, 'C': 'DESC'}
        data = [{'A': 120, 'D': 1}, {'A': 122, 'B': 2.0}, {'A': 3, 'B': 3.0, 'D': 1}]
        tick_index = [dt(2014, 1, 2, 0, 0, tzinfo=mktz(tz)),
                      dt(2014, 1, 3, 0, 0, tzinfo=mktz(tz)),
                      dt(2014, 1, 4, 0, 0, tzinfo=mktz(tz))]
        data = pd.DataFrame(data, index=tick_index)
        bucket, final_image = TickStore._pandas_to_bucket(data, symbol, initial_image)
        assert final_image == {'index': dt(2014, 1, 4, 0, 0, tzinfo=mktz(tz)), 'A': 3, 'B': 3.0, 'C': 'DESC', 'D': 1}
        assert IMAGE_DOC in bucket
        assert bucket[COUNT] == 3
        assert bucket[START] == dt(2014, 1, 1, 0, 0, tzinfo=mktz(tz))
        assert bucket[END] == dt(2014, 1, 4, 0, 0, tzinfo=mktz(tz))
        assert set(bucket[COLUMNS]) == set(('A', 'B', 'D'))
        assert set(bucket[COLUMNS]['A']) == set((ROWMASK, DTYPE, DATA))
        assert get_coldata(bucket[COLUMNS]['A']) == ([120, 122, 3], [1, 1, 1, 0, 0, 0, 0, 0])
        values, rowmask = get_coldata(bucket[COLUMNS]['B'])
        assert np.isnan(values[0]) and values[1:] == [2.0, 3.0]
        assert rowmask == [1, 1, 1, 0, 0, 0, 0, 0]
        values, rowmask = get_coldata(bucket[COLUMNS]['D'])
        assert np.isnan(values[1])
        assert values[0] == 1 and values[2] == 1
        assert rowmask == [1, 1, 1, 0, 0, 0, 0, 0]
        index = [dt.fromtimestamp(int(i/1000)).replace(tzinfo=mktz(tz)) for i in
                 list(np.cumsum(np.frombuffer(decompress(bucket[INDEX]), dtype='uint64')))]
>       assert index == tick_index
E       AssertionError: assert [datetime.dat...neinfo/UTC'))] == [datetime.date...neinfo/UTC'))]
E         At index 0 diff: datetime.datetime(2014, 1, 1, 17, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')) != datetime.datetime(2014, 1, 2, 0, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC'))
E         Full diff:
E         - [datetime.datetime(2014, 1, 1, 17, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')),
E         ?                             ^ ----
E         + [datetime.datetime(2014, 1, 2, 0, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')),
E         ?                             ^    +++
E         -  datetime.datetime(2014, 1, 2, 17, 0, tzinfo=tzfile(u'/usr/share/zoneinfo/UTC')),...
E         
E         ...Full output truncated (8 lines hidden), use '-vv' to show

tests/unit/tickstore/test_tickstore.py:162: AssertionError
----------------------------- Captured stderr call -----------------------------
2021-01-17 12:49:43,491 WARNING arctic.tickstore.tickstore NB treating all values as 'exists' - no longer sparse
------------------------------ Captured log call -------------------------------
WARNING  arctic.tickstore.tickstore:tickstore.py:706 NB treating all values as 'exists' - no longer sparse
=============================== warnings summary ===============================
tests/integration/test_arctic.py::test_delete_library
tests/integration/test_arctic.py::test_lib_rename
tests/integration/test_arctic.py::test_lib_rename_namespace
tests/integration/test_arctic.py::test_renaming_returns_new_name_in_cache
tests/integration/test_arctic.py::test_deleting_library_removes_it_from_cache
tests/integration/scripts/test_delete_library.py::test_delete_library
tests/integration/scripts/test_delete_library.py::test_delete_library1
tests/integration/scripts/test_delete_library.py::test_delete_library2
tests/integration/scripts/test_delete_library.py::test_delete_library3
tests/integration/scripts/test_delete_library.py::test_delete_library_doesnt_exist
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/_cache.py:120: DeprecationWarning: update is deprecated. Use replace_one, update_one or update_many instead.
    {"$pull": {"data": item}}

tests/integration/test_arctic.py::test_list_libraries_cached
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/test_arctic.py:250: DeprecationWarning: remove is deprecated. Use delete_one or delete_many instead.
    arctic._conn.meta_db.cache.remove({})

tests/integration/chunkstore/test_chunkstore.py::test_write_dataframe_with_func
  /home/cwm/git/bb.FLXSA/quant/arctic_878/.tox/dev27/lib/python2.7/site-packages/pandas/core/indexing.py:621: SettingWithCopyWarning: 
  A value is trying to be set on a copy of a slice from a DataFrame.
  Try using .loc[row_indexer,col_indexer] = value instead
  
  See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy
    self.obj[item_labels[indexer[info_axis]]] = value

tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size0]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size1]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size2]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size3]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size4]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size5]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size6]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size7]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size8]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size9]
  /home/cwm/git/bb.FLXSA/quant/arctic_878/tests/integration/store/test_pandas_store.py:660: DeprecationWarning: 
  Panel is deprecated and will be removed in a future version.
  The recommended way to represent these types of 3-dimensional data are with a MultiIndex on a DataFrame, via the Panel.to_frame() method
  Alternatively, you can use the xarray package http://xarray.pydata.org/en/stable/.
  Pandas provides a `.to_xarray()` method to help automate this conversion.
  
    pn = panel(*df_size)

tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size0]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size1]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size2]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size3]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size4]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size5]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size6]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size7]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size8]
tests/integration/store/test_pandas_store.py::test_panel_save_read[df_size9]
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/store/_pandas_ndarray_store.py:249: DeprecationWarning: 
  Panel is deprecated and will be removed in a future version.
  The recommended way to represent these types of 3-dimensional data are with a MultiIndex on a DataFrame, via the Panel.to_frame() method
  Alternatively, you can use the xarray package http://xarray.pydata.org/en/stable/.
  Pandas provides a `.to_xarray()` method to help automate this conversion.
  
    return item.iloc[:, 0].unstack().to_panel()

tests/integration/store/test_pandas_store.py::test_panel_save_read_with_nans
  /home/cwm/git/bb.FLXSA/quant/arctic_878/.tox/dev27/lib/python2.7/site-packages/_pytest/python.py:174: DeprecationWarning: 
  Panel is deprecated and will be removed in a future version.
  The recommended way to represent these types of 3-dimensional data are with a MultiIndex on a DataFrame, via the Panel.to_frame() method
  Alternatively, you can use the xarray package http://xarray.pydata.org/en/stable/.
  Pandas provides a `.to_xarray()` method to help automate this conversion.
  
    testfunction(**testargs)

tests/integration/store/test_pandas_store.py::test_panel_save_read_with_nans
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/store/_pandas_ndarray_store.py:250: DeprecationWarning: 
  Panel is deprecated and will be removed in a future version.
  The recommended way to represent these types of 3-dimensional data are with a MultiIndex on a DataFrame, via the Panel.to_frame() method
  Alternatively, you can use the xarray package http://xarray.pydata.org/en/stable/.
  Pandas provides a `.to_xarray()` method to help automate this conversion.
  
    return item.to_panel()

tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
tests/integration/store/test_pandas_store.py::test_duplicate_labels
  /home/cwm/git/bb.FLXSA/quant/arctic_878/.tox/dev27/lib/python2.7/site-packages/numpy/core/numeric.py:2591: DeprecationWarning: elementwise comparison failed; this will raise an error in the future.
    return bool(asarray(a1 == a2).all())

tests/integration/tickstore/test_toplevel.py::test_should_return_data_when_date_range_falls_in_a_single_underlying_library
  /home/cwm/git/bb.FLXSA/quant/arctic_878/arctic/tickstore/tickstore.py:419: FutureWarning: Conversion of the second argument of issubdtype from `int` to `np.signedinteger` is deprecated. In future, it will be treated as `np.int64 == np.dtype(int).type`.
    if np.issubdtype(dtype, int):

-- Docs: https://docs.pytest.org/en/latest/warnings.html
---- generated xml file: /home/cwm/git/bb.FLXSA/quant/arctic_878/junit.xml -----

---------- coverage: platform linux2, python 2.7.12-final-0 ----------
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

= 28 failed, 1289 passed, 3 skipped, 7 xfailed, 12 xpassed, 41 warnings in 3103.04 seconds =
ERROR: InvocationError for command /home/cwm/git/bb.FLXSA/quant/arctic_878/.tox/dev27/bin/python setup.py test --pytest-args=-v (exited with code 1)

commands failed
